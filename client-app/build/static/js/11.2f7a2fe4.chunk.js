(this.webpackJsonpemis=this.webpackJsonpemis||[]).push([[11],{485:function(e,t,n){"use strict";var a={formatDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"dd/MM/yyyy",n=t,a=[{symbol:"dd",value:e.getDate()<10?"0".concat(e.getDate()):e.getDate()},{symbol:"MM",value:e.getMonth()+1<10?"0".concat(e.getMonth()+1):"".concat(e.getMonth()+1)},{symbol:"yyyy",value:e.getFullYear()},{symbol:"hh",value:e.getHours()<10?"0".concat(e.getHours()):e.getHours()},{symbol:"mm",value:e.getMinutes()<10?"0".concat(e.getMinutes()):e.getMinutes()}];return a.map((function(e){return n=n.replace(e.symbol,e.value),e.symbol})),n},formatMoney:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=new Intl.NumberFormat("vi-VN",{maximumFractionDigits:t});return n.format(e)}};t.a=a},721:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return E}));var a=n(1),c=n(150),i=n(15),r=n(0),o=n.n(r),s=n(29),l=n(57),u=n(103),d=n(28),h=n.n(d),f=n(42),j=n(16),b=n(51),g=n(140),m=n(113),v=n(400),p=n(447),x=n(50),O=n(36),y=n(21),D=n(485),w=n(11),M=n.n(w);var N={get:function(e,t){return M.a.get("".concat("/api/timekeeper/timeLogs","/").concat(e,"/").concat(t))}},k=n(115),T=Object(b.a)((function(e){return{cell:Object(j.a)({padding:e.spacing(1),height:e.spacing(8),width:"calc(100%/7)"},e.breakpoints.down("sm"),{padding:e.spacing(.5)}),head:{padding:e.spacing(1),width:"calc(100%/7)",textAlign:"center",fontWeight:"bold"},cellContent:{display:"flex",flexDirection:"column"}}}));function C(){var e=T(),t=o.a.useState([]),n=Object(i.a)(t,2),c=n[0],r=n[1],s=o.a.useContext(k.a),l=s.showAlert,u=s.showBackdrop,d=s.hideBackdrop,j=o.a.useState((new Date).getMonth()+1),b=Object(i.a)(j,2),w=b[0],M=b[1],C=o.a.useState((new Date).getFullYear()),S=Object(i.a)(C,2),F=S[0],E=S[1],I=function(){var e=Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(),e.prev=1,e.t0=r,e.next=5,N.get(w,F);case 5:e.t1=e.sent,(0,e.t0)(e.t1),d(),e.next=14;break;case 10:e.prev=10,e.t2=e.catch(1),d(),l(k.b.FETCH_FAILURE,"error");case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),z=function(e,t){var n=new Date(e);return n.setDate(n.getDate()+t),n},A=function(e,t){return e.getFullYear()===t.getFullYear()&&(e.getMonth()===t.getMonth()&&e.getDate()===t.getDate())},H=function(e){var t=c.find((function(t){return A(new Date(t.date),e)}));return void 0===t?"":t.hasTimeIn?D.a.formatDate(new Date(t.timeIn),"hh:mm"):""},Y=function(e){var t=c.find((function(t){return A(new Date(t.date),e)}));return void 0===t?"":t.hasTimeOut?D.a.formatDate(new Date(t.timeOut),"hh:mm"):""};return o.a.useEffect((function(){I()}),[w,F]),Object(a.jsx)(y.m,{title:"Time Event",noPadding:!0,children:Object(a.jsxs)(p.a,{style:{width:"100%"},container:!0,children:[Object(a.jsxs)(p.a,{item:!0,xs:12,style:{padding:"16px",display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(a.jsx)(y.o,{icon:"chevron-left",onClick:function(){1===w?(M(12),E(F-1)):M(w-1)}}),Object(a.jsx)(x.a,{variant:"subtitle2",children:"".concat(w,"/").concat(F)}),Object(a.jsx)(y.o,{icon:"chevron-right",onClick:function(){12===w?(M(1),E(F+1)):M(w+1)}})]}),Object(a.jsxs)(p.a,{item:!0,xs:12,style:{display:"flex",flexDirection:"row"},children:[Object(a.jsx)("div",{className:e.head,children:"CN"}),Object(a.jsx)("div",{className:e.head,children:"T2"}),Object(a.jsx)("div",{className:e.head,children:"T3"}),Object(a.jsx)("div",{className:e.head,children:"T4"}),Object(a.jsx)("div",{className:e.head,children:"T5"}),Object(a.jsx)("div",{className:e.head,children:"T6"}),Object(a.jsx)("div",{className:e.head,children:"T7"})]}),function(){for(var e=[],t=function(){var e=new Date(F,w-1,1),t=e.getDay();return e.setDate(e.getDate()-t),e}(),n=function(){var e=new Date(F,w,0),t=e.getDay();return e.setDate(e.getDate()-t+6),e}(),a=[],c=t;c<=n;c=z(c,1))0===c.getDay()?(a=[]).push(c):6===c.getDay()?(a.push(c),e.push(a)):a.push(c);return e}().map((function(t,n){return Object(a.jsx)(p.a,{item:!0,xs:12,style:{display:"flex",flexDirection:"row"},children:t.map((function(t,n){return Object(a.jsx)("div",{style:{backgroundColor:t.getMonth()===w-1?"inherit":g.a[100]},className:e.cell,children:t.getMonth()===w-1&&Object(a.jsxs)("div",{className:e.cellContent,children:[Object(a.jsx)(x.a,{style:{width:"100%"},variant:"subtitle2",align:"center",children:D.a.formatDate(t,"dd")}),Object(a.jsxs)(x.a,{style:{fontSize:"0.65rem",color:m.a[800],fontWeight:"bold"},variant:"caption",align:"left",children:[Object(a.jsx)(O.a,{style:{fontSize:"0.5rem"},icon:"chevron-right"})," ".concat(H(t))]}),Object(a.jsxs)(x.a,{style:{fontSize:"0.65rem",color:v.a[800],fontWeight:"bold"},variant:"caption",align:"left",children:[Object(a.jsx)(O.a,{style:{fontSize:"0.5rem"},icon:"chevron-left"})," ".concat(Y(t))]})]})},n)}))},n)}))]})})}function S(){var e=Object(s.j)().path;return Object(a.jsx)(s.d,{children:Object(a.jsx)(s.b,{path:"".concat(e,"/dashboard"),component:C})})}var F=o.a.lazy((function(){return n.e(14).then(n.bind(null,726))}));function E(){var e=Object(s.j)().path,t=o.a.useContext(l.a),n=t.changeSideMenuList,r=t.changeActivePluginId,d=o.a.useState(!1),h=Object(i.a)(d,2),f=h[0],j=h[1];return o.a.useEffect((function(){r(u.e.id),Object(u.b)().then((function(e){j(e)})).catch((function(){j(!1)}))}),[]),o.a.useEffect((function(){var e=f?Object(c.a)(u.a):[];n([].concat(Object(c.a)(u.d),Object(c.a)(e)))}),[f]),Object(a.jsxs)(s.d,{children:[f&&Object(a.jsx)(s.b,{path:"".concat(e,"/admin"),component:F}),Object(a.jsx)(s.b,{path:"".concat(e),component:S})]})}}}]);