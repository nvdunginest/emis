(this.webpackJsonpemis=this.webpackJsonpemis||[]).push([[6],{485:function(e,t,n){"use strict";var a={formatDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"dd/MM/yyyy",n=t,a=[{symbol:"dd",value:e.getDate()<10?"0".concat(e.getDate()):e.getDate()},{symbol:"MM",value:e.getMonth()+1<10?"0".concat(e.getMonth()+1):"".concat(e.getMonth()+1)},{symbol:"yyyy",value:e.getFullYear()},{symbol:"hh",value:e.getHours()<10?"0".concat(e.getHours()):e.getHours()},{symbol:"mm",value:e.getMinutes()<10?"0".concat(e.getMinutes()):e.getMinutes()}];return a.map((function(e){return n=n.replace(e.symbol,e.value),e.symbol})),n},formatMoney:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=new Intl.NumberFormat("vi-VN",{maximumFractionDigits:t});return n.format(e)}};t.a=a},500:function(e,t,n){"use strict";var a=n(0),c=a.createContext({});t.a=c},507:function(e,t,n){"use strict";var a=n(11),c=n.n(a),r="/api/contract/contracts";var i={getMyContractList:function(e){return c.a.get("".concat(r,"/getMyContractList/").concat(e))},getContractList:function(e){return c.a.get("".concat(r,"/getContractList/").concat(e))},getContract:function(e){return c.a.get("".concat(r,"/").concat(e))},updateNetPrice:function(e,t){return c.a.put("".concat(r,"/updateNetPrice/").concat(e),t)},countByCreator:function(){return c.a.get("".concat(r,"/countByCreator"))},countByApprover:function(){return c.a.get("".concat(r,"/countByApprover"))}};t.a=i},611:function(e,t,n){"use strict";var a=n(2),c=n(4),r=n(0),i=(n(5),n(3)),s=n(167),o=n(166),u=n(6),l=n(500),d=r.forwardRef((function(e,t){var n=e.children,u=e.classes,d=e.className,j=e.expandIcon,p=e.IconButtonProps,b=e.onBlur,h=e.onClick,m=e.onFocusVisible,x=Object(c.a)(e,["children","classes","className","expandIcon","IconButtonProps","onBlur","onClick","onFocusVisible"]),f=r.useState(!1),O=f[0],g=f[1],v=r.useContext(l.a),y=v.disabled,N=void 0!==y&&y,C=v.expanded,k=v.toggle;return r.createElement(s.a,Object(a.a)({focusRipple:!1,disableRipple:!0,disabled:N,component:"div","aria-expanded":C,className:Object(i.a)(u.root,d,N&&u.disabled,C&&u.expanded,O&&u.focused),onFocusVisible:function(e){g(!0),m&&m(e)},onBlur:function(e){g(!1),b&&b(e)},onClick:function(e){k&&k(e),h&&h(e)},ref:t},x),r.createElement("div",{className:Object(i.a)(u.content,C&&u.expanded)},n),j&&r.createElement(o.a,Object(a.a)({className:Object(i.a)(u.expandIcon,C&&u.expanded),edge:"end",component:"div",tabIndex:null,role:null,"aria-hidden":!0},p),j))}));t.a=Object(u.a)((function(e){var t={duration:e.transitions.duration.shortest};return{root:{display:"flex",minHeight:48,transition:e.transitions.create(["min-height","background-color"],t),padding:e.spacing(0,2),"&:hover:not($disabled)":{cursor:"pointer"},"&$expanded":{minHeight:64},"&$focused":{backgroundColor:e.palette.action.focus},"&$disabled":{opacity:e.palette.action.disabledOpacity}},expanded:{},focused:{},disabled:{},content:{display:"flex",flexGrow:1,transition:e.transitions.create(["margin"],t),margin:"12px 0","&$expanded":{margin:"20px 0"}},expandIcon:{transform:"rotate(0deg)",transition:e.transitions.create("transform",t),"&:hover":{backgroundColor:"transparent"},"&$expanded":{transform:"rotate(180deg)"}}}}),{name:"MuiAccordionSummary"})(d)},612:function(e,t,n){"use strict";var a=n(2),c=n(4),r=n(0),i=(n(5),n(3)),s=n(6),o=r.forwardRef((function(e,t){var n=e.classes,s=e.className,o=Object(c.a)(e,["classes","className"]);return r.createElement("div",Object(a.a)({className:Object(i.a)(n.root,s),ref:t},o))}));t.a=Object(s.a)((function(e){return{root:{display:"flex",padding:e.spacing(1,2,2)}}}),{name:"MuiAccordionDetails"})(o)},692:function(e,t,n){"use strict";var a=n(2),c=n(176),r=n(175),i=n(120),s=n(177);var o=n(23),u=n(4),l=n(0),d=(n(87),n(5),n(3)),j=n(145),p=n(6),b=n(37),h=n(49),m=n(24),x=n(13),f=l.forwardRef((function(e,t){var n=e.children,c=e.classes,r=e.className,i=e.collapsedHeight,s=void 0===i?"0px":i,p=e.component,f=void 0===p?"div":p,O=e.disableStrictModeCompat,g=void 0!==O&&O,v=e.in,y=e.onEnter,N=e.onEntered,C=e.onEntering,k=e.onExit,w=e.onExited,S=e.onExiting,A=e.style,T=e.timeout,P=void 0===T?b.b.standard:T,I=e.TransitionComponent,E=void 0===I?j.a:I,D=Object(u.a)(e,["children","classes","className","collapsedHeight","component","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),B=Object(m.a)(),R=l.useRef(),M=l.useRef(null),F=l.useRef(),H="number"===typeof s?"".concat(s,"px"):s;l.useEffect((function(){return function(){clearTimeout(R.current)}}),[]);var L=B.unstable_strictMode&&!g,_=l.useRef(null),q=Object(x.a)(t,L?_:void 0),V=function(e){return function(t,n){if(e){var a=L?[_.current,t]:[t,n],c=Object(o.a)(a,2),r=c[0],i=c[1];void 0===i?e(r):e(r,i)}}},U=V((function(e,t){e.style.height=H,y&&y(e,t)})),z=V((function(e,t){var n=M.current?M.current.clientHeight:0,a=Object(h.a)({style:A,timeout:P},{mode:"enter"}).duration;if("auto"===P){var c=B.transitions.getAutoHeightDuration(n);e.style.transitionDuration="".concat(c,"ms"),F.current=c}else e.style.transitionDuration="string"===typeof a?a:"".concat(a,"ms");e.style.height="".concat(n,"px"),C&&C(e,t)})),$=V((function(e,t){e.style.height="auto",N&&N(e,t)})),K=V((function(e){var t=M.current?M.current.clientHeight:0;e.style.height="".concat(t,"px"),k&&k(e)})),W=V(w),G=V((function(e){var t=M.current?M.current.clientHeight:0,n=Object(h.a)({style:A,timeout:P},{mode:"exit"}).duration;if("auto"===P){var a=B.transitions.getAutoHeightDuration(t);e.style.transitionDuration="".concat(a,"ms"),F.current=a}else e.style.transitionDuration="string"===typeof n?n:"".concat(n,"ms");e.style.height=H,S&&S(e)}));return l.createElement(E,Object(a.a)({in:v,onEnter:U,onEntered:$,onEntering:z,onExit:K,onExited:W,onExiting:G,addEndListener:function(e,t){var n=L?e:t;"auto"===P&&(R.current=setTimeout(n,F.current||0))},nodeRef:L?_:void 0,timeout:"auto"===P?null:P},D),(function(e,t){return l.createElement(f,Object(a.a)({className:Object(d.a)(c.container,r,{entered:c.entered,exited:!v&&"0px"===H&&c.hidden}[e]),style:Object(a.a)({minHeight:H},A),ref:q},t),l.createElement("div",{className:c.wrapper,ref:M},l.createElement("div",{className:c.wrapperInner},n)))}))}));f.muiSupportAuto=!0;var O=Object(p.a)((function(e){return{container:{height:0,overflow:"hidden",transition:e.transitions.create("height")},entered:{height:"auto",overflow:"visible"},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}}),{name:"MuiCollapse"})(f),g=n(147),v=n(500),y=n(88),N=l.forwardRef((function(e,t){var n,j=e.children,p=e.classes,b=e.className,h=e.defaultExpanded,m=void 0!==h&&h,x=e.disabled,f=void 0!==x&&x,N=e.expanded,C=e.onChange,k=e.square,w=void 0!==k&&k,S=e.TransitionComponent,A=void 0===S?O:S,T=e.TransitionProps,P=Object(u.a)(e,["children","classes","className","defaultExpanded","disabled","expanded","onChange","square","TransitionComponent","TransitionProps"]),I=Object(y.a)({controlled:N,default:m,name:"Accordion",state:"expanded"}),E=Object(o.a)(I,2),D=E[0],B=E[1],R=l.useCallback((function(e){B(!D),C&&C(e,!D)}),[D,C,B]),M=l.Children.toArray(j),F=(n=M,Object(c.a)(n)||Object(r.a)(n)||Object(i.a)(n)||Object(s.a)()),H=F[0],L=F.slice(1),_=l.useMemo((function(){return{expanded:D,disabled:f,toggle:R}}),[D,f,R]);return l.createElement(g.a,Object(a.a)({className:Object(d.a)(p.root,b,D&&p.expanded,f&&p.disabled,!w&&p.rounded),ref:t,square:w},P),l.createElement(v.a.Provider,{value:_},H),l.createElement(A,Object(a.a)({in:D,timeout:"auto"},T),l.createElement("div",{"aria-labelledby":H.props.id,id:H.props["aria-controls"],role:"region"},L)))}));t.a=Object(p.a)((function(e){var t={duration:e.transitions.duration.shortest};return{root:{position:"relative",transition:e.transitions.create(["margin"],t),"&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:e.palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-child":{"&:before":{display:"none"}},"&$expanded":{margin:"16px 0","&:first-child":{marginTop:0},"&:last-child":{marginBottom:0},"&:before":{opacity:0}},"&$expanded + &":{"&:before":{display:"none"}},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},rounded:{borderRadius:0,"&:first-child":{borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius},"&:last-child":{borderBottomLeftRadius:e.shape.borderRadius,borderBottomRightRadius:e.shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},expanded:{},disabled:{}}}),{name:"MuiAccordion"})(N)},711:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Be}));var a=n(1),c=n(150),r=n(15),i=n(0),s=n.n(i),o=n(29),u=n(57),l=n(99),d=n(28),j=n.n(d),p=n(42),b=n(229),h=n(400),m=n(142),x=n(141),f=n(36),O=n(447),g=n(50),v=n(21),y=n(115),N=n(127),C=n(507);function k(e){var t=e.icon,n=e.title,c=e.value,r=e.color,i=e.path,s=Object(o.g)();return Object(a.jsxs)(O.a,{container:!0,spacing:1,alignItems:"center",style:{cursor:"pointer"},onClick:function(){s.push(i)},children:[Object(a.jsx)(O.a,{item:!0,children:Object(a.jsx)(f.a,{style:{fontSize:"1.5rem",color:r},icon:t})}),Object(a.jsxs)(O.a,{item:!0,children:[Object(a.jsx)(g.a,{variant:"caption",children:n}),Object(a.jsx)(g.a,{variant:"subtitle2",children:"".concat(c," h\u1ee3p \u0111\u1ed3ng")})]})]})}function w(){var e=s.a.useContext(y.a),t=e.showAlert,n=e.showBackdrop,c=e.hideBackdrop,i=s.a.useState(!1),o=Object(r.a)(i,2),u=o[0],l=o[1],d=s.a.useState(!1),f=Object(r.a)(d,2),g=f[0],w=f[1],S=s.a.useState({processing:0,submitted:0,approved:0,waiting:0}),A=Object(r.a)(S,2),T=A[0],P=A[1],I=s.a.useState({submitted:0,approved:0,waiting:0}),E=Object(r.a)(I,2),D=E[0],B=E[1],R=function(e,t){var n=e.find((function(e){return e.contractStatus===t}));return void 0===n?0:n.total},M=function(){var e=Object(p.a)(j.a.mark((function e(){var a,r,i,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(),e.prev=1,e.next=4,N.c.checkCreatorPermission();case 4:if(a=e.sent,l(a),!a){e.next=11;break}return e.next=9,C.a.countByCreator();case 9:r=e.sent,P({processing:R(r,0),approved:R(r,2),submitted:R(r,1),waiting:R(r,3)});case 11:return e.next=13,N.c.checkApproverPermission();case 13:if(i=e.sent,w(i),!i){e.next=20;break}return e.next=18,C.a.countByApprover();case 18:s=e.sent,B({approved:R(s,2),submitted:R(s,1),waiting:R(s,3)});case 20:c(),e.next=31;break;case 23:e.prev=23,e.t0=e.catch(1),t(y.b.ACTION_FAILURE,"error"),l(!1),w(!1),P({waiting:0,submitted:0,approved:0,processing:0}),B({waiting:0,approved:0,submitted:0}),c();case 31:case"end":return e.stop()}}),e,null,[[1,23]])})));return function(){return e.apply(this,arguments)}}();return s.a.useEffect((function(){M()}),[]),Object(a.jsxs)(O.a,{container:!0,spacing:2,children:[u&&Object(a.jsx)(O.a,{item:!0,xs:12,children:Object(a.jsx)(v.m,{title:"Qu\u1ea3n l\xfd h\u1ee3p \u0111\u1ed3ng B",children:Object(a.jsxs)(O.a,{container:!0,spacing:2,children:[Object(a.jsx)(O.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(k,{icon:"sync-alt",title:"H\u1ee3p \u0111\u1ed3ng \u0111ang x\u1eed l\xfd",value:T.processing,color:b.a[700],path:"/b-contract/creator/list/processing"})}),Object(a.jsx)(O.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(k,{icon:"hourglass-half",title:"H\u1ee3p \u0111\u1ed3ng ch\u1edd ph\xea duy\u1ec7t",value:T.submitted,color:h.a[700],path:"/b-contract/creator/list/submitted"})}),Object(a.jsx)(O.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(k,{icon:"check-circle",title:"H\u1ee3p \u0111\u1ed3ng \u0111\xe3 ph\xea duy\u1ec7t",value:T.approved,color:m.a[700],path:"/b-contract/creator/list/approved"})}),Object(a.jsx)(O.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(k,{icon:"history",title:"H\u1ee3p \u0111\u1ed3ng ch\u1edd m\u1edf l\u1ea1i",value:T.waiting,color:x.a[700],path:"/b-contract/creator/list/waiting"})})]})})}),g&&Object(a.jsx)(O.a,{item:!0,xs:12,children:Object(a.jsx)(v.m,{title:"Ph\xea duy\u1ec7t h\u1ee3p \u0111\u1ed3ng B",children:Object(a.jsxs)(O.a,{container:!0,spacing:2,children:[Object(a.jsx)(O.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(k,{icon:"hourglass-half",title:"H\u1ee3p \u0111\u1ed3ng ch\u1edd ph\xea duy\u1ec7t",value:D.submitted,color:h.a[700],path:"/b-contract/approver/list/submitted"})}),Object(a.jsx)(O.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(k,{icon:"check-circle",title:"H\u1ee3p \u0111\u1ed3ng \u0111\xe3 ph\xea duy\u1ec7t",value:D.approved,color:m.a[700],path:"/b-contract/approver/list/approved"})}),Object(a.jsx)(O.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(k,{icon:"history",title:"H\u1ee3p \u0111\u1ed3ng ch\u1edd m\u1edf l\u1ea1i",value:D.waiting,color:x.a[700],path:"/b-contract/approver/list/waiting"})})]})})})]})}var S="GET_CONTRACT_DETAIL_SUCCESS",A="GET_CONTRACT_DETAIL_FAILURE",T={contract:{contractNumber:"",createdBy:"",createdByFullName:"",createdDate:new Date,projectCode:"",projectName:"",status:"",vendorCode:"",vendorName:"",contractType:"D",contractValue:0,paymentTerm:"",items:[],requests:[],attachments:[]}},P={state:T,getContractDetail:function(e){},create:function(e,t){},cancel:function(e,t){},check:function(e,t){},reject:function(e,t){},approve:function(e,t){},updateNetPrice:function(e,t){},createAttachment:function(e,t,n){},removeAttachment:function(e,t){}};function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return{contract:t.payload.contract};case A:return T;default:return e}}var E=n(11),D=n.n(E),B=function(e){return"/api/contract/contracts/".concat(e,"/requests")};var R={create:function(e,t){return D.a.post("".concat(B(e),"/create"),t)},cancel:function(e,t){return D.a.post("".concat(B(e),"/cancel"),t)},check:function(e,t){return D.a.post("".concat(B(e),"/check"),t)},reject:function(e,t){return D.a.post("".concat(B(e),"/reject"),t)},approve:function(e,t){return D.a.post("".concat(B(e),"/approve"),t)}},M=function(e){return"/api/contract/contracts/".concat(e,"/attachments")};var F={create:function(e,t,n){var a=new FormData;return t.map((function(e){return a.append("files",e,e.name),!0})),n.map((function(e){return a.append("privateFiles",e,e.name),!0})),D.a.post("".concat(M(e)),a,{headers:{"Content-Type":"multipart/form-data"}})},remove:function(e,t){return D.a.delete("".concat(M(e),"/").concat(t))}},H=function(){var e=Object(p.a)(j.a.mark((function e(t,n,a){var c,r,i,s,o,u;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=function(){return{type:A}},s=function(e){return{type:S,payload:{contract:e}}},c=a.showBackdrop,r=a.showAlert,i=a.hideBackdrop,c(),e.prev=4,e.next=7,C.a.getContract(t);case 7:u=e.sent,n(s(u)),i(),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(4),n(o()),i(),r(y.b.FETCH_FAILURE,"error");case 17:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t,n,a){return e.apply(this,arguments)}}(),L=function(){var e=Object(p.a)(j.a.mark((function e(t,n,a,c){var r,i,s,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.showBackdrop,i=c.showAlert,s=c.hideBackdrop,""!==n.content){e.next=4;break}return i("N\u1ed9i dung ph\xea duy\u1ec7t kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng!","error"),e.abrupt("return");case 4:if(void 0!==n.steps.find((function(e){return!e.isFinish}))){e.next=7;break}return i("Ph\u1ea3i c\xf3 \xedt nh\u1ea5t m\u1ed9t ng\u01b0\u1eddi ki\u1ec3m tra!","error"),e.abrupt("return");case 7:if(void 0!==(o=n.steps.find((function(e){return e.isFinish})))&&""!==o.userNumber){e.next=11;break}return i("Ch\u01b0a c\xf3 ng\u01b0\u1eddi ph\xea duy\u1ec7t!","error"),e.abrupt("return");case 11:return r(),e.prev=12,e.next=15,R.create(t,n);case 15:i(y.b.ACTION_SUCCESS,"success"),H(t,a,c),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(12),s(),i(y.b.ACTION_FAILURE,"error");case 23:case"end":return e.stop()}}),e,null,[[12,19]])})));return function(t,n,a,c){return e.apply(this,arguments)}}(),_=function(){var e=Object(p.a)(j.a.mark((function e(t,n,a,c){var r,i,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.showBackdrop,i=c.showAlert,s=c.hideBackdrop,r(),e.prev=2,e.next=5,R.cancel(t,n);case 5:i(y.b.ACTION_SUCCESS,"success"),H(t,a,c),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),s(),i(y.b.ACTION_FAILURE,"error");case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n,a,c){return e.apply(this,arguments)}}(),q=function(){var e=Object(p.a)(j.a.mark((function e(t,n,a,c){var r,i,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.showBackdrop,i=c.showAlert,s=c.hideBackdrop,r(),e.prev=2,e.next=5,R.check(t,n);case 5:i(y.b.ACTION_SUCCESS,"success"),H(t,a,c),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),s(),i(y.b.ACTION_FAILURE,"error");case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n,a,c){return e.apply(this,arguments)}}(),V=function(){var e=Object(p.a)(j.a.mark((function e(t,n,a,c){var r,i,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.showBackdrop,i=c.showAlert,s=c.hideBackdrop,""!==n.content){e.next=4;break}return i("N\u1ed9i dung t\u1eeb ch\u1ed1i kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng!","error"),e.abrupt("return");case 4:return r(),e.prev=5,e.next=8,R.reject(t,n);case 8:i(y.b.ACTION_SUCCESS,"success"),H(t,a,c),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),s(),i(y.b.ACTION_FAILURE,"error");case 16:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n,a,c){return e.apply(this,arguments)}}(),U=function(){var e=Object(p.a)(j.a.mark((function e(t,n,a,c){var r,i,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.showBackdrop,i=c.showAlert,s=c.hideBackdrop,r(),e.prev=2,e.next=5,R.approve(t,n);case 5:i(y.b.ACTION_SUCCESS,"success"),H(t,a,c),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),s(),i(y.b.ACTION_FAILURE,"error");case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n,a,c){return e.apply(this,arguments)}}(),z=function(){var e=Object(p.a)(j.a.mark((function e(t,n,a,c){var r,i,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.showBackdrop,i=c.showAlert,s=c.hideBackdrop,r(),e.prev=2,e.next=5,C.a.updateNetPrice(t,n);case 5:i(y.b.ACTION_SUCCESS,"success"),H(t,a,c),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),s(),i(y.b.ACTION_FAILURE,"error");case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n,a,c){return e.apply(this,arguments)}}(),$=function(){var e=Object(p.a)(j.a.mark((function e(t,n,a,r,i){var s,o,u,l,d;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=i.showBackdrop,o=i.showAlert,u=i.hideBackdrop,l=[].concat(Object(c.a)(n),Object(c.a)(a)).map((function(e){return e.name})),d=Array.from(new Set(l)),l.length===d.length){e.next=6;break}return o("Lo\u1ea1i b\u1ecf c\xe1c file tr\xf9ng l\u1eb7p tr\u01b0\u1edbc khi upload!","error"),e.abrupt("return");case 6:return s(),e.prev=7,e.next=10,F.create(t,n,a);case 10:o(y.b.ACTION_SUCCESS,"success"),H(t,r,i),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(7),u(),o(y.b.ACTION_FAILURE,"error");case 18:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(t,n,a,c,r){return e.apply(this,arguments)}}(),K=function(){var e=Object(p.a)(j.a.mark((function e(t,n,a,c){var r,i,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.showBackdrop,i=c.showAlert,s=c.hideBackdrop,r(),e.prev=2,e.next=5,F.remove(t,n);case 5:i(y.b.ACTION_SUCCESS,"success"),H(t,a,c),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),s(),i(y.b.ACTION_FAILURE,"error");case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n,a,c){return e.apply(this,arguments)}}(),W={getContractDetail:H,create:L,cancel:_,check:q,reject:V,approve:U,updateNetPrice:z,createAttachment:$,removeAttachment:K},G=Object(i.createContext)(P);function X(e){var t=e.children,n=s.a.useReducer(I,T),c=Object(r.a)(n,2),o=c[0],u=c[1],l=Object(i.useContext)(y.a),d={state:o,getContractDetail:function(e){W.getContractDetail(e,u,l)},create:function(e,t){W.create(e,t,u,l)},cancel:function(e,t){W.cancel(e,t,u,l)},check:function(e,t){W.check(e,t,u,l)},reject:function(e,t){W.reject(e,t,u,l)},approve:function(e,t){W.approve(e,t,u,l)},updateNetPrice:function(e,t){W.updateNetPrice(e,t,u,l)},createAttachment:function(e,t,n){W.createAttachment(e,t,n,u,l)},removeAttachment:function(e,t){W.removeAttachment(e,t,u,l)}};return Object(a.jsx)(G.Provider,{value:d,children:t})}var Y=n(485),J=n(475),Q=n(44);function Z(){var e=s.a.useContext(y.a),t=e.showAlert,n=e.showBackdrop,i=e.hideBackdrop,o=s.a.useContext(G),u=o.state,l=o.create,d=s.a.useContext(Q.a).state.user,b=u.contract,h=s.a.useState(""),m=Object(r.a)(h,2),x=m[0],f=m[1],C=s.a.useState(""),k=Object(r.a)(C,2),w=k[0],S=k[1],A=s.a.useState(!1),T=Object(r.a)(A,2),P=T[0],I=T[1],E=s.a.useState([]),D=Object(r.a)(E,2),B=D[0],R=D[1],M=s.a.useState({fullName:"",userNumber:""}),F=Object(r.a)(M,2),H=F[0],L=F[1],_=function(){var e=Object(p.a)(j.a.mark((function e(){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(),e.prev=1,e.next=4,N.c.getApproverByKeyWord(w);case 4:a=e.sent,L({fullName:a.fullName,userNumber:a.userNumber}),i(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),t("Kh\xf4ng t\xecm th\u1ea5y ng\u01b0\u1eddi n\xe0y trong danh s\xe1ch ph\xea duy\u1ec7t!","error"),i();case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(p.a)(j.a.mark((function e(){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(),e.prev=1,e.next=4,N.c.getApproverByKeyWord(w);case 4:a=e.sent,B.map((function(e){return e.userNumber})).includes(a.userNumber)||R([].concat(Object(c.a)(B),[{fullName:a.fullName,userNumber:a.userNumber}])),i(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),t("Kh\xf4ng t\xecm th\u1ea5y ng\u01b0\u1eddi n\xe0y trong danh s\xe1ch ph\xea duy\u1ec7t!","error"),i();case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(p.a)(j.a.mark((function e(){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0!==B.find((function(e){return e.userNumber===H.userNumber}))?t("Ng\u01b0\u1eddi ph\xea duy\u1ec7t kh\xf4ng th\u1ec3 \u0111\u1ed3ng th\u1eddi l\xe0 ng\u01b0\u1eddi ki\u1ec3m tra!","error"):(I(!1),n=[].concat(Object(c.a)(B.map((function(e){return{userNumber:e.userNumber,isFinish:!1}}))),[{userNumber:H.userNumber,isFinish:!0}]),a={isReopen:"A"===b.status,content:x,steps:n},l(b.contractNumber,a));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return b.createdBy!==d.number||"P"!==b.status&&"A"!==b.status?Object(a.jsx)(a.Fragment,{}):Object(a.jsxs)(O.a,{item:!0,children:[Object(a.jsx)(v.l,{title:"P"===b.status?"T\u1ea1o y\xeau c\u1ea7u ph\xea duy\u1ec7t":"M\u1edf l\u1ea1i h\u1ee3p \u0111\u1ed3ng",onClose:function(){I(!1)},open:P,onSubmit:V,children:Object(a.jsxs)(O.a,{container:!0,spacing:1,alignItems:"flex-end",children:[Object(a.jsx)(O.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(v.r,{label:"M\xe3 s\u1ed1/H\u1ecd t\xean ng\u01b0\u1eddi ph\xea duy\u1ec7t",type:"text",value:w,onChange:function(e){S(e.target.value)}})}),Object(a.jsxs)(O.a,{item:!0,xs:12,md:6,container:!0,spacing:1,children:[Object(a.jsx)(O.a,{item:!0,children:Object(a.jsx)(v.o,{text:"Ki\u1ec3m tra",color:"primary",icon:"check-circle",variant:"contained",onClick:q})}),Object(a.jsx)(O.a,{item:!0,children:Object(a.jsx)(v.o,{text:"Ph\xea duy\u1ec7t",color:"success",icon:"signature",variant:"contained",onClick:_})})]}),Object(a.jsxs)(O.a,{item:!0,xs:12,container:!0,spacing:1,alignItems:"stretch",children:[Object(a.jsxs)(O.a,{item:!0,xs:12,md:6,children:[Object(a.jsx)(g.a,{variant:"caption",children:"Ng\u01b0\u1eddi ki\u1ec3m tra:"}),Object(a.jsx)("div",{children:B.map((function(e){return Object(a.jsx)(J.a,{style:{margin:"4px"},label:"".concat(e.userNumber,"-").concat(e.fullName),onDelete:function(){var t;t=e.userNumber,R(B.filter((function(e){return e.userNumber!==t})))},color:"primary",variant:"outlined",size:"small"},e.userNumber)}))})]}),Object(a.jsxs)(O.a,{item:!0,xs:12,md:6,children:[Object(a.jsx)(g.a,{variant:"caption",children:"Ng\u01b0\u1eddi ph\xea duy\u1ec7t:"}),Object(a.jsx)("div",{children:""!==H.userNumber&&Object(a.jsx)(J.a,{style:{margin:"4px"},label:"".concat(H.userNumber,"-").concat(H.fullName),color:"primary",variant:"outlined",size:"small"})})]})]}),Object(a.jsx)(O.a,{item:!0,xs:12,children:Object(a.jsx)(v.k,{value:x,onChange:function(e){f(e)}})})]})}),Object(a.jsx)(v.o,{variant:"contained",color:"P"===b.status?"primary":"info",tooltip:"P"===b.status?"T\u1ea1o y\xeau c\u1ea7u ph\xea duy\u1ec7t":"M\u1edf l\u1ea1i h\u1ee3p \u0111\u1ed3ng",icon:"P"===b.status?"play-circle":"sync-alt",text:"P"===b.status?"T\u1ea1o y\xeau c\u1ea7u":"M\u1edf l\u1ea1i",onClick:function(){f(""),R([]),L({fullName:"",userNumber:""}),I(!0)}})]})}function ee(){var e=s.a.useContext(G),t=e.state,n=e.cancel,c=s.a.useContext(Q.a).state.user,i=t.contract,o=s.a.useState(""),u=Object(r.a)(o,2),l=u[0],d=u[1],b=s.a.useState(!1),h=Object(r.a)(b,2),m=h[0],x=h[1],f=function(){var e=Object(p.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(!1),t={content:l},n(i.contractNumber,t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return i.createdBy!==c.number||"S"!==i.status&&"W"!==i.status?Object(a.jsx)(a.Fragment,{}):Object(a.jsxs)(O.a,{item:!0,children:[Object(a.jsx)(v.l,{title:"S"===i.status?"H\u1ee7y y\xeau c\u1ea7u ph\xea duy\u1ec7t":"H\u1ee7y m\u1edf l\u1ea1i h\u1ee3p \u0111\u1ed3ng",onClose:function(){x(!1)},open:m,onSubmit:f,children:Object(a.jsx)(O.a,{container:!0,spacing:1,alignItems:"flex-end",children:Object(a.jsx)(O.a,{item:!0,xs:12,children:Object(a.jsx)(v.k,{value:l,onChange:function(e){d(e)}})})})}),Object(a.jsx)(v.o,{variant:"contained",color:"S"===i.status?"danger":"warning",tooltip:"S"===i.status?"H\u1ee7y y\xeau c\u1ea7u ph\xea duy\u1ec7t":"H\u1ee7y m\u1edf l\u1ea1i h\u1ee3p \u0111\u1ed3ng",icon:"S"===i.status?"stop-circle":"minus-circle",text:"S"===i.status?"H\u1ee7y y\xeau c\u1ea7u":"H\u1ee7y m\u1edf l\u1ea1i",onClick:function(){d(""),x(!0)}})]})}function te(){var e=s.a.useContext(G),t=e.state,n=e.check,c=s.a.useContext(Q.a).state.user,i=t.contract,o=s.a.useState(""),u=Object(r.a)(o,2),l=u[0],d=u[1],b=s.a.useState(!1),h=Object(r.a)(b,2),m=h[0],x=h[1],f=function(){var e=Object(p.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(!1),t={content:l},n(i.contractNumber,t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return function(){if("S"!==i.status&&"W"!==i.status)return!1;var e=i.requests.find((function(e){return e.isActive}));if(void 0===e)return!1;var t=e.steps.find((function(e){return e.userNumber===c.number}));return void 0!==t&&!(t.isApproved||t.isRejected||t.isFinish)}()?Object(a.jsxs)(O.a,{item:!0,children:[Object(a.jsx)(v.l,{title:"S"===i.status?"X\xe1c nh\u1eadn h\u1ee3p \u0111\u1ed3ng":"\u0110\u1ed3ng \xfd m\u1edf l\u1ea1i h\u1ee3p \u0111\u1ed3ng",onClose:function(){x(!1)},open:m,onSubmit:f,children:Object(a.jsx)(O.a,{container:!0,spacing:1,alignItems:"flex-end",children:Object(a.jsx)(O.a,{item:!0,xs:12,children:Object(a.jsx)(v.k,{value:l,onChange:function(e){d(e)}})})})}),Object(a.jsx)(v.o,{variant:"contained",color:"success",tooltip:"S"===i.status?"X\xe1c nh\u1eadn h\u1ee3p \u0111\u1ed3ng":"\u0110\u1ed3ng \xfd m\u1edf l\u1ea1i h\u1ee3p \u0111\u1ed3ng",icon:"check-circle",text:"S"===i.status?"X\xe1c nh\u1eadn":"\u0110\u1ed3ng \xfd",onClick:function(){d(""),x(!0)}})]}):Object(a.jsx)(a.Fragment,{})}function ne(){var e=s.a.useContext(G),t=e.state,n=e.reject,c=s.a.useContext(Q.a).state.user,i=t.contract,o=s.a.useState(""),u=Object(r.a)(o,2),l=u[0],d=u[1],b=s.a.useState(!1),h=Object(r.a)(b,2),m=h[0],x=h[1],f=function(){var e=Object(p.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(!1),t={content:l},n(i.contractNumber,t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return function(){if("S"!==i.status&&"W"!==i.status)return!1;var e=i.requests.find((function(e){return e.isActive}));if(void 0===e)return!1;var t=e.steps.find((function(e){return e.userNumber===c.number}));return void 0!==t&&(!t.isApproved&&!t.isRejected&&!(t.isFinish&&e.steps.filter((function(e){return!e.isApproved&&!e.isRejected&&!e.isFinish})).length>0))}()?Object(a.jsxs)(O.a,{item:!0,children:[Object(a.jsx)(v.l,{title:"S"===i.status?"T\u1eeb ch\u1ed1i ph\xea duy\u1ec7t h\u1ee3p \u0111\u1ed3ng":"T\u1eeb ch\u1ed1i m\u1edf l\u1ea1i h\u1ee3p \u0111\u1ed3ng",onClose:function(){x(!1)},open:m,onSubmit:f,children:Object(a.jsx)(O.a,{container:!0,spacing:1,alignItems:"flex-end",children:Object(a.jsx)(O.a,{item:!0,xs:12,children:Object(a.jsx)(v.k,{value:l,onChange:function(e){d(e)}})})})}),Object(a.jsx)(v.o,{variant:"contained",color:"S"===i.status?"danger":"warning",tooltip:"S"===i.status?"T\u1eeb ch\u1ed1i ph\xea duy\u1ec7t h\u1ee3p \u0111\u1ed3ng":"T\u1eeb ch\u1ed1i m\u1edf l\u1ea1i h\u1ee3p \u0111\u1ed3ng",icon:"S"===i.status?"times-circle":"minus-circle",text:"T\u1eeb ch\u1ed1i",onClick:function(){d(""),x(!0)}})]}):Object(a.jsx)(a.Fragment,{})}function ae(){var e=s.a.useContext(G),t=e.state,n=e.approve,c=s.a.useContext(Q.a).state.user,i=t.contract,o=s.a.useState(""),u=Object(r.a)(o,2),l=u[0],d=u[1],b=s.a.useState(!1),h=Object(r.a)(b,2),m=h[0],x=h[1],f=function(){var e=Object(p.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(!1),t={content:l},n(i.contractNumber,t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return function(){if("S"!==i.status&&"W"!==i.status)return!1;var e=i.requests.find((function(e){return e.isActive}));if(void 0===e)return!1;if(e.steps.filter((function(e){return!e.isApproved&&!e.isRejected&&!e.isFinish})).length>0)return!1;var t=e.steps.find((function(e){return e.userNumber===c.number&&e.isFinish}));return void 0!==t&&(!t.isApproved&&!t.isRejected)}()?Object(a.jsxs)(O.a,{item:!0,children:[Object(a.jsx)(v.l,{title:"S"===i.status?"Ph\xea duy\u1ec7t h\u1ee3p \u0111\u1ed3ng":"Ph\xea duy\u1ec7t m\u1edf l\u1ea1i h\u1ee3p \u0111\u1ed3ng",onClose:function(){x(!1)},open:m,onSubmit:f,children:Object(a.jsx)(O.a,{container:!0,spacing:1,alignItems:"flex-end",children:Object(a.jsx)(O.a,{item:!0,xs:12,children:Object(a.jsx)(v.k,{value:l,onChange:function(e){d(e)}})})})}),Object(a.jsx)(v.o,{variant:"contained",color:"success",tooltip:"S"===i.status?"Ph\xea duy\u1ec7t h\u1ee3p \u0111\u1ed3ng":"Ph\xea duy\u1ec7t m\u1edf l\u1ea1i h\u1ee3p \u0111\u1ed3ng",icon:"signature",text:"Ph\xea duy\u1ec7t",onClick:function(){d(""),x(!0)}})]}):Object(a.jsx)(a.Fragment,{})}var ce=n(51),re=Object(ce.a)((function(){return{main:{lineHeight:1},sub:{lineHeight:1.4,fontSize:"0.7rem",fontStyle:"italic"},head:{color:"#fff",backgroundColor:"#444",textTransform:"uppercase",fontSize:"0.8rem"}}}));function ie(){var e=re(),t=s.a.useContext(G),n=t.state,c=t.updateNetPrice,i=s.a.useContext(Q.a).state.user,o=n.contract,u=s.a.useState([]),l=Object(r.a)(u,2),d=l[0],b=l[1],h=s.a.useState(!1),m=Object(r.a)(h,2),x=m[0],f=m[1],y=function(){var e=Object(p.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f(!1),t={items:[]},d.map((function(e){var n=parseInt(e.newNetpr,10);return e.netpr!==n&&t.items.push({ebeln:e.ebeln,ebelp:e.ebelp,introw:e.introw,isService:e.isService,netpr:n,packno:e.packno}),!0})),c(o.contractNumber,t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return s.a.useEffect((function(){var e=[];o.items.map((function(t){return t.isService?t.subItems.map((function(t){e.push({code:t.code,text:t.text,packno:t.packno,introw:t.introw,isService:!0,netpr:t.netPrice,newNetpr:t.netPrice.toString(),ebeln:"",ebelp:""})})):e.push({code:t.code,text:t.text,ebeln:t.ebeln,ebelp:t.ebelp,isService:!1,netpr:t.netPrice,newNetpr:t.netPrice.toString(),packno:"",introw:""}),!0})),b(e)}),[o]),"P"===o.status&&o.createdBy===i.number?Object(a.jsxs)(O.a,{item:!0,children:[Object(a.jsx)(v.l,{title:"C\u1eadp nh\u1eadt \u0111\u01a1n gi\xe1 net",onClose:function(){f(!1)},open:x,onSubmit:y,children:Object(a.jsx)(O.a,{container:!0,spacing:1,children:d.map((function(t,n){return Object(a.jsxs)(O.a,{container:!0,item:!0,spacing:1,children:[Object(a.jsxs)(O.a,{item:!0,xs:6,children:[Object(a.jsx)(g.a,{className:e.main,variant:"subtitle2",children:t.text}),Object(a.jsx)(g.a,{className:e.sub,variant:"caption",children:""===t.code?"-":t.code})]}),Object(a.jsx)(O.a,{item:!0,xs:6,children:Object(a.jsx)(v.r,{label:"\u0110\u01a1n gi\xe1 Net",value:t.newNetpr,type:"text",onChange:function(e){var n,a,c,r,i;n=t.ebeln,a=t.ebelp,c=t.packno,r=t.introw,i=e.target.value,b(d.map((function(e){return n===e.ebeln&&a===e.ebelp&&c===e.packno&&r===e.introw?(e.newNetpr=i,e):e})))}})})]},n)}))})}),Object(a.jsx)(v.o,{variant:"contained",color:"dark",tooltip:"C\u1eadp nh\u1eadt gi\xe1 net",icon:"pen-square",text:"\u0110\u01a1n gi\xe1 Net",onClick:function(){f(!0)}})]}):Object(a.jsx)(a.Fragment,{})}var se=n(516);function oe(){var e=s.a.useContext(G),t=e.state,n=e.createAttachment,c=s.a.useContext(Q.a).state.user,i=t.contract,o=s.a.useState([]),u=Object(r.a)(o,2),l=u[0],d=u[1],b=s.a.useState([]),h=Object(r.a)(b,2),m=h[0],x=h[1],f=s.a.useState(!1),g=Object(r.a)(f,2),y=g[0],N=g[1],C=function(){var e=Object(p.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N(!1),n(i.contractNumber,l,m);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return"P"===i.status&&i.createdBy===c.number?Object(a.jsxs)(O.a,{item:!0,children:[Object(a.jsx)(v.l,{title:"T\u1ea3i l\xean t\xe0i li\u1ec7u \u0111\xednh k\xe8m",onClose:function(){N(!1)},open:y,onSubmit:C,children:Object(a.jsxs)(O.a,{container:!0,spacing:1,alignItems:"stretch",children:[Object(a.jsx)(O.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(se.a,{showPreviews:!1,showFileNames:!0,filesLimit:10,maxFileSize:25e6,useChipsForPreview:!0,dropzoneText:"T\u1ea3i l\xean t\xe0i li\u1ec7u public",onChange:function(e){d(e)}})}),Object(a.jsx)(O.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(se.a,{showPreviews:!1,showFileNames:!0,filesLimit:10,maxFileSize:25e6,useChipsForPreview:!0,dropzoneText:"T\u1ea3i l\xean t\xe0i li\u1ec7u private",onChange:function(e){x(e)}})})]})}),Object(a.jsx)(v.o,{variant:"contained",color:"dark",tooltip:"\u0110\xednh k\xe8m t\xe0i li\u1ec7u",icon:"paperclip",text:"\u0110\xednh k\xe8m",onClick:function(){N(!0)}})]}):Object(a.jsx)(a.Fragment,{})}function ue(){var e=s.a.useContext(G).state.contract;return Object(a.jsx)(v.m,{title:"Th\xf4ng tin h\u1ee3p \u0111\u1ed3ng",children:Object(a.jsxs)(O.a,{container:!0,alignItems:"stretch",spacing:1,children:[Object(a.jsx)(v.q,{title:"S\u1ed1 h\u1ee3p \u0111\u1ed3ng",content:e.contractNumber}),Object(a.jsx)(v.q,{title:"Lo\u1ea1i h\u1ee3p \u0111\u1ed3ng",content:"D"===e.contractType?"D\u1ef1 \xe1n":"Nguy\xean t\u1eafc"}),Object(a.jsx)(v.q,{title:"D\u1ef1 \xe1n",content:"".concat(e.projectCode,"-").concat(e.projectName)}),Object(a.jsx)(v.q,{title:"Nh\xe0 cung c\u1ea5p",content:"".concat(e.vendorCode,"-").concat(e.vendorName)}),Object(a.jsx)(v.q,{title:"Gi\xe1 tr\u1ecb h\u1ee3p \u0111\u1ed3ng",content:"".concat(Y.a.formatMoney(e.contractValue)," VND")}),Object(a.jsx)(v.q,{title:"\u0110i\u1ec1u kho\u1ea3n thanh to\xe1n",content:e.paymentTerm}),Object(a.jsx)(v.q,{title:"Ng\xe0y t\u1ea1o h\u1ee3p \u0111\u1ed3ng",content:Y.a.formatDate(new Date(e.createdDate),"dd/MM/yyyy")}),Object(a.jsx)(v.q,{title:"Ng\u01b0\u1eddi t\u1ea1o h\u1ee3p \u0111\u1ed3ng",content:"".concat(e.createdBy,"-").concat(e.createdByFullName)}),Object(a.jsxs)(O.a,{item:!0,xs:12,md:6,container:!0,spacing:1,children:[Object(a.jsx)(Z,{}),Object(a.jsx)(ee,{}),Object(a.jsx)(te,{}),Object(a.jsx)(ne,{}),Object(a.jsx)(ae,{}),Object(a.jsx)(ie,{}),Object(a.jsx)(oe,{})]})]})})}var le=n(106),de=n(458),je=n(454),pe=n(455),be=n(456),he=n(459),me=Object(ce.a)((function(){return{main:{lineHeight:1},sub:{lineHeight:1.4,fontSize:"0.7rem",fontStyle:"italic"},head:{color:"#fff",backgroundColor:"#444",textTransform:"uppercase",fontSize:"0.8rem"},warning:{backgroundColor:"#f59542"},danger:{backgroundColor:"#f54242"}}}));function xe(){var e=me(),t=Y.a.formatMoney,n=s.a.useContext(G).state.contract,c=function(t){return t.isService?"":t.planPrice<=0?e.warning:t.planPrice<t.price?e.danger:""},r=function(t){return t.planPrice<=0?e.warning:t.planPrice<t.price?e.danger:""};return Object(a.jsxs)(v.m,{title:"Th\xf4ng tin chi ti\u1ebft h\u1ee3p \u0111\u1ed3ng",noPadding:!0,children:[Object(a.jsx)(le.a,{smDown:!0,implementation:"css",children:Object(a.jsxs)(de.a,{size:"small",style:{padding:"8px"},children:[Object(a.jsx)(je.a,{children:Object(a.jsxs)(pe.a,{children:[Object(a.jsx)(be.a,{className:e.head,rowSpan:2,colSpan:2,children:"H\u1ea1ng m\u1ee5c"}),Object(a.jsx)(be.a,{className:e.head,align:"right",children:"Kh\u1ed1i l\u01b0\u1ee3ng"}),Object(a.jsx)(be.a,{className:e.head,align:"right",children:"\u0110\u01a1n gi\xe1 H\u0110"}),Object(a.jsx)(be.a,{className:e.head,align:"right",children:"\u0110\u01a1n gi\xe1 KH"}),("P"===n.status||"S"===n.status)&&Object(a.jsx)(be.a,{className:e.head,align:"right",children:"\u0110\u01a1n gi\xe1 Net"}),Object(a.jsx)(be.a,{className:e.head,align:"right",children:"Th\xe0nh ti\u1ec1n"})]})}),Object(a.jsx)(he.a,{children:n.items.map((function(i,o){return Object(a.jsxs)(s.a.Fragment,{children:[Object(a.jsxs)(pe.a,{hover:!0,children:[Object(a.jsxs)(be.a,{colSpan:2,children:[Object(a.jsx)(g.a,{className:e.main,variant:"subtitle2",children:i.text}),Object(a.jsx)(g.a,{className:e.sub,variant:"caption",children:""===i.code?"-":i.code})]}),Object(a.jsxs)(be.a,{align:"right",children:[Object(a.jsx)(g.a,{className:e.main,variant:"subtitle2",children:t(i.quantity)}),Object(a.jsx)(g.a,{className:e.sub,variant:"caption",children:i.unit})]}),Object(a.jsxs)(be.a,{className:c(i),align:"right",children:[Object(a.jsx)(g.a,{className:e.main,variant:"subtitle2",children:t(i.price)}),Object(a.jsx)(g.a,{className:e.sub,variant:"caption",children:"VND/".concat(i.per," ").concat(i.unit)})]}),Object(a.jsxs)(be.a,{className:c(i),align:"right",children:[Object(a.jsx)(g.a,{className:e.main,variant:"subtitle2",children:i.planPrice>0?t(i.planPrice):"-"}),Object(a.jsx)(g.a,{className:e.sub,variant:"caption",children:"VND/".concat(i.per," ").concat(i.unit)})]}),("P"===n.status||"S"===n.status)&&Object(a.jsxs)(be.a,{className:c(i),align:"right",children:[Object(a.jsx)(g.a,{className:e.main,variant:"subtitle2",children:i.netPrice>0?t(i.netPrice):"-"}),Object(a.jsx)(g.a,{className:e.sub,variant:"caption",children:"VND/".concat(i.per," ").concat(i.unit)})]}),Object(a.jsxs)(be.a,{align:"right",children:[Object(a.jsx)(g.a,{className:e.main,variant:"subtitle2",children:t(i.price*i.quantity/i.per)}),Object(a.jsx)(g.a,{className:e.sub,variant:"caption",children:"VND"})]})]}),i.isService&&i.subItems.map((function(c,i){return Object(a.jsxs)(pe.a,{hover:!0,children:[Object(a.jsx)(be.a,{style:{width:"8px",padding:0,backgroundColor:"red"}}),Object(a.jsxs)(be.a,{children:[Object(a.jsx)(g.a,{className:e.main,variant:"subtitle2",children:c.text}),Object(a.jsx)(g.a,{className:e.sub,variant:"caption",children:""===c.code?"-":c.code})]}),Object(a.jsxs)(be.a,{align:"right",children:[Object(a.jsx)(g.a,{className:e.main,variant:"subtitle2",children:t(c.quantity)}),Object(a.jsx)(g.a,{className:e.sub,variant:"caption",children:c.unit})]}),Object(a.jsxs)(be.a,{className:r(c),align:"right",children:[Object(a.jsx)(g.a,{className:e.main,variant:"subtitle2",children:t(c.price)}),Object(a.jsx)(g.a,{className:e.sub,variant:"caption",children:"VND/".concat(c.per," ").concat(c.unit)})]}),Object(a.jsxs)(be.a,{className:r(c),align:"right",children:[Object(a.jsx)(g.a,{className:e.main,variant:"subtitle2",children:c.planPrice>0?t(c.planPrice):"-"}),Object(a.jsx)(g.a,{className:e.sub,variant:"caption",children:"VND/".concat(c.per," ").concat(c.unit)})]}),("P"===n.status||"S"===n.status)&&Object(a.jsxs)(be.a,{className:r(c),align:"right",children:[Object(a.jsx)(g.a,{className:e.main,variant:"subtitle2",children:c.netPrice>0?t(c.netPrice):"-"}),Object(a.jsx)(g.a,{className:e.sub,variant:"caption",children:"VND/".concat(c.per," ").concat(c.unit)})]}),Object(a.jsxs)(be.a,{align:"right",children:[Object(a.jsx)(g.a,{className:e.main,variant:"subtitle2",children:t(c.price*c.quantity/c.per)}),Object(a.jsx)(g.a,{className:e.sub,variant:"caption",children:"VND"})]})]},i)}))]},o)}))})]})}),Object(a.jsx)(le.a,{mdUp:!0,implementation:"css",children:Object(a.jsx)(O.a,{container:!0,spacing:2,style:{padding:"8px"},children:n.items.map((function(i,o){return Object(a.jsxs)(s.a.Fragment,{children:[Object(a.jsxs)(O.a,{container:!0,item:!0,spacing:1,children:[Object(a.jsxs)(O.a,{item:!0,xs:12,children:[Object(a.jsx)(g.a,{className:e.main,variant:"subtitle2",children:i.text}),Object(a.jsx)(g.a,{className:e.sub,variant:"caption",children:""===i.code?"-":i.code})]}),Object(a.jsxs)(O.a,{item:!0,container:!0,xs:12,spacing:1,alignItems:"flex-end",children:[Object(a.jsx)(O.a,{item:!0,xs:3,children:Object(a.jsx)(g.a,{className:e.sub,variant:"caption",children:"Kh\u1ed1i l\u01b0\u1ee3ng"})}),Object(a.jsx)(O.a,{item:!0,xs:5,children:Object(a.jsx)(g.a,{align:"right",className:e.main,variant:"subtitle2",children:t(i.quantity)})}),Object(a.jsx)(O.a,{item:!0,xs:4,children:Object(a.jsx)(g.a,{className:e.sub,variant:"caption",children:i.unit})})]}),Object(a.jsxs)(O.a,{className:c(i),item:!0,container:!0,xs:12,spacing:1,alignItems:"flex-end",children:[Object(a.jsx)(O.a,{item:!0,xs:3,children:Object(a.jsx)(g.a,{className:e.sub,variant:"caption",children:"\u0110\u01a1n gi\xe1 H\u0110"})}),Object(a.jsx)(O.a,{item:!0,xs:5,children:Object(a.jsx)(g.a,{align:"right",className:e.main,variant:"subtitle2",children:t(i.price)})}),Object(a.jsx)(O.a,{item:!0,xs:4,children:Object(a.jsx)(g.a,{className:e.sub,variant:"caption",children:"VND/".concat(i.per," ").concat(i.unit)})})]}),Object(a.jsxs)(O.a,{className:c(i),item:!0,container:!0,xs:12,spacing:1,alignItems:"flex-end",children:[Object(a.jsx)(O.a,{item:!0,xs:3,children:Object(a.jsx)(g.a,{className:e.sub,variant:"caption",children:"\u0110\u01a1n gi\xe1 KH"})}),Object(a.jsx)(O.a,{item:!0,xs:5,children:Object(a.jsx)(g.a,{align:"right",className:e.main,variant:"subtitle2",children:i.planPrice>0?t(i.planPrice):"-"})}),Object(a.jsx)(O.a,{item:!0,xs:4,children:Object(a.jsx)(g.a,{className:e.sub,variant:"caption",children:"VND/".concat(i.per," ").concat(i.unit)})})]}),("P"===n.status||"S"===n.status)&&Object(a.jsxs)(O.a,{className:c(i),item:!0,container:!0,xs:12,spacing:1,alignItems:"flex-end",children:[Object(a.jsx)(O.a,{item:!0,xs:3,children:Object(a.jsx)(g.a,{className:e.sub,variant:"caption",children:"\u0110\u01a1n gi\xe1 Net"})}),Object(a.jsx)(O.a,{item:!0,xs:5,children:Object(a.jsx)(g.a,{align:"right",className:e.main,variant:"subtitle2",children:i.netPrice>0?t(i.netPrice):"-"})}),Object(a.jsx)(O.a,{item:!0,xs:4,children:Object(a.jsx)(g.a,{className:e.sub,variant:"caption",children:"VND/".concat(i.per," ").concat(i.unit)})})]}),Object(a.jsxs)(O.a,{item:!0,container:!0,xs:12,spacing:1,alignItems:"flex-end",children:[Object(a.jsx)(O.a,{item:!0,xs:3,children:Object(a.jsx)(g.a,{className:e.sub,variant:"caption",children:"Th\xe0nh ti\u1ec1n"})}),Object(a.jsx)(O.a,{item:!0,xs:5,children:Object(a.jsx)(g.a,{align:"right",className:e.main,variant:"subtitle2",children:t(i.price*i.quantity/i.per)})}),Object(a.jsx)(O.a,{item:!0,xs:4,children:Object(a.jsx)(g.a,{className:e.sub,variant:"caption",children:"VND"})})]})]}),i.isService&&i.subItems.map((function(c,i){return Object(a.jsxs)(O.a,{container:!0,item:!0,spacing:1,style:{paddingLeft:"16px",borderLeft:"12px solid red"},children:[Object(a.jsxs)(O.a,{item:!0,xs:12,children:[Object(a.jsx)(g.a,{className:e.main,variant:"subtitle2",children:c.text}),Object(a.jsx)(g.a,{className:e.sub,variant:"caption",children:""===c.code?"-":c.code})]}),Object(a.jsxs)(O.a,{item:!0,container:!0,xs:12,spacing:1,alignItems:"flex-end",children:[Object(a.jsx)(O.a,{item:!0,xs:3,children:Object(a.jsx)(g.a,{className:e.sub,variant:"caption",children:"Kh\u1ed1i l\u01b0\u1ee3ng"})}),Object(a.jsx)(O.a,{item:!0,xs:5,children:Object(a.jsx)(g.a,{align:"right",className:e.main,variant:"subtitle2",children:t(c.quantity)})}),Object(a.jsx)(O.a,{item:!0,xs:4,children:Object(a.jsx)(g.a,{className:e.sub,variant:"caption",children:c.unit})})]}),Object(a.jsxs)(O.a,{className:r(c),item:!0,container:!0,xs:12,spacing:1,alignItems:"flex-end",children:[Object(a.jsx)(O.a,{item:!0,xs:3,children:Object(a.jsx)(g.a,{className:e.sub,variant:"caption",children:"\u0110\u01a1n gi\xe1 H\u0110"})}),Object(a.jsx)(O.a,{item:!0,xs:5,children:Object(a.jsx)(g.a,{align:"right",className:e.main,variant:"subtitle2",children:t(c.price)})}),Object(a.jsx)(O.a,{item:!0,xs:4,children:Object(a.jsx)(g.a,{className:e.sub,variant:"caption",children:"VND/".concat(c.per," ").concat(c.unit)})})]}),Object(a.jsxs)(O.a,{className:r(c),item:!0,container:!0,xs:12,spacing:1,alignItems:"flex-end",children:[Object(a.jsx)(O.a,{item:!0,xs:3,children:Object(a.jsx)(g.a,{className:e.sub,variant:"caption",children:"\u0110\u01a1n gi\xe1 KH"})}),Object(a.jsx)(O.a,{item:!0,xs:5,children:Object(a.jsx)(g.a,{align:"right",className:e.main,variant:"subtitle2",children:c.planPrice>0?t(c.planPrice):"-"})}),Object(a.jsx)(O.a,{item:!0,xs:4,children:Object(a.jsx)(g.a,{className:e.sub,variant:"caption",children:"VND/".concat(c.per," ").concat(c.unit)})})]}),("P"===n.status||"S"===n.status)&&Object(a.jsxs)(O.a,{className:r(c),item:!0,container:!0,xs:12,spacing:1,alignItems:"flex-end",children:[Object(a.jsx)(O.a,{item:!0,xs:3,children:Object(a.jsx)(g.a,{className:e.sub,variant:"caption",children:"\u0110\u01a1n gi\xe1 Net"})}),Object(a.jsx)(O.a,{item:!0,xs:5,children:Object(a.jsx)(g.a,{align:"right",className:e.main,variant:"subtitle2",children:c.netPrice>0?t(c.netPrice):"-"})}),Object(a.jsx)(O.a,{item:!0,xs:4,children:Object(a.jsx)(g.a,{className:e.sub,variant:"caption",children:"VND/".concat(c.per," ").concat(c.unit)})})]}),Object(a.jsxs)(O.a,{item:!0,container:!0,xs:12,spacing:1,alignItems:"flex-end",children:[Object(a.jsx)(O.a,{item:!0,xs:3,children:Object(a.jsx)(g.a,{className:e.sub,variant:"caption",children:"Th\xe0nh ti\u1ec1n"})}),Object(a.jsx)(O.a,{item:!0,xs:5,children:Object(a.jsx)(g.a,{align:"right",className:e.main,variant:"subtitle2",children:t(c.price*c.quantity/c.per)})}),Object(a.jsx)(O.a,{item:!0,xs:4,children:Object(a.jsx)(g.a,{className:e.sub,variant:"caption",children:"VND"})})]})]},i)}))]},o)}))})})]})}var fe=n(399),Oe=n(6),ge=n(692),ve=n(611),ye=n(612),Ne=Object(Oe.a)({root:{border:"1px solid rgba(0, 0, 0, .125)",boxShadow:"none","&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"},"&$expanded":{margin:"auto"}},expanded:{}})(ge.a),Ce=Object(Oe.a)({root:{color:"#fff",fontStyle:"uppercase",borderBottom:"1px solid rgba(0, 0, 0, .125)",marginBottom:-1,minHeight:40,"&$expanded":{minHeight:40}},content:{margin:0,"& .MuiTypography-body1":{fontSize:"0.9rem"},"&$expanded":{margin:"0"}},expanded:{}})(ve.a),ke=Object(Oe.a)((function(){return{root:{padding:0}}}))(ye.a);function we(){var e=Y.a.formatDate,t=s.a.useContext(G).state.contract,n=s.a.useState([]),i=Object(r.a)(n,2),o=i[0],u=i[1];return s.a.useEffect((function(){u(t.requests.filter((function(e){return e.isActive})).map((function(e){return e.id})))}),[t]),Object(a.jsx)(v.m,{title:"L\u1ecbch s\u1eed ph\xea duy\u1ec7t",noPadding:!0,children:t.requests.map((function(t,n){return Object(a.jsxs)(Ne,{square:!0,expanded:o.includes(t.id),onChange:function(e,n){!function(e,t){t?o.includes(e)||u([].concat(Object(c.a)(o),[e])):u(o.filter((function(t){return t!==e})))}(t.id,n)},children:[Object(a.jsx)(Ce,{style:{backgroundColor:t.isReopen?fe.a[700]:m.a[600]},children:Object(a.jsx)(g.a,{children:t.isReopen?"Y\xeau c\u1ea7u m\u1edf l\u1ea1i h\u1ee3p \u0111\u1ed3ng - ".concat(e(new Date(t.createdTime),"hh:mm dd/MM/yyyy")):"Y\xeau c\u1ea7u ph\xea duy\u1ec7t h\u1ee3p \u0111\u1ed3ng - ".concat(e(new Date(t.createdTime),"hh:mm dd/MM/yyyy"))})}),Object(a.jsx)(ke,{children:Object(a.jsxs)(O.a,{container:!0,children:[Object(a.jsx)(O.a,{item:!0,xs:12,children:Object(a.jsx)("div",{style:{padding:"8px",borderLeft:"4px solid green"},dangerouslySetInnerHTML:{__html:t.content}})}),Object(a.jsx)(O.a,{item:!0,xs:12,children:Object(a.jsx)(de.a,{size:"small",style:{padding:"8px",borderLeft:"4px solid yellow"},children:Object(a.jsx)(he.a,{children:t.steps.map((function(t,n){return Object(a.jsx)(pe.a,{children:Object(a.jsx)(be.a,{children:Object(a.jsxs)(O.a,{container:!0,spacing:1,children:[Object(a.jsx)(O.a,{item:!0,xs:12,md:4,children:"".concat(t.userNumber,"-").concat(t.fullName)}),Object(a.jsxs)(O.a,{item:!0,xs:12,md:2,children:[Object(a.jsx)(f.a,{style:{opacity:.6},icon:"share"}),t.isReceived&&e(new Date(t.receivedTime),"hh:mm dd/MM/yyyy")]}),Object(a.jsxs)(O.a,{item:!0,xs:12,md:2,children:[Object(a.jsx)(f.a,{style:{opacity:.6},icon:"eye"}),t.isSeen&&e(new Date(t.seenTime),"hh:mm dd/MM/yyyy")]}),Object(a.jsxs)(O.a,{item:!0,xs:12,md:2,children:[Object(a.jsx)(f.a,{style:{opacity:.6},icon:"signature"}),t.isApproved&&e(new Date(t.approvedTime),"hh:mm dd/MM/yyyy")]}),Object(a.jsxs)(O.a,{item:!0,xs:12,md:2,children:[Object(a.jsx)(f.a,{style:{opacity:.6},icon:"ban"}),t.isRejected&&e(new Date(t.rejectedTime),"hh:mm dd/MM/yyyy")]}),""!==t.content&&null!==t.content&&Object(a.jsx)(O.a,{item:!0,xs:12,children:Object(a.jsx)("div",{style:{padding:"4px"},dangerouslySetInnerHTML:{__html:t.content}})})]})})},n)}))})})}),""!==t.cancelReason&&null!==t.cancelReason&&Object(a.jsx)(O.a,{item:!0,xs:12,children:Object(a.jsx)("div",{style:{padding:"8px",borderLeft:"4px solid red"},dangerouslySetInnerHTML:{__html:t.cancelReason}})})]})})]},n)}))})}function Se(){var e=Y.a.formatDate,t=s.a.useContext(G),n=t.state,c=t.removeAttachment,r=n.contract,i=s.a.useContext(Q.a).state.user;return Object(a.jsx)(v.m,{title:"T\xe0i li\u1ec7u \u0111\xednh k\xe8m",children:Object(a.jsx)(O.a,{container:!0,spacing:1,children:r.attachments.map((function(t){return Object(a.jsxs)(O.a,{container:!0,item:!0,xs:12,md:6,children:[Object(a.jsx)(O.a,{item:!0,xs:12,children:Object(a.jsxs)(g.a,{variant:"subtitle2",children:[Object(a.jsx)(f.a,{icon:"paperclip"}),t.fileName]})}),Object(a.jsx)(O.a,{item:!0,xs:12,children:Object(a.jsxs)(g.a,{variant:"caption",children:[e(new Date(t.createdTime),"hh:mm dd/MM/yyyy"),t.isPrivate&&Object(a.jsx)(f.a,{icon:"shield-alt"}),Object(a.jsx)(v.j,{filename:t.fileName,url:"/api/contract/contracts/".concat(r.contractNumber,"/attachments/").concat(t.id),label:"T\u1ea3i"}),"P"===r.status&&r.createdBy===i.number&&Object(a.jsx)(v.o,{icon:"trash-alt",text:"X\xf3a",color:"danger",onClick:function(){var e;e=t.id,c(r.contractNumber,e)}})]})})]},t.id)}))})})}function Ae(){var e=Object(o.i)().contractNumber,t=s.a.useContext(G).getContractDetail;return s.a.useEffect((function(){t(e)}),[e]),Object(a.jsxs)(O.a,{container:!0,alignContent:"stretch",spacing:2,children:[Object(a.jsx)(O.a,{item:!0,xs:12,children:Object(a.jsx)(ue,{})}),Object(a.jsx)(O.a,{item:!0,xs:12,children:Object(a.jsx)(xe,{})}),Object(a.jsx)(O.a,{item:!0,xs:12,children:Object(a.jsx)(we,{})}),Object(a.jsx)(O.a,{item:!0,xs:12,children:Object(a.jsx)(Se,{})})]})}function Te(){return Object(a.jsx)(X,{children:Object(a.jsx)(Ae,{})})}function Pe(){var e=Object(o.j)().path;return Object(a.jsxs)(o.d,{children:[Object(a.jsx)(o.b,{path:"".concat(e,"/dashboard"),component:w}),Object(a.jsx)(o.b,{path:"".concat(e,"/contracts/:contractNumber"),component:Te})]})}var Ie=s.a.lazy((function(){return n.e(19).then(n.bind(null,729))})),Ee=s.a.lazy((function(){return n.e(18).then(n.bind(null,730))})),De=s.a.lazy((function(){return n.e(17).then(n.bind(null,731))}));function Be(){var e=Object(o.j)().path,t=s.a.useContext(u.a),n=t.changeSideMenuList,i=t.changeActivePluginId,d=s.a.useState(!1),j=Object(r.a)(d,2),p=j[0],b=j[1],h=s.a.useState(!1),m=Object(r.a)(h,2),x=m[0],f=m[1],O=s.a.useState(!1),g=Object(r.a)(O,2),v=g[0],y=g[1];return s.a.useEffect((function(){i(l.i.id),Object(l.c)().then((function(e){b(e)})).catch((function(){b(!1)})),Object(l.e)().then((function(e){f(e)})).catch((function(){f(!1)})),Object(l.d)().then((function(e){y(e)})).catch((function(){y(!1)}))}),[]),s.a.useEffect((function(){var e=p?Object(c.a)(l.a):[],t=x?Object(c.a)(l.g):[],a=v?Object(c.a)(l.b):[];n([].concat(Object(c.a)(l.h),Object(c.a)(t),Object(c.a)(a),Object(c.a)(e)))}),[p,x,v]),Object(a.jsxs)(o.d,{children:[x&&Object(a.jsx)(o.b,{path:"".concat(e,"/creator"),component:Ee}),v&&Object(a.jsx)(o.b,{path:"".concat(e,"/approver"),component:De}),p&&Object(a.jsx)(o.b,{path:"".concat(e,"/admin"),component:Ie}),Object(a.jsx)(o.b,{path:"".concat(e),component:Pe})]})}}}]);