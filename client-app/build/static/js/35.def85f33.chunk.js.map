{"version":3,"sources":["plugins/ProjectSystem/components/RoleManager.tsx","plugins/ProjectSystem/pages/Planners.tsx","plugins/ProjectSystem/pages/Designers.tsx","plugins/ProjectSystem/pages/Estimators.tsx","plugins/ProjectSystem/pages/Supervisors.tsx","plugins/ProjectSystem/pages/Forms.tsx","plugins/ProjectSystem/routes/PrivateRoutes.tsx"],"names":["RoleManager","title","role","dispatch","useDispatch","React","useState","users","setUsers","userNumber","setUserNumber","isLoading","setIsLoading","handleCreate","a","userService","create","alertActions","show","alertMessage","ACTION_SUCCESS","refresh","ACTION_FAILURE","handleRemove","_userNumber","remove","getAll","FETCH_FAILURE","useEffect","Grid","container","alignItems","spacing","item","xs","md","label","required","type","value","onChange","event","target","icon","color","text","disabled","variant","onClick","Divider","filter","x","map","user","index","Chip","style","margin","fullName","onDelete","size","Planners","Designers","Estimators","Supervisors","Forms","PrivateRoutes","path","useRouteMatch","component"],"mappings":"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","file":"static/js/35.def85f33.chunk.js","sourcesContent":["import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport {\n  Divider,\n  Chip,\n  Grid,\n} from '@material-ui/core';\nimport {\n  IconButton,\n  TextField,\n  Frame,\n} from '@nvdunginest/emis-mui';\n\nimport {\n  AppDispatch,\n  alertMessage,\n  alertActions,\n} from '../../../core';\n\nimport userService, { ModeratorModel, RoleType } from '../services/user';\n\ntype Props = {\n  title: string;\n  role: RoleType;\n}\n\nexport default function RoleManager({\n  title,\n  role,\n}: Props): JSX.Element {\n  const dispatch: AppDispatch = useDispatch();\n\n  const [users, setUsers] = React.useState<ModeratorModel[]>([]);\n  const [userNumber, setUserNumber] = React.useState<string>('');\n  const [isLoading, setIsLoading] = React.useState<boolean>(false);\n\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setUserNumber(event.target.value);\n  };\n\n  const handleCreate = async () => {\n    setIsLoading(true);\n    try {\n      await userService.create(role, userNumber);\n      dispatch(alertActions.show(alertMessage.ACTION_SUCCESS, 'success'));\n      refresh();\n    }\n    catch {\n      dispatch(alertActions.show(alertMessage.ACTION_FAILURE, 'error'));\n      setIsLoading(false);\n    }\n  }\n\n  const handleRemove = async (_userNumber: string) => {\n    setIsLoading(true);\n    try {\n      await userService.remove(role, _userNumber);\n      dispatch(alertActions.show(alertMessage.ACTION_SUCCESS, 'success'));\n      refresh();\n    }\n    catch {\n      dispatch(alertActions.show(alertMessage.ACTION_FAILURE, 'error'));\n      setIsLoading(false);\n    }\n  }\n\n  const refresh = async () => {\n    setIsLoading(true);\n    try {\n      setUsers(await userService.getAll());\n    }\n    catch {\n      dispatch(alertActions.show(alertMessage.FETCH_FAILURE, 'error'));\n    }\n    finally {\n      setIsLoading(false);\n    }\n  }\n\n  React.useEffect(() => {\n    refresh();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <Frame title={title}>\n      <Grid container alignItems=\"flex-end\" spacing={1}>\n        <Grid item xs={12} md={6}>\n          <TextField\n            label=\"Mã số nhân viên\"\n            required\n            type=\"text\"\n            value={userNumber}\n            onChange={handleChange}\n          />\n        </Grid>\n        <Grid item xs={12} md={6}>\n          <IconButton\n            icon=\"plus\"\n            color=\"primary\"\n            text=\"Thêm\"\n            disabled={isLoading}\n            variant=\"contained\"\n            onClick={() => { handleCreate(); }}\n          />\n        </Grid>\n        <Grid item xs={12}>\n          <Divider />\n        </Grid>\n        <Grid item xs={12}>\n          {users.filter(x => x.role === role).map((user, index) => (\n            <Chip\n              style={{ margin: '4px' }}\n              key={index}\n              label={`${user.userNumber}-${user.fullName}`}\n              onDelete={() => { handleRemove(user.userNumber); }}\n              color=\"primary\"\n              variant=\"outlined\"\n              size=\"small\"\n              disabled={isLoading}\n            />\n          ))}\n        </Grid>\n      </Grid>\n    </Frame>\n  )\n}\n","import React from 'react';\nimport {\n\tGrid,\n} from '@material-ui/core';\n\nimport RoleManager from '../components/RoleManager';\n\nexport default function Planners(): JSX.Element {\n\n\treturn (\n\t\t<Grid container spacing={1}>\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<RoleManager title=\"Kế hoạch\" role=\"PLANNER_ROLE\" />\n\t\t\t</Grid>\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<RoleManager title=\"Phê duyệt dữ liệu\" role=\"APPROVER_PLANNER_ROLE\" />\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}\n","import React from 'react';\nimport {\n\tGrid,\n} from '@material-ui/core';\n\nimport RoleManager from '../components/RoleManager';\n\nexport default function Designers(): JSX.Element {\n\n\treturn (\n\t\t<Grid container spacing={1}>\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<RoleManager title=\"Khối lượng\" role=\"DESIGNER_ROLE\" />\n\t\t\t</Grid>\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<RoleManager title=\"Phê duyệt dữ liệu\" role=\"APPROVER_DESIGNER_ROLE\" />\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}","import React from 'react';\nimport {\n\tGrid,\n} from '@material-ui/core';\n\nimport RoleManager from '../components/RoleManager';\n\nexport default function Estimators(): JSX.Element {\n\n\treturn (\n\t\t<Grid container spacing={1}>\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<RoleManager title=\"Dự toán\" role=\"ESTIMATOR_ROLE\" />\n\t\t\t</Grid>\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<RoleManager title=\"Phê duyệt dữ liệu\" role=\"APPROVER_ESTIMATOR_ROLE\" />\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}","import React from 'react';\nimport {\n\tGrid,\n} from '@material-ui/core';\n\nimport RoleManager from '../components/RoleManager';\n\nexport default function Supervisors(): JSX.Element {\n\n\treturn (\n\t\t<Grid container spacing={1}>\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<RoleManager title=\"Giám sát\" role=\"SUPERVISOR_ROLE\" />\n\t\t\t</Grid>\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<RoleManager title=\"Phê duyệt dữ liệu\" role=\"APPROVER_SUPERVISOR_ROLE\" />\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}","import React from 'react';\nimport {\n\tGrid,\n} from '@material-ui/core';\n\nimport RoleManager from '../components/RoleManager';\n\nexport default function Forms(): JSX.Element {\n\n\treturn (\n\t\t<Grid container spacing={1}>\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<RoleManager title=\"Biểu mẫu\" role=\"FORM_ROLE\" />\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}","import React from 'react';\nimport {\n  Switch,\n  Route,\n  useRouteMatch,\n} from 'react-router-dom';\n\nimport Planners from '../pages/Planners';\nimport Designers from '../pages/Designers';\nimport Estimators from '../pages/Estimators';\nimport Supervisors from '../pages/Supervisors';\nimport Forms from '../pages/Forms';\n\nexport default function PrivateRoutes(): JSX.Element {\n  const { path } = useRouteMatch();\n\n  return (\n    <Switch>\n      <Route path={`${path}/planners`} component={Planners} />\n      <Route path={`${path}/designers`} component={Designers} />\n      <Route path={`${path}/estimators`} component={Estimators} />\n      <Route path={`${path}/supervisors`} component={Supervisors} />\n      <Route path={`${path}/forms`} component={Forms} />\n    </Switch>\n  );\n}\n"],"sourceRoot":""}