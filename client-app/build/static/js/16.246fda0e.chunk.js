(this.webpackJsonpemis=this.webpackJsonpemis||[]).push([[16],{687:function(e,t,a){"use strict";var c=a(9),n=a.n(c),i="/api/project-system/serviceMasters";var r={getAll:function(){return n.a.get(i)},getByFilter:function(e,t){return""!==e?n.a.get("".concat(i,"/search?filter=").concat(e,"&page=").concat(t)):n.a.get("".concat(i,"/search?page=").concat(t))},get:function(e){return n.a.get("".concat(i,"/").concat(e))}};t.a=r},688:function(e,t,a){"use strict";var c=a(9),n=a.n(c),i="/api/project-system/materials";var r={getAll:function(){return n.a.get(i)},getByFilter:function(e,t){return""!==e?n.a.get("".concat(i,"/search?filter=").concat(e,"&page=").concat(t)):n.a.get("".concat(i,"/search?page=").concat(t))}};t.a=r},887:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return J}));var c=a(209),n=a(25),i=a(0),r=a.n(i),s=a(27),l=a(47),o=a(18),j=a(111),u=a(46),b=a(2);function O(){return Object(b.jsx)(u.e,{text:"H\u1ec6 TH\u1ed0NG QU\u1ea2N L\xdd D\u1ef0 \xc1N"})}var f=a(22),h=a.n(f),d=a(40),p=a(533),g=a(417),x=a(418),m=a(414),v=a(415),y=a(416),S=a(419),N=a(39),w=a(112),E=a(380),k=a(687),A=Object(p.a)({root:{width:"100%",height:"100%"},container:{maxHeight:"calc(100% - 120px)",overflowY:"scroll"},cell:{fontSize:"0.75rem"}}),R={page:1};function T(e){var t=e.filter,a=A(),i=Object(l.b)(),s=r.a.useState(R),j=Object(n.a)(s,2),u=j[0],O=j[1],f=r.a.useState([]),p=Object(n.a)(f,2),w=p[0],E=p[1],T=r.a.useState(!1),z=Object(n.a)(T,2),C=z[0],I=z[1],L=r.a.useState(!1),M=Object(n.a)(L,2),F=M[0],_=M[1],H=function(){var e=Object(d.a)(h.a.mark((function e(){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),e.prev=1,e.next=4,k.a.getByFilter(t,u.page);case 4:(a=e.sent).length>0?E([].concat(Object(c.a)(w),Object(c.a)(a))):I(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),i(o.alertActions.show(o.alertMessage.ACTION_FAILURE,"error"));case 11:return e.prev=11,_(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return r.a.useEffect((function(){E([]),_(!1),I(!1),O({page:1})}),[t]),r.a.useEffect((function(){H()}),[u]),Object(b.jsx)(g.a,{className:a.container,children:Object(b.jsxs)(x.a,{stickyHeader:!0,"aria-label":"sticky table",size:"small",children:[Object(b.jsx)(m.a,{children:Object(b.jsxs)(v.a,{children:[Object(b.jsx)(y.a,{style:{padding:0,width:16}}),Object(b.jsx)(y.a,{className:a.cell,align:"left",children:"M\xe3 c\xf4ng t\xe1c"}),Object(b.jsx)(y.a,{className:a.cell,align:"left",children:"Di\u1ec5n gi\u1ea3i"}),Object(b.jsx)(y.a,{className:a.cell,align:"left",children:"\u0110\u01a1n v\u1ecb"})]})}),Object(b.jsxs)(S.a,{children:[w.map((function(e,t){return Object(b.jsxs)(v.a,{children:[Object(b.jsx)(y.a,{style:{padding:0,width:16}}),Object(b.jsx)(y.a,{className:a.cell,align:"left",children:e.code}),Object(b.jsx)(y.a,{className:a.cell,align:"left",children:e.description}),Object(b.jsx)(y.a,{className:a.cell,align:"left",children:e.unit})]},t)})),!C&&!F&&Object(b.jsxs)(v.a,{children:[Object(b.jsx)(y.a,{style:{padding:0,width:16,backgroundColor:N.a.green[300]}}),Object(b.jsx)(y.a,{className:a.cell,colSpan:3,align:"left",style:{cursor:"pointer",fontStyle:"italic"},onClick:function(){return O({page:u.page+1})},children:"+ T\u1ea3i th\xeam"})]}),F&&Object(b.jsxs)(v.a,{children:[Object(b.jsx)(y.a,{style:{padding:0,width:16,backgroundColor:N.a.green[300]}}),Object(b.jsx)(y.a,{className:a.cell,colSpan:3,align:"left",style:{cursor:"pointer",fontStyle:"italic"},children:"\u0110ang t\u1ea3i d\u1eef li\u1ec7u"})]})]})]})})}function z(){var e=A(),t=r.a.useState(""),a=Object(n.a)(t,2),c=a[0],i=a[1],s=r.a.useState(""),l=Object(n.a)(s,2),o=l[0],j=l[1];return r.a.useEffect((function(){var e=setTimeout((function(){return j(c)}),1e3);return function(){return clearTimeout(e)}}),[c]),Object(b.jsxs)(w.a,{className:e.root,children:[Object(b.jsx)(E.a,{container:!0,children:Object(b.jsx)(E.a,{container:!0,item:!0,xs:12,style:{padding:"8px"},direction:"row",spacing:1,alignItems:"flex-end",children:Object(b.jsx)(E.a,{item:!0,xs:12,children:Object(b.jsx)(u.p,{name:"search",label:"T\xecm ki\u1ebfm",type:"text",value:c,onChange:function(e){i(e.target.value)}})})})}),Object(b.jsx)(T,{filter:o})]})}var C=a(688),I=Object(p.a)({root:{width:"100%",height:"100%"},container:{maxHeight:"calc(100% - 120px)",overflowY:"scroll"},cell:{fontSize:"0.75rem"}}),L={page:1};function M(e){var t=e.filter,a=I(),i=Object(l.b)(),s=r.a.useState(L),j=Object(n.a)(s,2),u=j[0],O=j[1],f=r.a.useState([]),p=Object(n.a)(f,2),w=p[0],E=p[1],k=r.a.useState(!1),A=Object(n.a)(k,2),R=A[0],T=A[1],z=r.a.useState(!1),M=Object(n.a)(z,2),F=M[0],_=M[1],H=function(){var e=Object(d.a)(h.a.mark((function e(){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),e.prev=1,e.next=4,C.a.getByFilter(t,u.page);case 4:(a=e.sent).length>0?E([].concat(Object(c.a)(w),Object(c.a)(a))):T(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),i(o.alertActions.show(o.alertMessage.ACTION_FAILURE,"error"));case 11:return e.prev=11,_(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return r.a.useEffect((function(){E([]),_(!1),T(!1),O({page:1})}),[t]),r.a.useEffect((function(){H()}),[u]),console.log(w),Object(b.jsx)(g.a,{className:a.container,children:Object(b.jsxs)(x.a,{stickyHeader:!0,"aria-label":"sticky table",size:"small",children:[Object(b.jsx)(m.a,{children:Object(b.jsxs)(v.a,{children:[Object(b.jsx)(y.a,{style:{padding:0,width:16}}),Object(b.jsx)(y.a,{className:a.cell,align:"left",children:"M\xe3 c\xf4ng t\xe1c"}),Object(b.jsx)(y.a,{className:a.cell,align:"left",children:"Di\u1ec5n gi\u1ea3i"}),Object(b.jsx)(y.a,{className:a.cell,align:"left",children:"\u0110\u01a1n v\u1ecb"})]})}),Object(b.jsxs)(S.a,{children:[w.map((function(e,t){return Object(b.jsxs)(v.a,{children:[Object(b.jsx)(y.a,{style:{padding:0,width:16}}),Object(b.jsx)(y.a,{className:a.cell,align:"left",children:e.code}),Object(b.jsx)(y.a,{className:a.cell,align:"left",children:e.description}),Object(b.jsx)(y.a,{className:a.cell,align:"left",children:e.unit})]},t)})),!R&&!F&&Object(b.jsxs)(v.a,{children:[Object(b.jsx)(y.a,{style:{padding:0,width:16,backgroundColor:N.a.green[300]}}),Object(b.jsx)(y.a,{className:a.cell,colSpan:3,align:"left",style:{cursor:"pointer",fontStyle:"italic"},onClick:function(){return O({page:u.page+1})},children:"+ T\u1ea3i th\xeam"})]}),F&&Object(b.jsxs)(v.a,{children:[Object(b.jsx)(y.a,{style:{padding:0,width:16,backgroundColor:N.a.green[300]}}),Object(b.jsx)(y.a,{className:a.cell,colSpan:3,align:"left",style:{cursor:"pointer",fontStyle:"italic"},children:"\u0110ang t\u1ea3i d\u1eef li\u1ec7u"})]})]})]})})}function F(){var e=I(),t=r.a.useState(""),a=Object(n.a)(t,2),c=a[0],i=a[1],s=r.a.useState(""),l=Object(n.a)(s,2),o=l[0],j=l[1];return r.a.useEffect((function(){var e=setTimeout((function(){return j(c)}),1e3);return function(){return clearTimeout(e)}}),[c]),Object(b.jsxs)(w.a,{className:e.root,children:[Object(b.jsx)(E.a,{container:!0,children:Object(b.jsx)(E.a,{container:!0,item:!0,xs:12,style:{padding:"8px"},direction:"row",spacing:1,alignItems:"flex-end",children:Object(b.jsx)(E.a,{item:!0,xs:12,children:Object(b.jsx)(u.p,{name:"search",label:"T\xecm ki\u1ebfm",type:"text",value:c,onChange:function(e){i(e.target.value)}})})})}),Object(b.jsx)(M,{filter:o})]})}function _(){var e=Object(s.i)().path;return Object(b.jsxs)(s.c,{children:[Object(b.jsx)(s.a,{path:"".concat(e,"/dashboard"),component:O}),Object(b.jsx)(s.a,{path:"".concat(e,"/service-masters"),component:z}),Object(b.jsx)(s.a,{path:"".concat(e,"/materials"),component:F})]})}var H=r.a.lazy((function(){return a.e(35).then(a.bind(null,881))})),B=r.a.lazy((function(){return a.e(6).then(a.bind(null,889))})),D=r.a.lazy((function(){return a.e(9).then(a.bind(null,877))})),U=r.a.lazy((function(){return a.e(11).then(a.bind(null,885))})),P=r.a.lazy((function(){return a.e(12).then(a.bind(null,893))})),G=r.a.lazy((function(){return a.e(22).then(a.bind(null,898))}));function J(){var e=Object(s.i)().path,t=Object(l.b)(),a=r.a.useState(!1),i=Object(n.a)(a,2),u=i[0],O=i[1],f=r.a.useState(!1),h=Object(n.a)(f,2),d=h[0],p=h[1],g=r.a.useState(!1),x=Object(n.a)(g,2),m=x[0],v=x[1],y=r.a.useState(!1),S=Object(n.a)(y,2),N=S[0],w=S[1],E=r.a.useState(!1),k=Object(n.a)(E,2),A=k[0],R=k[1],T=r.a.useState(!1),z=Object(n.a)(T,2),C=z[0],I=z[1];return r.a.useEffect((function(){t(o.layoutActions.setActivePluginId(j.j.id)),Object(j.b)().then((function(e){O(e)})).catch((function(){O(!1)})),Object(j.d)("PLANNER_ROLE").then((function(e){p(e)})).catch((function(){p(!1)})),Object(j.d)("DESIGNER_ROLE").then((function(e){v(e)})).catch((function(){v(!1)})),Object(j.d)("ESTIMATOR_ROLE").then((function(e){w(e)})).catch((function(){w(!1)})),Object(j.d)("SUPERVISOR_ROLE").then((function(e){R(e)})).catch((function(){R(!1)})),Object(j.d)("FORM_ROLE").then((function(e){I(e)})).catch((function(){I(!1)}))}),[]),r.a.useEffect((function(){var e=u?Object(c.a)(j.a):[],a=d?Object(c.a)(j.i):[],n=m?Object(c.a)(j.e):[],i=N?Object(c.a)(j.f):[],r=A?Object(c.a)(j.k):[],s=C?Object(c.a)(j.g):[];t(o.layoutActions.setMenuList([].concat(Object(c.a)(j.h),Object(c.a)(a),Object(c.a)(n),Object(c.a)(i),Object(c.a)(r),Object(c.a)(s),Object(c.a)(e))))}),[u,d,m,N,A,C]),Object(b.jsxs)(s.c,{children:[d&&Object(b.jsx)(s.a,{path:"".concat(e,"/planner"),component:B}),m&&Object(b.jsx)(s.a,{path:"".concat(e,"/designer"),component:D}),N&&Object(b.jsx)(s.a,{path:"".concat(e,"/estimator"),component:U}),A&&Object(b.jsx)(s.a,{path:"".concat(e,"/supervisor"),component:P}),C&&Object(b.jsx)(s.a,{path:"".concat(e,"/form"),component:G}),u&&Object(b.jsx)(s.a,{path:"".concat(e,"/admin"),component:H}),Object(b.jsx)(s.a,{path:"".concat(e),component:_})]})}}}]);