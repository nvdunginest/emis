(this.webpackJsonpemis=this.webpackJsonpemis||[]).push([[33],{883:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return R}));var r=n(0),c=n.n(r),a=n(27),s=n(379),i=n(22),o=n.n(i),l=n(40),u=n(25),j=n(47),x=n(405),O=n(466),b=n(46),h=n(18),p=n(169),d=n(2);function f(e){var t=e.title,n=e.role,r=Object(j.b)(),a=c.a.useState([]),i=Object(u.a)(a,2),f=i[0],m=i[1],E=c.a.useState(""),v=Object(u.a)(E,2),R=v[0],A=v[1],g=c.a.useState(!1),_=Object(u.a)(g,2),w=_[0],N=_[1],S=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.prev=1,e.next=4,p.a.create(n,R);case 4:r(h.alertActions.show(h.alertMessage.ACTION_SUCCESS,"success")),C(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),r(h.alertActions.show(h.alertMessage.ACTION_FAILURE,"error")),N(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.prev=1,e.next=4,p.a.remove(n,t);case 4:r(h.alertActions.show(h.alertMessage.ACTION_SUCCESS,"success")),C(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),r(h.alertActions.show(h.alertMessage.ACTION_FAILURE,"error")),N(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.prev=1,e.t0=m,e.next=5,p.a.getAll();case 5:e.t1=e.sent,(0,e.t0)(e.t1),e.next=12;break;case 9:e.prev=9,e.t2=e.catch(1),r(h.alertActions.show(h.alertMessage.FETCH_FAILURE,"error"));case 12:return e.prev=12,N(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(){return e.apply(this,arguments)}}();return c.a.useEffect((function(){C()}),[]),Object(d.jsx)(b.l,{title:t,children:Object(d.jsxs)(s.a,{container:!0,alignItems:"flex-end",spacing:1,children:[Object(d.jsx)(s.a,{item:!0,xs:12,md:6,children:Object(d.jsx)(b.p,{label:"M\xe3 s\u1ed1 nh\xe2n vi\xean",required:!0,type:"text",value:R,onChange:function(e){A(e.target.value)}})}),Object(d.jsx)(s.a,{item:!0,xs:12,md:6,children:Object(d.jsx)(b.n,{icon:"plus",color:"primary",text:"Th\xeam",disabled:w,variant:"contained",onClick:function(){S()}})}),Object(d.jsx)(s.a,{item:!0,xs:12,children:Object(d.jsx)(x.a,{})}),Object(d.jsx)(s.a,{item:!0,xs:12,children:f.filter((function(e){return e.role===n})).map((function(e,t){return Object(d.jsx)(O.a,{style:{margin:"4px"},label:"".concat(e.userNumber,"-").concat(e.fullName),onDelete:function(){I(e.userNumber)},color:"primary",variant:"outlined",size:"small",disabled:w},t)}))})]})})}function m(){return Object(d.jsxs)(s.a,{container:!0,spacing:1,children:[Object(d.jsx)(s.a,{item:!0,xs:12,children:Object(d.jsx)(f,{title:"K\u1ebf ho\u1ea1ch",role:"PLANNER_ROLE"})}),Object(d.jsx)(s.a,{item:!0,xs:12,children:Object(d.jsx)(f,{title:"Ph\xea duy\u1ec7t d\u1eef li\u1ec7u",role:"APPROVER_PLANNER_ROLE"})})]})}function E(){return Object(d.jsxs)(s.a,{container:!0,spacing:1,children:[Object(d.jsx)(s.a,{item:!0,xs:12,children:Object(d.jsx)(f,{title:"Kh\u1ed1i l\u01b0\u1ee3ng",role:"DESIGNER_ROLE"})}),Object(d.jsx)(s.a,{item:!0,xs:12,children:Object(d.jsx)(f,{title:"Ph\xea duy\u1ec7t d\u1eef li\u1ec7u",role:"APPROVER_DESIGNER_ROLE"})})]})}function v(){return Object(d.jsxs)(s.a,{container:!0,spacing:1,children:[Object(d.jsx)(s.a,{item:!0,xs:12,children:Object(d.jsx)(f,{title:"D\u1ef1 to\xe1n",role:"ESTIMATOR_ROLE"})}),Object(d.jsx)(s.a,{item:!0,xs:12,children:Object(d.jsx)(f,{title:"Ph\xea duy\u1ec7t d\u1eef li\u1ec7u",role:"APPROVER_ESTIMATOR_ROLE"})})]})}function R(){var e=Object(a.i)().path;return Object(d.jsxs)(a.c,{children:[Object(d.jsx)(a.a,{path:"".concat(e,"/planners"),component:m}),Object(d.jsx)(a.a,{path:"".concat(e,"/designers"),component:E}),Object(d.jsx)(a.a,{path:"".concat(e,"/estimators"),component:v})]})}}}]);