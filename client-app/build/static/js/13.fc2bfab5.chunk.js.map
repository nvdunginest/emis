{"version":3,"sources":["configs/format.ts","plugins/Ebi/constants/report.ts","plugins/Ebi/services/reportViewer.ts","plugins/Ebi/pages/Dashboard.tsx","plugins/Ebi/pages/Efm01.tsx","plugins/Ebi/services/efm.ts","plugins/Ebi/services/efm03.ts","plugins/Ebi/pages/Efm02.tsx","plugins/Ebi/pages/Efm03.tsx","plugins/Ebi/pages/Efm04.tsx","plugins/Ebi/common/helpers.ts","plugins/Ebi/common/efm05Helpers.ts","plugins/Ebi/constants/colors.ts","plugins/Ebi/components/common.tsx","plugins/Ebi/components/SCurveChart.tsx","plugins/Ebi/components/PieChart.tsx","plugins/Ebi/components/GapBar2Chart.tsx","plugins/Ebi/pages/Efm05.tsx","plugins/Ebi/common/efm06Helpers.ts","plugins/Ebi/components/efm06/Efm06BarChart.tsx","plugins/Ebi/components/efm06/Efm06PieChart.tsx","plugins/Ebi/components/efm06/Efm06SCurveChart.tsx","plugins/Ebi/pages/Efm06.tsx","plugins/Ebi/pages/Efm07.tsx","plugins/Ebi/common/efm08Helpers.ts","plugins/Ebi/components/efm08/Efm08AreaChart.tsx","plugins/Ebi/components/efm08/Efm08MixedChart.tsx","plugins/Ebi/pages/Efm08.tsx","plugins/Ebi/pages/Efm09.tsx","plugins/Ebi/pages/Enterprise.tsx","plugins/Ebi/pages/Pfm.tsx","plugins/Ebi/routes/PublicRoutes.tsx","plugins/Ebi/Main.tsx"],"names":["format","formatDate","date","formatString","result","symbol","value","getDate","getMonth","getFullYear","getHours","getMinutes","map","f","replace","formatMoney","frac","numberFormat","Intl","NumberFormat","maximumFractionDigits","minimumFractionDigits","reportList","name","link","text","role","icon","apiUrl","service","get","reportCode","axios","getPermission","create","projectCode","userNumber","post","remove","delete","Dashboard","useStyles","makeStyles","theme","content","display","height","flexDirection","alignItems","margin","spacing","breakpoints","down","menu","width","title","flexGrow","textTransform","textDecoration","Efm02","classes","className","Grid","container","style","padding","item","Typography","variant","filename","url","label","getEfm02Report","getEfm05Report","getEfm06Report","getEfm08Report","dispatch","useDispatch","React","useState","setReport","data","projects","setEfm03Report","refresh","a","loadingActions","show","Promise","all","efmService","efm03Service","alertActions","alertMessage","FETCH_FAILURE","hide","useEffect","Efm03","Efm04","getPeriodsByFiscalYear","fiscalYear","getCurrentPeriod","now","Date","month","getPeriodLabel","period","toFixed","getFiscalYear","getVersionType","version","getReportType","dataType","versionPrefix","parseInt","dataTypeSuffix","helpers","getSCurveChartData","baselineData","filter","x","reportType","rebaselineData","forecastData","baseline","dispersion","reduce","acc","val","rebaseline","forecast","accBaseline","accumulation","accRebaseline","accForecast","getPieChartData","categories","currentPeriod","category","reportTypes","includes","getGap2ChartData","forecastVal","rebaselineVal","gap","Math","abs","colors","chartColorPalettes","renderSplitLine","ReferenceLine","values","strokeWidth","stroke","strokeDasharray","Label","position","SCurveChart","tickFormatter","tooltipFormatter","useTheme","matches","useMediaQuery","baselineColor","rebaselineColor","forecastColor","align","ResponsiveContainer","ComposedChart","barCategoryGap","barGap","top","right","bottom","left","CartesianGrid","XAxis","dataKey","type","scale","YAxis","mirror","yAxisId","orientation","Tooltip","formatter","Legend","Bar","isAnimationActive","fill","Line","dot","r","activeDot","PieChart","Pie","nameKey","cx","cy","outerRadius","_entry","index","Cell","tickValueFormatter","GapBar2Chart","planColor","actualColor","gapColor","BarChart","stackOffset","stackId","generateReportType","start","end","i","push","salaryCategories","Efm05","report","salaryPieData","setSalaryPieData","pieData","setPieData","dataProvider","xs","length","md","total","getBarChartRow","totalData","balanceData","totalVal","balanceVal","balance","remaining","getPieChartRow","periods","b","periodData","depositData","creditData","depositVal","creditVal","deposit","credit","getBarChartData","Efm06BarChart","totalColor","balanceColor","remainingColor","Efm06PieChart","Efm06SCurveChart","depositColor","creditColor","Efm06","Efm07","sortProject","outDueRatio","totalA","inDue","outDue1","outDue31","outDue91","outDue181","totalB","getAreaChartData","inDueVal","outDue1Val","outDue31Val","outDue91Val","outDue181Val","getMixedChartData","project","projectName","sort","slice","Efm08AreaChart","inDueColor","outDue1Color","outDue31Color","outDue91Color","outDue181Color","Area","Efm08MixedChart","outDueRatioColor","labelFormatter","find","undefined","Efm08","Efm09","colorPalettes","box","cursor","backgroundColor","color","Enterprise","permissions","setPermissions","userService","checkRolePermission","then","catch","finally","p","sm","to","justifyContent","borderRadius","marginRight","fontSize","noWrap","fontWeight","Pfm","setProjects","viewerService","Table","TableHead","TableRow","TableCell","TableBody","PublicRoutes","path","useRouteMatch","component","Efm01","exact","PrivateRoutes","lazy","Main","isAdmin","setIsAdmin","layoutActions","setActivePluginId","plugin","id","checkAdmin","adminList","adminMenuList","setMenuList","menuList"],"mappings":"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","file":"static/js/13.fc2bfab5.chunk.js","sourcesContent":["function formatDate(date: Date, formatString = 'dd/MM/yyyy'): string {\n  let result = formatString;\n\n  const format = [\n    {\n      symbol: 'dd',\n      value: date.getDate() < 10 ? `0${date.getDate()}` : date.getDate(),\n    },\n    {\n      symbol: 'MM',\n      value: date.getMonth() + 1 < 10 ? `0${date.getMonth() + 1}` : `${date.getMonth() + 1}`,\n    },\n    {\n      symbol: 'yyyy',\n      value: date.getFullYear(),\n    },\n    {\n      symbol: 'hh',\n      value: date.getHours() < 10 ? `0${date.getHours()}` : date.getHours(),\n    },\n    {\n      symbol: 'mm',\n      value: date.getMinutes() < 10 ? `0${date.getMinutes()}` : date.getMinutes(),\n    },\n  ];\n\n  format.map((f) => {\n    result = result.replace(f.symbol, f.value as string);\n    return f.symbol;\n  });\n\n  return result;\n}\n\nfunction formatMoney(value: number, frac = 0): string {\n  const numberFormat = new Intl.NumberFormat('vi-VN', { maximumFractionDigits: frac, minimumFractionDigits: frac });\n  return numberFormat.format(value);\n}\n\nconst format = {\n  formatDate,\n  formatMoney,\n};\n\nexport default format;\n","import { IconProp } from '@fortawesome/fontawesome-svg-core';\nimport { RoleType } from '../services/user';\n\nexport const reportList: { name: string,link: string, text: string, role: RoleType, icon: IconProp }[] = [\n  { name: 'Efm01',link: '/ebi/efm01', text: 'Báo cáo PL-BS-CF', role: 'EFM01_ROLE', icon: 'chart-line' },\n  { name: 'Efm02',link: '/ebi/efm02', text: 'Báo cáo CPTC ròng', role: 'EFM02_ROLE', icon: 'chart-line' },\n  { name: 'Efm03',link: '/ebi/efm03', text: 'Báo cáo SL-DT-TV', role: 'EFM03_ROLE', icon: 'chart-line' },\n  { name: 'Efm04',link: '/ebi/efm04', text: 'Báo cáo Chi phí tiền chi', role: 'EFM04_ROLE', icon: 'chart-line' },\n  { name: 'Efm05',link: '/ebi/efm05', text: 'Báo cáo Chi phí QLDN', role: 'EFM05_ROLE', icon: 'chart-line' },\n  { name: 'Efm06',link: '/ebi/efm06', text: 'Báo cáo Vay/Gửi ngân hàng', role: 'EFM06_ROLE', icon: 'chart-line' },\n  { name: 'Efm07',link: '/ebi/efm07', text: 'Báo cáo Cân đối CF', role: 'EFM07_ROLE', icon: 'chart-line' },\n  { name: 'Efm08',link: '/ebi/efm08', text: 'Báo cáo Tuổi nợ', role: 'EFM08_ROLE', icon: 'chart-line' },\n  { name: 'Efm09',link: '/ebi/efm09', text: 'Báo cáo KPI Công ty', role: 'EFM09_ROLE', icon: 'chart-line' },\n]","import axios from 'axios';\n\nconst apiUrl = '/api/ebi/report-viewers';\n\nexport type ViewerModel = Viewer & {\n  projectName: string;\n}\n\nexport type Viewer = {\n  reportCode: string;\n  projectCode: string;\n  userNumber: string;\n  userFullName: string;\n}\n\nexport type ProjectViewerModel = {\n  projectCode: string;\n  projectName: string;\n  viewers: Viewer[];\n}\n\nfunction get(reportCode: string): Promise<ProjectViewerModel[]> {\n  return axios.get(`${apiUrl}?reportCode=${reportCode}`);\n}\n\nfunction getPermission(reportCode: string): Promise<ViewerModel[]> {\n  return axios.get(`${apiUrl}/my-permission?reportCode=${reportCode}`);\n}\n\nfunction create(reportCode: string, projectCode: string, userNumber: string): Promise<unknown> {\n  return axios.post(`${apiUrl}?reportCode=${reportCode}&projectCode=${projectCode}&userNumber=${userNumber}`);\n}\n\nfunction remove(reportCode: string, projectCode: string, userNumber: string): Promise<unknown> {\n  return axios.delete(`${apiUrl}?reportCode=${reportCode}&projectCode=${projectCode}&userNumber=${userNumber}`);\n}\n\nconst service = {\n  get,\n  getPermission,\n  create,\n  remove,\n};\n\nexport default service;\n","import React from 'react';\nimport {\n  DashboardForm\n} from '@nvdunginest/emis-mui';\n\nconst pageText = 'HỆ THỐNG BÁO CÁO THÔNG MNH';\n\nexport default function Dashboard(): JSX.Element {\n  return <DashboardForm text={pageText} />\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n  Typography,\n  Grid,\n} from '@material-ui/core';\nimport {\n  DownloadButton,\n} from '@nvdunginest/emis-mui';\n\nconst useStyles = makeStyles((theme) => ({\n  content: {\n    display: 'flex',\n    height: 'calc(100% - 32px)',\n    flexDirection: 'column',\n    alignItems: 'center',\n    margin: theme.spacing(-1),\n    [theme.breakpoints.down('xs')]: {\n      margin: 0,\n      height: 'calc(100% - 48px)',\n    },\n  },\n  menu: {\n    display: 'flex',\n    width: '100%',\n  },\n  title: {\n    flexGrow: 1,\n    textTransform: 'uppercase',\n  },\n  link: {\n    textDecoration: 'none',\n  },\n}));\n\nexport default function Efm02(): JSX.Element {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.content}>\n      <Grid container spacing={1} style={{ padding: '8px' }}>\n        <Grid container alignItems=\"center\" item spacing={1} className={classes.menu}>\n          <Grid item className={classes.title}>\n            <Typography variant=\"h6\">Báo cáo PL-BS-CF</Typography>\n          </Grid>\n          <Grid item>\n            <DownloadButton\n              filename=\"Efm01.xlsx\"\n              url=\"/api/ebi/efm/get-excel?report=efm01\"\n              label=\"Tải báo cáo\"\n            />\n          </Grid>\n        </Grid>\n      </Grid>\n    </div>\n  )\n}","import axios from 'axios';\n\nimport {\n  ReportItem,\n} from './types';\n\nexport type BankReport = {\n  bankCode: string;\n  bankName: string;\n  data: ReportItem[];\n}\n\nexport type ProjectReport = {\n  projectCode: string;\n  projectName: string;\n  data: ReportItem[];\n}\n\nconst apiUrl = '/api/ebi/efm';\n\nfunction getEfm02Report(): Promise<ReportItem[]> {\n  return axios.get(`${apiUrl}/efm02`);\n}\n\nfunction getEfm05Report(): Promise<ReportItem[]> {\n  return axios.get(`${apiUrl}/efm05`);\n}\n\nfunction getEfm06Report(): Promise<BankReport[]> {\n  return axios.get(`${apiUrl}/efm06`);\n}\n\nfunction getEfm08Report(): Promise<ProjectReport[]> {\n  return axios.get(`${apiUrl}/efm08`);\n}\n\nconst service = {\n  getEfm02Report,\n  getEfm05Report,\n  getEfm06Report,\n  getEfm08Report,\n};\n\nexport default service;\n","import axios from 'axios';\n\nimport {\n  ReportItem,\n} from './types';\n\nconst apiUrl = '/api/ebi/efm03';\n\nexport type ProjectReport = {\n  projectCode: string;\n  projectName: string;\n  data: ReportItem[];\n}\n\nexport type SummaryReport = {\n  data: ReportItem[];\n  projects: ProjectReport[];\n}\n\nfunction get(): Promise<SummaryReport> {\n  return axios.get(apiUrl);\n}\n\nconst service = {\n  get,\n};\n\nexport default service;\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n  Typography,\n  Grid,\n} from '@material-ui/core';\nimport {\n  DownloadButton,\n} from '@nvdunginest/emis-mui';\n\nimport {\n  AppDispatch,\n  alertActions,\n  alertMessage,\n  loadingActions,\n} from '../../../core';\n\nimport efmService from '../services/efm';\nimport efm03Service, { SummaryReport } from '../services/efm03';\nimport { ReportItem } from '../services/types';\n\nimport dataProvider from '../common/efm02Helpers';\n\nimport DetailChart from '../components/efm02/DetailChart';\nimport OverviewChart from '../components/efm02/OverviewChart';\n\nconst useStyles = makeStyles((theme) => ({\n  content: {\n    display: 'flex',\n    height: 'calc(100% - 32px)',\n    flexDirection: 'column',\n    alignItems: 'center',\n    margin: theme.spacing(-1),\n    [theme.breakpoints.down('xs')]: {\n      margin: 0,\n      height: 'calc(100% - 48px)',\n    },\n  },\n  menu: {\n    display: 'flex',\n    width: '100%',\n  },\n  title: {\n    flexGrow: 1,\n    textTransform: 'uppercase',\n  },\n  link: {\n    textDecoration: 'none',\n  },\n}));\n\nexport default function Efm02(): JSX.Element {\n  const classes = useStyles();\n  const dispatch: AppDispatch = useDispatch();\n  const [report, setReport] = React.useState<ReportItem[]>([]);\n  const [efm03Report, setEfm03Report] = React.useState<SummaryReport>({\n    data: [],\n    projects: [],\n  });\n\n  const refresh = async () => {\n    dispatch(loadingActions.show());\n    try {\n      const data = await Promise.all([efmService.getEfm02Report(), efm03Service.get()]);\n      setReport(data[0]);\n      setEfm03Report(data[1]);\n    }\n    catch {\n      dispatch(alertActions.show(alertMessage.FETCH_FAILURE, 'error'));\n    }\n    finally {\n      dispatch(loadingActions.hide());\n    }\n  }\n\n  React.useEffect(() => {\n    refresh();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <div className={classes.content}>\n      <Grid container spacing={1} style={{ padding: '8px' }}>\n        <Grid container alignItems=\"center\" item spacing={1} className={classes.menu}>\n          <Grid item className={classes.title}>\n            <Typography variant=\"h6\">Báo cáo Chi phí tài chính ròng Công ty</Typography>\n          </Grid>\n          <Grid item>\n            <DownloadButton\n              filename=\"Efm02.xlsx\"\n              url=\"/api/ebi/efm/get-excel?report=efm02\"\n              label=\"Tải báo cáo\"\n            />\n          </Grid>\n        </Grid>\n        {/* {report.length > 0 && (\n          <>\n            <Grid item xs={12}>\n              <OverviewChart\n                title=\"Tỷ lệ CPTC ròng trên doanh thu\"\n                data={dataProvider.getOverviewChartData(\"FORECAST\", report, efm03Report)}\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <DetailChart\n                title=\"Chi phí tài chính KHBĐ\"\n                data={dataProvider.getDetailChartData(\"BASELINE\", true, report)}\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <DetailChart\n                title=\"Thu nhập tài chính KHBĐ\"\n                data={dataProvider.getDetailChartData(\"BASELINE\", false, report)}\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <DetailChart\n                title=\"Chi phí tài chính kế hoạch\"\n                data={dataProvider.getDetailChartData(\"REBASELINE\", true, report)}\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <DetailChart\n                title=\"Thu nhập tài chính kế hoạch\"\n                data={dataProvider.getDetailChartData(\"REBASELINE\", false, report)}\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <DetailChart\n                title=\"Chi phí tài chính thực tế/dự báo\"\n                data={dataProvider.getDetailChartData(\"FORECAST\", true, report)}\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <DetailChart\n                title=\"Thu nhập tài chính thực tế/dự báo\"\n                data={dataProvider.getDetailChartData(\"FORECAST\", false, report)}\n              />\n            </Grid>\n          </>\n        )} */}\n      </Grid>\n    </div>\n  )\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n  Typography,\n  Grid,\n} from '@material-ui/core';\nimport {\n  DownloadButton,\n} from '@nvdunginest/emis-mui';\n\nconst useStyles = makeStyles((theme) => ({\n  content: {\n    display: 'flex',\n    height: 'calc(100% - 32px)',\n    flexDirection: 'column',\n    alignItems: 'center',\n    margin: theme.spacing(-1),\n    [theme.breakpoints.down('xs')]: {\n      margin: 0,\n      height: 'calc(100% - 48px)',\n    },\n  },\n  menu: {\n    display: 'flex',\n    width: '100%',\n  },\n  title: {\n    flexGrow: 1,\n    textTransform: 'uppercase',\n  },\n  link: {\n    textDecoration: 'none',\n  },\n}));\n\nexport default function Efm03(): JSX.Element {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.content}>\n      <Grid container spacing={1} style={{ padding: '8px' }}>\n        <Grid container alignItems=\"center\" item spacing={1} className={classes.menu}>\n          <Grid item className={classes.title}>\n            <Typography variant=\"h6\">Báo cáo SL-DT-TV Công ty</Typography>\n          </Grid>\n          <Grid item>\n            <DownloadButton\n              filename=\"Efm03.xlsx\"\n              url=\"/api/ebi/efm03/getExcel\"\n              label=\"Tải báo cáo\"\n            />\n          </Grid>\n        </Grid>\n      </Grid>\n    </div>\n  )\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n  Typography,\n  Grid,\n} from '@material-ui/core';\nimport {\n  DownloadButton,\n} from '@nvdunginest/emis-mui';\n\nconst useStyles = makeStyles((theme) => ({\n  content: {\n    display: 'flex',\n    height: 'calc(100% - 32px)',\n    flexDirection: 'column',\n    alignItems: 'center',\n    margin: theme.spacing(-1),\n    [theme.breakpoints.down('xs')]: {\n      margin: 0,\n      height: 'calc(100% - 48px)',\n    },\n  },\n  menu: {\n    display: 'flex',\n    width: '100%',\n  },\n  title: {\n    flexGrow: 1,\n    textTransform: 'uppercase',\n  },\n  link: {\n    textDecoration: 'none',\n  },\n}));\n\nexport default function Efm04(): JSX.Element {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.content}>\n      <Grid container spacing={1} style={{ padding: '8px' }}>\n        <Grid container alignItems=\"center\" item spacing={1} className={classes.menu}>\n          <Grid item className={classes.title}>\n            <Typography variant=\"h6\">Báo cáo CP-TC Công ty</Typography>\n          </Grid>\n          <Grid item>\n            <DownloadButton\n              filename=\"Efm04.xlsx\"\n              url=\"/api/ebi/efm04/getExcel\"\n              label=\"Tải báo cáo\"\n            />\n          </Grid>\n        </Grid>\n      </Grid>\n    </div>\n  )\n}","import { VersionType } from \"../services/types\";\n\nexport const getPeriodsByFiscalYear = (fiscalYear: number): number[] => {\n  return [\n    fiscalYear * 100 + 4,\n    fiscalYear * 100 + 5,\n    fiscalYear * 100 + 6,\n    fiscalYear * 100 + 7,\n    fiscalYear * 100 + 8,\n    fiscalYear * 100 + 9,\n    fiscalYear * 100 + 10,\n    fiscalYear * 100 + 11,\n    fiscalYear * 100 + 12,\n    (fiscalYear + 1) * 100 + 1,\n    (fiscalYear + 1) * 100 + 2,\n    (fiscalYear + 1) * 100 + 3,\n  ];\n}\n\nexport const getCurrentPeriod = (): number => {\n  const now = new Date();\n  const month = now.getMonth() === 0 ? 12 : now.getMonth();\n  const year = now.getMonth() === 0 ? now.getFullYear() - 1 : now.getFullYear();\n  return year * 100 + month;\n}\n\nexport const getPeriodLabel = (period: number): string => {\n  const text = period.toFixed(0);\n  return `${text[4]}${text[5]}/${text[2]}${text[3]}`\n}\n\nexport const getFiscalYear = (): number => {\n  const now = new Date();\n  const month = now.getMonth();\n  if (month >= 4 && month <= 11) {\n    return now.getFullYear();\n  }\n\n  return now.getFullYear() - 1;\n}\n\nexport const getVersionType = (version: VersionType): string => {\n  switch (version) {\n    case \"BASELINE\": return \"1\";\n    case \"REBASELINE\": return \"2\";\n    case \"FORECAST\": return \"3\";\n    default: throw \"Not found version type!\";\n  }\n}\n\nexport const getReportType = (version: VersionType, dataType: string | number): string => {\n  const versionPrefix = parseInt(getVersionType(version), 10);\n  const dataTypeSuffix = parseInt(`${dataType}`, 10);\n\n  return `${versionPrefix * 100 + dataTypeSuffix}`;\n}","import { SCurveChartData } from '../components/SCurveChart';\nimport { PieChartData } from '../components/PieChart';\nimport { GapBar2ChartData } from '../components/GapBar2Chart';\n\nimport { ReportItem } from '../services/types';\nimport {\n  getCurrentPeriod,\n  getFiscalYear,\n  getPeriodLabel,\n  getPeriodsByFiscalYear,\n  getReportType,\n  getVersionType,\n} from './helpers';\n\nconst getSCurveChartData = (\n  data: ReportItem[],\n): SCurveChartData[] => {\n\n  const fiscalYear = getFiscalYear();\n  const periods = getPeriodsByFiscalYear(fiscalYear);\n\n  return periods.map(period => {\n    const baselineData = data.filter(\n      x => x.period === period &&\n        x.reportType[0] === getVersionType('BASELINE'));\n\n    const rebaselineData = data.filter(\n      x => x.period === period &&\n        x.reportType[0] === getVersionType('REBASELINE'));\n\n    const forecastData = data.filter(\n      x => x.period === period &&\n        x.reportType[0] === getVersionType('FORECAST'));\n\n    const row: SCurveChartData = {\n      period: getPeriodLabel(period),\n      baseline: baselineData.map(x => x.dispersion).reduce((acc, val) => acc + val, 0),\n      rebaseline: rebaselineData.map(x => x.dispersion).reduce((acc, val) => acc + val, 0),\n      forecast: forecastData.map(x => x.dispersion).reduce((acc, val) => acc + val, 0),\n      accBaseline: baselineData.map(x => x.accumulation).reduce((acc, val) => acc + val, 0),\n      accRebaseline: rebaselineData.map(x => x.accumulation).reduce((acc, val) => acc + val, 0),\n      accForecast: forecastData.map(x => x.accumulation).reduce((acc, val) => acc + val, 0),\n    }\n\n    return row;\n  });\n}\n\nconst getPieChartData = (\n  data: ReportItem[],\n  categories: CategoryConfig[],\n): PieChartData[] => {\n\n  const currentPeriod = getCurrentPeriod();\n\n  return categories.map(category => {\n    const forecastData = data.filter(\n      x => x.period === currentPeriod &&\n        category.reportTypes\n          .map(x => getReportType('FORECAST', x))\n          .includes(x.reportType));\n\n    const row: PieChartData = {\n      name: category.name,\n      value: forecastData.map(x => x.accumulation).reduce((acc, val) => acc + val, 0),\n    }\n\n    return row;\n  });\n}\n\nconst getGap2ChartData = (\n  data: ReportItem[],\n  categories: CategoryConfig[],\n): GapBar2ChartData[] => {\n\n  const currentPeriod = getCurrentPeriod();\n\n  return categories.map(category => {\n    const forecastVal = data.filter(\n      x => x.period === currentPeriod &&\n        category.reportTypes\n          .map(x => getReportType('FORECAST', x))\n          .includes(x.reportType))\n      .map(x => x.accumulation)\n      .reduce((acc, val) => acc + val, 0);\n\n    const rebaselineVal = data.filter(\n      x => x.period === currentPeriod &&\n        category.reportTypes\n          .map(x => getReportType('REBASELINE', x))\n          .includes(x.reportType))\n      .map(x => x.accumulation)\n      .reduce((acc, val) => acc + val, 0);\n\n    const row: GapBar2ChartData = {\n      category: category.name,\n      name: category.name,\n      forecast: forecastVal,\n      rebaseline: rebaselineVal,\n      gap: Math.abs(rebaselineVal - forecastVal),\n    }\n\n    return row;\n  });\n}\n\nconst helpers = {\n  getSCurveChartData,\n  getPieChartData,\n  getGap2ChartData,\n}\n\nexport type CategoryConfig = {\n  name: string;\n  reportTypes: string[];\n}\n\nexport default helpers;","const colors = [\n  '#70AD47',\n  '#5B9BD5',\n  '#FFC000',\n  '#43682B',\n  '#255E91',\n  '#997300',\n]\nconst chartColorPalettes = [\n  ...colors,\n  ...colors,\n  ...colors,\n  ...colors,\n  ...colors,\n];\n\nexport {\n  chartColorPalettes,\n}\n","import React from \"react\";\nimport * as colors from '@material-ui/core/colors';\nimport {\n  ReferenceLine,\n  Label,\n} from 'recharts';\n\nimport {\n  getCurrentPeriod,\n  getPeriodLabel,\n} from '../common/helpers';\n\nexport const renderSplitLine = (): JSX.Element => (\n  <ReferenceLine\n    x={getPeriodLabel(getCurrentPeriod())}\n    values=\"Actual\"\n    strokeWidth={2}\n    stroke={colors.red[700]}\n    strokeDasharray=\"3 3\"\n  >\n    <Label value=\"Thực tế\" position=\"insideTopRight\" />\n    <Label value=\"Dự báo\" position=\"insideTopLeft\" />\n  </ReferenceLine>\n);","import React from 'react';\nimport { useTheme } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport {\n  Typography,\n} from '@material-ui/core';\nimport {\n  ResponsiveContainer,\n  ComposedChart,\n  Line,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n} from 'recharts';\nimport format from '../../../configs/format';\nimport { chartColorPalettes } from '../constants/colors';\nimport { renderSplitLine } from './common';\n\nexport type SCurveChartData = {\n  period: string;\n  accBaseline: number;\n  accRebaseline: number;\n  accForecast: number;\n  baseline: number;\n  rebaseline: number;\n  forecast: number;\n}\n\ntype SCurveChartProps = {\n  title: string;\n  data: SCurveChartData[];\n  tickFormatter?: (value: number) => string;\n  tooltipFormatter?: (value: number) => string;\n}\n\nexport default function SCurveChart({\n  title,\n  data,\n  tickFormatter = (value: number) => format.formatMoney(value / 1000000000),\n  tooltipFormatter = (value: number) => `${format.formatMoney(value / 1000000000)} tỷ VND`,\n}: SCurveChartProps): JSX.Element {\n  const theme = useTheme();\n  const matches = useMediaQuery(theme.breakpoints.down('xs'));\n\n  const [\n    baselineColor,\n    rebaselineColor,\n    forecastColor,\n  ] = chartColorPalettes;\n\n  return (\n    <div style={{ width: '100%' }}>\n      <Typography align=\"center\" variant=\"h6\">{title}</Typography>\n      <div style={{ width: '100%', height: 280, padding: '8px' }}>\n        <ResponsiveContainer>\n          <ComposedChart\n            barCategoryGap={5}\n            barGap={0}\n            data={data}\n            margin={{\n              top: 0, right: 0, bottom: 0, left: 0,\n            }}\n          >\n            <CartesianGrid stroke=\"#f5f5f5\" />\n            <XAxis dataKey=\"period\" type=\"category\" scale=\"band\" />\n            <YAxis\n              type=\"number\"\n              mirror={matches}\n              yAxisId={0}\n              tickFormatter={tickFormatter}\n            />\n            <YAxis\n              type=\"number\"\n              mirror={matches}\n              yAxisId={1}\n              orientation=\"right\"\n              tickFormatter={tickFormatter}\n            />\n            <Tooltip formatter={tooltipFormatter} />\n            <Legend />\n            <Bar\n              isAnimationActive={false}\n              name=\"KH Phân kỳ\"\n              yAxisId={1}\n              dataKey=\"rebaseline\"\n              fill={rebaselineColor}\n            />\n            <Bar\n              isAnimationActive={false}\n              name=\"TT/DB Phân kỳ\"\n              yAxisId={1}\n              dataKey=\"forecast\"\n              fill={forecastColor}\n            />\n            <Line\n              isAnimationActive={false}\n              name=\"KHBĐ Lũy kế\"\n              yAxisId={0}\n              type=\"linear\"\n              dataKey=\"accBaseline\"\n              dot={{ r: 4, stroke: baselineColor, strokeWidth: 2 }}\n              activeDot={{ r: 6, fill: baselineColor }}\n              stroke={baselineColor}\n              strokeWidth={3}\n            />\n            <Line\n              isAnimationActive={false}\n              name=\"KH Lũy kế\"\n              yAxisId={0}\n              type=\"linear\"\n              dataKey=\"accRebaseline\"\n              dot={{ r: 4, stroke: rebaselineColor, strokeWidth: 2 }}\n              activeDot={{ r: 6, fill: rebaselineColor }}\n              stroke={rebaselineColor}\n              strokeWidth={3}\n            />\n            <Line\n              isAnimationActive={false}\n              name=\"TT/DB Lũy kế\"\n              yAxisId={0}\n              type=\"linear\"\n              dataKey=\"accForecast\"\n              dot={{ r: 4, stroke: forecastColor, strokeWidth: 2 }}\n              activeDot={{ r: 6, fill: forecastColor }}\n              stroke={forecastColor}\n              strokeWidth={3}\n            />\n            {renderSplitLine()}\n          </ComposedChart>\n        </ResponsiveContainer>\n      </div>\n    </div>\n  );\n}","import React from 'react';\nimport {\n  Typography,\n} from '@material-ui/core';\nimport {\n  ResponsiveContainer,\n  PieChart as REPieChart,\n  Pie,\n  Cell,\n  Tooltip,\n  Legend,\n} from 'recharts';\nimport format from '../../../configs/format';\nimport { chartColorPalettes } from '../constants/colors';\n\nexport type PieChartData = {\n  name: string;\n  value: number;\n}\n\ntype Props = {\n  title: string;\n  data: PieChartData[];\n  tooltipFormatter?: (value: number) => string;\n}\n\nexport default function PieChart({\n  title,\n  data,\n  tooltipFormatter = (value: number) => `${format.formatMoney(value / 1000)} tỷ VND`,\n}: Props): JSX.Element {\n\n  return (\n    <div style={{ width: '100%' }}>\n      <Typography align=\"center\" variant=\"h6\">{title}</Typography>\n      <div style={{ width: '100%', height: 280, padding: '8px' }}>\n        <ResponsiveContainer>\n          <REPieChart>\n            <Legend />\n            <Tooltip formatter={tooltipFormatter} />\n            <Pie isAnimationActive={false} data={data} dataKey=\"value\" nameKey=\"name\" cx=\"50%\" cy=\"50%\" outerRadius={100}>\n              {\n                data.map((_entry, index) => (\n                  <Cell key={`cell-${index}`} fill={chartColorPalettes[index]} />\n                ))\n              }\n            </Pie>\n          </REPieChart>\n        </ResponsiveContainer>\n      </div>\n    </div>\n  );\n}","import React from 'react';\nimport { useTheme } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport {\n  Typography,\n} from '@material-ui/core';\nimport {\n  ResponsiveContainer,\n  BarChart as BarChartRC,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n} from 'recharts';\n\nimport format from '../../../configs/format';\nimport { chartColorPalettes } from '../constants/colors';\n\nexport type GapBar2ChartData = {\n  category: string;\n  name: string;\n  rebaseline: number;\n  forecast: number;\n  gap: number;\n}\n\ntype Props = {\n  title: string;\n  data: GapBar2ChartData[];\n}\n\nconst tickValueFormatter = (value: number) => format.formatMoney(value / 1000000000);\n\nconst tooltipFormatter = (value: number, name: string) => {\n  if (name === '%Gap') {\n    return `${format.formatMoney(value, 1)}%`;\n  }\n  return `${format.formatMoney(value / 1000000000)} tỷ VND`;\n}\n\nexport default function GapBar2Chart({\n  title,\n  data,\n}: Props): JSX.Element {\n  const theme = useTheme();\n  const matches = useMediaQuery(theme.breakpoints.down('xs'));\n\n  const [\n    planColor,\n    actualColor,\n    gapColor,\n  ] = chartColorPalettes;\n\n  return (\n    <div style={{ width: '100%' }}>\n      <Typography align=\"center\" variant=\"h6\">{title}</Typography>\n      <div style={{ width: '100%', height: 280, padding: '8px' }}>\n        <ResponsiveContainer>\n          <BarChartRC\n            barCategoryGap={5}\n            barGap={0}\n            data={data}\n            stackOffset=\"sign\"\n            margin={{\n              top: 0, right: 0, left: 0, bottom: 0,\n            }}\n          >\n            <CartesianGrid strokeDasharray=\"3 3\" />\n            <XAxis dataKey=\"category\" type=\"category\" scale=\"band\" />\n            <YAxis\n              type=\"number\"\n              mirror={matches} \n              tickFormatter={tickValueFormatter}\n            />\n            <Tooltip formatter={tooltipFormatter} />\n            <Bar\n              isAnimationActive={false}\n              name=\"Kế hoạch\"\n              stackId={0}\n              dataKey=\"rebaseline\"\n              fill={planColor}\n            />\n            <Bar\n              isAnimationActive={false}\n              name=\"Gap\"\n              stackId={0}\n              dataKey=\"gap\"\n              fill={gapColor}\n            />\n            <Bar\n              isAnimationActive={false}\n              name=\"Thực tế\"\n              stackId={1}\n              yAxisId={0}\n              dataKey=\"forecast\"\n              fill={actualColor}\n            />\n          </BarChartRC>\n        </ResponsiveContainer>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n  Typography,\n  Grid,\n} from '@material-ui/core';\nimport {\n  DownloadButton,\n} from '@nvdunginest/emis-mui';\n\nimport {\n  AppDispatch,\n  alertActions,\n  alertMessage,\n  loadingActions,\n} from '../../../core';\n\nimport format from '../../../configs/format';\n\nimport efmService from '../services/efm';\nimport { ReportItem } from '../services/types';\n\nimport dataProvider, { CategoryConfig } from '../common/efm05Helpers';\n\nimport SCurveChart from '../components/SCurveChart';\nimport PieChart, { PieChartData } from '../components/PieChart';\nimport GapBar2Chart from '../components/GapBar2Chart';\n\nconst useStyles = makeStyles((theme) => ({\n  content: {\n    display: 'flex',\n    height: 'calc(100% - 32px)',\n    flexDirection: 'column',\n    alignItems: 'center',\n    margin: theme.spacing(-1),\n    [theme.breakpoints.down('xs')]: {\n      margin: 0,\n      height: 'calc(100% - 48px)',\n    },\n  },\n  menu: {\n    display: 'flex',\n    width: '100%',\n  },\n  title: {\n    flexGrow: 1,\n    textTransform: 'uppercase',\n  },\n  link: {\n    textDecoration: 'none',\n  },\n}));\n\nconst generateReportType = (start: number, end: number): string[] => {\n  const result: string[] = [];\n\n  for (let i = start; i <= end; i++) {\n    result.push(`${i}`);\n  }\n\n  return result;\n}\n\nconst salaryCategories: CategoryConfig[] = [\n  {\n    name: 'Văn phòng',\n    reportTypes: ['1'],\n  },\n  {\n    name: 'Dự bị',\n    reportTypes: ['2'],\n  },\n  {\n    name: 'Chi phí lương khác',\n    reportTypes: ['3'],\n  },\n];\n\nconst categories: CategoryConfig[] = [\n  {\n    name: 'Chi phí lương',\n    reportTypes: ['1', '2', '3'],\n  },\n  {\n    name: 'Chi phí phúc lợi',\n    reportTypes: generateReportType(4, 18),\n  },\n  {\n    name: 'Chi phí hành chính',\n    reportTypes: generateReportType(19, 45),\n  },\n];\n\nexport default function Efm05(): JSX.Element {\n  const classes = useStyles();\n  const dispatch: AppDispatch = useDispatch();\n  const [report, setReport] = React.useState<ReportItem[]>([]);\n  const [salaryPieData, setSalaryPieData] = React.useState<PieChartData[]>([]);\n  const [pieData, setPieData] = React.useState<PieChartData[]>([]);\n\n  const refresh = async () => {\n    dispatch(loadingActions.show());\n    try {\n      setReport(await efmService.getEfm05Report());\n    }\n    catch {\n      dispatch(alertActions.show(alertMessage.FETCH_FAILURE, 'error'));\n      setReport([]);\n    }\n    finally {\n      dispatch(loadingActions.hide());\n    }\n  }\n\n  const salaryTooltipFormatter = (value: number) => {\n    const total = salaryPieData.map(x => x.value).reduce((acc, val) => acc + val, 0);\n    return `${format.formatMoney(value / 1000000000)} tỷ VND (${format.formatMoney(value / total * 100, 0)}%)`;\n  }\n\n  const tooltipFormatter = (value: number) => {\n    const total = pieData.map(x => x.value).reduce((acc, val) => acc + val, 0);\n    return `${format.formatMoney(value / 1000000000)} tỷ VND (${format.formatMoney(value / total * 100, 0)}%)`;\n  }\n\n  React.useEffect(() => {\n    refresh();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  React.useEffect(() => {\n    setSalaryPieData(dataProvider.getPieChartData(report, salaryCategories));\n    setPieData(dataProvider.getPieChartData(report, categories));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [report]);\n\n  return (\n    <div className={classes.content}>\n      <Grid container spacing={1} style={{ padding: '8px' }}>\n        <Grid container alignItems=\"center\" item spacing={1} xs={12} className={classes.menu}>\n          <Grid item className={classes.title}>\n            <Typography variant=\"h6\">Báo cáo Chi phí Quản lý doanh nghiệp</Typography>\n          </Grid>\n          <Grid item>\n            <DownloadButton\n              filename=\"Efm05.xlsx\"\n              url=\"/api/ebi/efm/get-excel?report=efm05\"\n              label=\"Tải báo cáo\"\n            />\n          </Grid>\n        </Grid>\n        {report.length > 0 && (\n          <>\n            <Grid item xs={12} md={6}>\n              <SCurveChart\n                title=\"Chi phí Quản lý doanh nghiệp\"\n                data={dataProvider.getSCurveChartData(report)}\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <GapBar2Chart\n                title=\"GAP lũy kế chi phí QLDN\"\n                data={dataProvider.getGap2ChartData(report, categories)}\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <PieChart\n                title=\"Cơ cấu chi phí lương thực tế lũy kế đến kỳ báo cáo\"\n                tooltipFormatter={salaryTooltipFormatter}\n                data={salaryPieData}\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <PieChart\n                title=\"Cơ cấu chi phí quản lý thực tế lũy kế đến kỳ báo cáo\"\n                tooltipFormatter={tooltipFormatter}\n                data={pieData}\n              />\n            </Grid>\n          </>\n        )}\n      </Grid>\n    </div>\n  )\n}","export type Efm06BarChartData = {\n  name: string;\n  total: number;\n  balance: number;\n  remaining: number;\n}\n\nexport type Efm06PieChartData = {\n  name: string;\n  value: number;\n}\n\nexport type Efm06SCurveChartData = {\n  period: string;\n  deposit: number | null;\n  credit: number | null;\n  balance: number | null;\n}\n\nimport { BankReport } from '../services/efm';\nimport { ReportItem } from '../services/types';\nimport {\n  getCurrentPeriod,\n  getFiscalYear,\n  getPeriodLabel,\n  getPeriodsByFiscalYear,\n} from './helpers';\n\nconst getSCurveChartData = (\n  report: BankReport[],\n): Efm06SCurveChartData[] => {\n\n  const fiscalYear = getFiscalYear();\n  const periods = getPeriodsByFiscalYear(fiscalYear);\n  // const currentPeriod = getCurrentPeriod();\n  const data: ReportItem[] = [];\n  report.map(b => {\n    data.push(...b.data);\n    return true;\n  });\n\n  const currentPeriod = getCurrentPeriod();\n\n  return periods.map(period => {\n    const periodData = data.filter(x => x.period === period);\n    const depositData = periodData.filter(x =>\n      x.reportType === '501' ||\n      x.reportType === '502' ||\n      x.reportType === '503' ||\n      x.reportType === '504' ||\n      x.reportType === '505' ||\n      x.reportType === '506'\n    );\n\n    const creditData = periodData.filter(x =>\n      x.reportType === '301' ||\n      x.reportType === '302' ||\n      x.reportType === '305'\n    );\n\n    const depositVal = depositData.map(x => x.accumulation).reduce((acc, val) => acc + val, 0);\n    const creditVal = creditData.map(x => x.accumulation).reduce((acc, val) => acc + val, 0);\n\n\n    const row: Efm06SCurveChartData = {\n      period: getPeriodLabel(period),\n      deposit: currentPeriod >= period ? depositVal : null,\n      credit: currentPeriod >= period ? creditVal : null,\n      balance: currentPeriod >= period ? creditVal - depositVal : null,\n    }\n\n    return row;\n  });\n}\n\nconst getPieChartData = (\n  report: BankReport[],\n): Efm06PieChartData[] => {\n\n  const currentPeriod = getCurrentPeriod();\n  const data: ReportItem[] = [];\n  report.map(b => {\n    data.push(...b.data);\n    return true;\n  });\n\n  const result: Efm06PieChartData[] = [];\n  result.push(getPieChartRow(data, currentPeriod, '01', 'Tiền gửi thanh toán'));\n  result.push(getPieChartRow(data, currentPeriod, '02', 'Tiền gửi có kỳ hạn từ 1-3 tháng'));\n  result.push(getPieChartRow(data, currentPeriod, '03', 'Tiền gửi có kỳ hạn từ 3-6 tháng'));\n  result.push(getPieChartRow(data, currentPeriod, '04', 'Tiền gửi có kỳ hạn từ 6-12 tháng'));\n  result.push(getPieChartRow(data, currentPeriod, '05', 'Tiền gửi có kỳ hạn trên 12 tháng'));\n  result.push(getPieChartRow(data, currentPeriod, '06', 'Ký quỹ bằng tiền'));\n\n  return result;\n}\n\nconst getBarChartData = (\n  report: BankReport[],\n): Efm06BarChartData[] => {\n\n  const currentPeriod = getCurrentPeriod();\n  const data: ReportItem[] = [];\n  report.map(b => {\n    data.push(...b.data);\n    return true;\n  });\n\n  const result: Efm06BarChartData[] = [];\n  result.push(getBarChartRow(data, currentPeriod, '01', 'Vay ngắn hạn'));\n  result.push(getBarChartRow(data, currentPeriod, '02', 'Vay dài hạn'));\n  result.push(getBarChartRow(data, currentPeriod, '03', 'Bảo lãnh'));\n  result.push(getBarChartRow(data, currentPeriod, '04', 'L/C'));\n  result.push(getBarChartRow(data, currentPeriod, '05', 'Vay thấu chi'));\n\n  return result;\n\n}\n\nconst getBarChartRow = (\n  data: ReportItem[],\n  period: number,\n  dataType: string,\n  category: string,\n): Efm06BarChartData => {\n  const totalData = data.filter(x => x.period === period && x.reportType === `2${dataType}`);\n  const balanceData = data.filter(x => x.period === period && x.reportType === `3${dataType}`);\n  const totalVal = totalData.map(x => x.accumulation).reduce((acc, val) => acc + val, 0);\n  const balanceVal = balanceData.map(x => x.accumulation).reduce((acc, val) => acc + val, 0);\n\n  const item: Efm06BarChartData = {\n    name: category,\n    total: totalVal,\n    balance: balanceVal,\n    remaining: totalVal - balanceVal,\n  }\n\n  return item;\n}\n\nconst getPieChartRow = (\n  data: ReportItem[],\n  period: number,\n  dataType: string,\n  category: string,\n): Efm06PieChartData => {\n  const totalData = data.filter(x => x.period === period && x.reportType === `5${dataType}`);\n  const totalVal = totalData.map(x => x.accumulation).reduce((acc, val) => acc + val, 0);\n\n  const item: Efm06PieChartData = {\n    name: category,\n    value: totalVal,\n  }\n\n  return item;\n}\n\nconst helpers = {\n  getSCurveChartData,\n  getPieChartData,\n  getBarChartData,\n}\n\nexport default helpers;","import React from 'react';\nimport { useTheme } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport {\n  Typography,\n} from '@material-ui/core';\nimport {\n  ResponsiveContainer,\n  BarChart as BarChartRC,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n} from 'recharts';\n\nimport format from '../../../../configs/format';\nimport { chartColorPalettes } from '../../constants/colors';\n\nimport { Efm06BarChartData } from '../../common/efm06Helpers';\n\ntype Props = {\n  title: string;\n  data: Efm06BarChartData[];\n}\n\nconst tickValueFormatter = (value: number) => format.formatMoney(value / 1000000000);\n\nconst tooltipFormatter = (value: number) => {\n  return `${format.formatMoney(value / 1000000000)} tỷ VND`;\n}\n\nexport default function Efm06BarChart({\n  title,\n  data,\n}: Props): JSX.Element {\n  const theme = useTheme();\n  const matches = useMediaQuery(theme.breakpoints.down('xs'));\n\n  const [\n    totalColor,\n    balanceColor,\n    remainingColor,\n  ] = chartColorPalettes;\n\n  return (\n    <div style={{ width: '100%' }}>\n      <Typography align=\"center\" variant=\"h6\">{title}</Typography>\n      <div style={{ width: '100%', height: 280, padding: '8px' }}>\n        <ResponsiveContainer>\n          <BarChartRC\n            barCategoryGap={5}\n            barGap={0}\n            data={data}\n            stackOffset=\"expand\"\n            margin={{\n              top: 0, right: 0, left: 0, bottom: 0,\n            }}\n          >\n            <CartesianGrid strokeDasharray=\"3 3\" />\n            <XAxis dataKey=\"name\" type=\"category\" scale=\"band\" />\n            <YAxis\n              type=\"number\"\n              mirror={matches}\n              tickFormatter={tickValueFormatter}\n            />\n            <Tooltip formatter={tooltipFormatter} />\n            <Bar\n              isAnimationActive={false}\n              dataKey=\"total\"\n              name=\"Hạn mức tín dụng cập nhật\"\n              fill={totalColor}\n            />\n            <Bar\n              isAnimationActive={false}\n              dataKey=\"balance\"\n              name=\"Số dư tín dụng\"\n              fill={balanceColor}\n            />\n            <Bar\n              isAnimationActive={false}\n              dataKey=\"remaining\"\n              name=\"Hạn mức tín dụng còn lại\"\n              fill={remainingColor}\n            />\n          </BarChartRC>\n        </ResponsiveContainer>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport {\n  Typography,\n} from '@material-ui/core';\nimport {\n  ResponsiveContainer,\n  PieChart as REPieChart,\n  Pie,\n  Cell,\n  Tooltip,\n  Legend,\n} from 'recharts';\nimport format from '../../../../configs/format';\nimport { chartColorPalettes } from '../../constants/colors';\n\nimport { Efm06PieChartData } from '../../common/efm06Helpers';\n\ntype Props = {\n  title: string;\n  data: Efm06PieChartData[];\n}\n\nexport default function Efm06PieChart({\n  title,\n  data,\n}: Props): JSX.Element {\n\n  const tooltipFormatter = (value: number) => {\n    const total = data.map(x => x.value).reduce((acc, val) => acc + val, 0);\n    return `${format.formatMoney(value / 1000000000)} tỷ VND (${format.formatMoney(value / total * 100, 0)}%)`;\n  }\n\n  return (\n    <div style={{ width: '100%' }}>\n      <Typography align=\"center\" variant=\"h6\">{title}</Typography>\n      <div style={{ width: '100%', height: 280, padding: '8px' }}>\n        <ResponsiveContainer>\n          <REPieChart>\n            <Legend />\n            <Tooltip formatter={tooltipFormatter} />\n            <Pie isAnimationActive={false} data={data} dataKey=\"value\" nameKey=\"name\" cx=\"50%\" cy=\"50%\" outerRadius={100}>\n              {\n                data.map((_entry, index) => (\n                  <Cell key={`cell-${index}`} fill={chartColorPalettes[index]} />\n                ))\n              }\n            </Pie>\n          </REPieChart>\n        </ResponsiveContainer>\n      </div>\n    </div>\n  );\n}","import React from 'react';\nimport { useTheme } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport {\n  Typography,\n} from '@material-ui/core';\nimport {\n  ResponsiveContainer,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  ComposedChart,\n  Legend,\n  Line,\n} from 'recharts';\n\nimport format from '../../../../configs/format';\nimport { chartColorPalettes } from '../../constants/colors';\n\nimport { renderSplitLine } from '../common';\nimport { Efm06SCurveChartData } from '../../common/efm06Helpers';\n\ntype Props = {\n  title: string;\n  data: Efm06SCurveChartData[];\n}\n\nconst tickFormatter = (value: number) => format.formatMoney(value / 1000000000);\n\nconst tooltipFormatter = (value: number) => {\n  return `${format.formatMoney(value / 1000000000)} tỷ VND`;\n}\n\nexport default function Efm06SCurveChart({\n  title,\n  data,\n}: Props): JSX.Element {\n  const theme = useTheme();\n  const matches = useMediaQuery(theme.breakpoints.down('xs'));\n\n  const [\n    depositColor,\n    creditColor,\n    balanceColor,\n  ] = chartColorPalettes;\n\n  return (\n    <div style={{ width: '100%' }}>\n      <Typography align=\"center\" variant=\"h6\">{title}</Typography>\n      <div style={{ width: '100%', height: 280, padding: '8px' }}>\n        <ResponsiveContainer>\n          <ComposedChart\n            barCategoryGap={5}\n            barGap={0}\n            data={data}\n            margin={{\n              top: 0, right: 0, bottom: 0, left: 0,\n            }}\n          >\n            <CartesianGrid stroke=\"#f5f5f5\" />\n            <XAxis dataKey=\"period\" type=\"category\" scale=\"band\" />\n            <YAxis\n              type=\"number\"\n              mirror={matches}\n              yAxisId={0}\n              tickFormatter={tickFormatter}\n            />\n            <YAxis\n              type=\"number\"\n              mirror={matches}\n              yAxisId={1}\n              orientation=\"right\"\n              tickFormatter={tickFormatter}\n            />\n            <Tooltip formatter={tooltipFormatter} />\n            <Legend />\n            <Bar\n              isAnimationActive={false}\n              name=\"Tổng tiền gửi\"\n              yAxisId={0}\n              dataKey=\"deposit\"\n              fill={depositColor}\n            />\n            <Bar\n              isAnimationActive={false}\n              name=\"Tổng tiền vay\"\n              yAxisId={0}\n              dataKey=\"credit\"\n              fill={creditColor}\n            />\n            <Line\n              isAnimationActive={false}\n              name=\"Vay ròng\"\n              yAxisId={1}\n              type=\"linear\"\n              dataKey=\"balance\"\n              dot={{ r: 4, stroke: balanceColor, strokeWidth: 2 }}\n              activeDot={{ r: 6, fill: balanceColor }}\n              stroke={balanceColor}\n              strokeWidth={3}\n            />\n            {renderSplitLine()}\n          </ComposedChart>\n        </ResponsiveContainer>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n  Typography,\n  Grid,\n} from '@material-ui/core';\nimport {\n  DownloadButton,\n} from '@nvdunginest/emis-mui';\n\nimport {\n  AppDispatch,\n  alertActions,\n  alertMessage,\n  loadingActions,\n} from '../../../core';\n\nimport efmService, { BankReport } from '../services/efm';\n\nimport dataProvider from '../common/efm06Helpers';\n\nimport Efm06BarChart from '../components/efm06/Efm06BarChart';\nimport Efm06PieChart from '../components/efm06/Efm06PieChart';\nimport Efm06SCurveChart from '../components/efm06/Efm06SCurveChart';\n\nconst useStyles = makeStyles((theme) => ({\n  content: {\n    display: 'flex',\n    height: 'calc(100% - 32px)',\n    flexDirection: 'column',\n    alignItems: 'center',\n    margin: theme.spacing(-1),\n    [theme.breakpoints.down('xs')]: {\n      margin: 0,\n      height: 'calc(100% - 48px)',\n    },\n  },\n  menu: {\n    display: 'flex',\n    width: '100%',\n  },\n  title: {\n    flexGrow: 1,\n    textTransform: 'uppercase',\n  },\n  link: {\n    textDecoration: 'none',\n  },\n}));\n\nexport default function Efm06(): JSX.Element {\n  const classes = useStyles();\n  const dispatch: AppDispatch = useDispatch();\n  const [report, setReport] = React.useState<BankReport[]>([]);\n\n  const refresh = async () => {\n    dispatch(loadingActions.show());\n    try {\n      setReport(await efmService.getEfm06Report());\n    }\n    catch {\n      dispatch(alertActions.show(alertMessage.FETCH_FAILURE, 'error'));\n      setReport([]);\n    }\n    finally {\n      dispatch(loadingActions.hide());\n    }\n  }\n\n  React.useEffect(() => {\n    refresh();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <div className={classes.content}>\n      <Grid container spacing={1} style={{ padding: '8px' }}>\n        <Grid container alignItems=\"center\" item spacing={1} xs={12} className={classes.menu}>\n          <Grid item className={classes.title}>\n            <Typography variant=\"h6\">Báo cáo Tiền gửi</Typography>\n          </Grid>\n          <Grid item>\n            <DownloadButton\n              filename=\"Efm06.xlsx\"\n              url=\"/api/ebi/efm/get-excel?report=efm06\"\n              label=\"Tải báo cáo\"\n            />\n          </Grid>\n        </Grid>\n        {report.length > 0 && (\n          <>\n            <Grid item xs={12} md={6}>\n              <Efm06BarChart\n                title=\"Hạn mức tín dụng tại tháng báo cáo\"\n                data={dataProvider.getBarChartData(report)}\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <Efm06PieChart\n                title=\"Cơ cấu tiền gửi tại tháng báo cáo\"\n                data={dataProvider.getPieChartData(report)}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <Efm06SCurveChart\n                title=\"Tiền gửi - Tiền vay - Vay ròng tại tháng báo cáo\"\n                data={dataProvider.getSCurveChartData(report)}\n              />\n            </Grid>\n          </>\n        )}\n      </Grid>\n    </div>\n  )\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n  Typography,\n  Grid,\n} from '@material-ui/core';\nimport {\n  DownloadButton,\n} from '@nvdunginest/emis-mui';\n\nconst useStyles = makeStyles((theme) => ({\n  content: {\n    display: 'flex',\n    height: 'calc(100% - 32px)',\n    flexDirection: 'column',\n    alignItems: 'center',\n    margin: theme.spacing(-1),\n    [theme.breakpoints.down('xs')]: {\n      margin: 0,\n      height: 'calc(100% - 48px)',\n    },\n  },\n  menu: {\n    display: 'flex',\n    width: '100%',\n  },\n  title: {\n    flexGrow: 1,\n    textTransform: 'uppercase',\n  },\n  link: {\n    textDecoration: 'none',\n  },\n}));\n\nexport default function Efm07(): JSX.Element {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.content}>\n      <Grid container spacing={1} style={{ padding: '8px' }}>\n        <Grid container alignItems=\"center\" item spacing={1} className={classes.menu}>\n          <Grid item className={classes.title}>\n            <Typography variant=\"h6\">Báo cáo cân đối CF</Typography>\n          </Grid>\n          <Grid item>\n            <DownloadButton\n              filename=\"Efm07.xlsx\"\n              url=\"/api/ebi/efm07/getExcel\"\n              label=\"Tải báo cáo\"\n            />\n          </Grid>\n        </Grid>\n      </Grid>\n    </div>\n  )\n}","import { ProjectReport } from '../services/efm';\nimport { ReportItem } from '../services/types';\nimport {\n  getCurrentPeriod,\n  getFiscalYear,\n  getPeriodLabel,\n  getPeriodsByFiscalYear,\n} from './helpers';\n\nexport type Efm08AreaChartData = {\n  period: string;\n  inDue: number | null;\n  outDue1: number | null;\n  outDue31: number | null;\n  outDue91: number | null;\n  outDue181: number | null;\n}\n\nexport type Efm08MixedChartData = {\n  projectCode: string;\n  projectName: string;\n  inDue: number;\n  outDue1: number;\n  outDue31: number;\n  outDue91: number;\n  outDue181: number;\n  outDueRatio: number;\n}\n\nconst getAreaChartData = (\n  dataType: '1' | '2',\n  report: ProjectReport[],\n): Efm08AreaChartData[] => {\n\n  const fiscalYear = getFiscalYear();\n  const periods = getPeriodsByFiscalYear(fiscalYear);\n  const currentPeriod = getCurrentPeriod();\n\n  const data: ReportItem[] = [];\n  report.map(b => {\n    data.push(...b.data);\n    return true;\n  });\n\n  return periods.map(period => {\n    const periodData = data.filter(x => x.period === period);\n\n    const inDueVal = periodData\n      .filter(x => x.reportType === `${dataType}01`)\n      .map(x => x.accumulation)\n      .reduce((acc, val) => acc + val, 0);\n\n    const outDue1Val = periodData\n      .filter(x => x.reportType === `${dataType}02`)\n      .map(x => x.accumulation)\n      .reduce((acc, val) => acc + val, 0);\n\n    const outDue31Val = periodData\n      .filter(x => x.reportType === `${dataType}03`)\n      .map(x => x.accumulation)\n      .reduce((acc, val) => acc + val, 0);\n\n    const outDue91Val = periodData\n      .filter(x => x.reportType === `${dataType}04`)\n      .map(x => x.accumulation)\n      .reduce((acc, val) => acc + val, 0);\n\n    const outDue181Val = periodData\n      .filter(x => x.reportType === `${dataType}05`)\n      .map(x => x.accumulation)\n      .reduce((acc, val) => acc + val, 0);\n\n\n    const row: Efm08AreaChartData = {\n      period: getPeriodLabel(period),\n      inDue: currentPeriod >= period ? inDueVal : null,\n      outDue1: currentPeriod >= period ? outDue1Val : null,\n      outDue31: currentPeriod >= period ? outDue31Val : null,\n      outDue91: currentPeriod >= period ? outDue91Val : null,\n      outDue181: currentPeriod >= period ? outDue181Val : null,\n    }\n\n    return row;\n  });\n}\n\nconst getMixedChartData = (\n  dataType: '1' | '2',\n  report: ProjectReport[],\n): Efm08MixedChartData[] => {\n\n  const currentPeriod = getCurrentPeriod();\n\n  const data: Efm08MixedChartData[] = report.map(project => {\n    const periodData = project.data.filter(x => x.period === currentPeriod);\n\n    const inDueVal = periodData\n      .filter(x => x.reportType === `${dataType}01`)\n      .map(x => x.accumulation)\n      .reduce((acc, val) => acc + val, 0);\n\n    const outDue1Val = periodData\n      .filter(x => x.reportType === `${dataType}02`)\n      .map(x => x.accumulation)\n      .reduce((acc, val) => acc + val, 0);\n\n    const outDue31Val = periodData\n      .filter(x => x.reportType === `${dataType}03`)\n      .map(x => x.accumulation)\n      .reduce((acc, val) => acc + val, 0);\n\n    const outDue91Val = periodData\n      .filter(x => x.reportType === `${dataType}04`)\n      .map(x => x.accumulation)\n      .reduce((acc, val) => acc + val, 0);\n\n    const outDue181Val = periodData\n      .filter(x => x.reportType === `${dataType}05`)\n      .map(x => x.accumulation)\n      .reduce((acc, val) => acc + val, 0);\n\n    const totalVal = (inDueVal + outDue1Val + outDue31Val + outDue91Val + outDue181Val);\n    const outDueVal = (outDue1Val + outDue31Val + outDue91Val + outDue181Val);\n\n    const outDueRatio = totalVal === 0 ? 0 : outDueVal / totalVal * 100;\n\n\n    const row: Efm08MixedChartData = {\n      projectCode: project.projectCode,\n      projectName: project.projectName,\n      inDue: inDueVal,\n      outDue1: outDue1Val,\n      outDue31: outDue31Val,\n      outDue91: outDue91Val,\n      outDue181: outDue181Val,\n      outDueRatio: outDueRatio,\n    }\n\n    return row;\n  });\n\n  return data.sort(sortProject).slice(0, 5);\n}\n\nconst sortProject = (a: Efm08MixedChartData, b: Efm08MixedChartData): number => {\n  if (a.outDueRatio > b.outDueRatio) return -1;\n  if (a.outDueRatio < b.outDueRatio) return 1;\n\n  const totalA = (a.inDue + a.outDue1 + a.outDue31 + a.outDue91 + a.outDue181);\n  const totalB = (b.inDue + b.outDue1 + b.outDue31 + b.outDue91 + b.outDue181);\n  if (totalA > totalB) return -1;\n  if (totalA < totalB) return 1;\n\n  return 0;\n}\n\nconst helpers = {\n  getAreaChartData,\n  getMixedChartData,\n}\n\nexport default helpers;","import React from \"react\";\nimport { useTheme } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport {\n  Typography,\n} from '@material-ui/core';\nimport {\n  ResponsiveContainer,\n  ComposedChart,\n  Area,\n  XAxis,\n  YAxis,\n  Tooltip,\n  Legend,\n} from 'recharts';\n\nimport format from '../../../../configs/format';\nimport { chartColorPalettes } from '../../constants/colors';\nimport { renderSplitLine } from '../common';\n\nimport { Efm08AreaChartData } from '../../common/efm08Helpers';\n\ntype Props = {\n  title: string;\n  data: Efm08AreaChartData[];\n}\n\nexport default function Efm08AreaChart({\n  title,\n  data,\n}: Props): JSX.Element {\n  const theme = useTheme();\n  const matches = useMediaQuery(theme.breakpoints.down('xs'));\n\n  const [\n    inDueColor,\n    outDue1Color,\n    outDue31Color,\n    outDue91Color,\n    outDue181Color,\n  ] = chartColorPalettes;\n\n  const tickFormatter = (value: number) => format.formatMoney(value / 1000000000);\n  const tooltipFormatter = (value: number) => `${format.formatMoney(value / 1000000000)} tỷ VND`;\n\n  return (\n    <div style={{ width: '100%' }}>\n      <Typography align=\"center\" variant=\"h6\">{title}</Typography>\n      <div style={{ width: '100%', height: 280, padding: '8px' }}>\n        <ResponsiveContainer>\n          <ComposedChart\n            data={data}\n            margin={{\n              top: 0, right: 0, bottom: 0, left: 0,\n            }}\n          >\n            <XAxis dataKey=\"period\" type=\"category\" scale=\"band\" />\n            <YAxis type=\"number\" mirror={matches} tickFormatter={tickFormatter} />\n            <Tooltip formatter={tooltipFormatter} />\n            <Legend />\n            <Area\n              isAnimationActive={false}\n              name=\"Trong hạn\"\n              type=\"monotone\"\n              dataKey=\"inDue\"\n              stackId={1}\n              stroke={inDueColor}\n              fill={inDueColor}\n            />\n            <Area\n              isAnimationActive={false}\n              name=\"Quá hạn 1-30 ngày\"\n              type=\"monotone\"\n              dataKey=\"outDue1\"\n              stackId={1}\n              stroke={outDue1Color}\n              fill={outDue1Color}\n            />\n            <Area\n              isAnimationActive={false}\n              name=\"Quá hạn 31-90 ngày\"\n              type=\"monotone\"\n              dataKey=\"outDue31\"\n              stackId={1}\n              stroke={outDue31Color}\n              fill={outDue31Color}\n            />\n            <Area\n              isAnimationActive={false}\n              name=\"Quá hạn 91-180 ngày\"\n              type=\"monotone\"\n              dataKey=\"outDue91\"\n              stackId={1}\n              stroke={outDue91Color}\n              fill={outDue91Color}\n            />\n            <Area\n              isAnimationActive={false}\n              name=\"Quá hạn trên 181 ngày\"\n              type=\"monotone\"\n              dataKey=\"outDue181\"\n              stackId={1}\n              stroke={outDue181Color}\n              fill={outDue181Color}\n            />\n            {renderSplitLine()}\n          </ComposedChart>\n        </ResponsiveContainer>\n      </div>\n    </div>\n  );\n}","import React from 'react';\nimport { useTheme } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport {\n  Typography,\n} from '@material-ui/core';\nimport {\n  ResponsiveContainer,\n  ComposedChart,\n  Line,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n} from 'recharts';\nimport format from '../../../../configs/format';\nimport { chartColorPalettes } from '../../constants/colors';\n\nimport { Efm08MixedChartData } from '../../common/efm08Helpers';\n\ntype Props = {\n  title: string;\n  data: Efm08MixedChartData[];\n}\n\nexport default function Efm08MixedChart({\n  title,\n  data,\n}: Props): JSX.Element {\n  const theme = useTheme();\n  const matches = useMediaQuery(theme.breakpoints.down('xs'));\n\n  const [\n    inDueColor,\n    outDue1Color,\n    outDue31Color,\n    outDue91Color,\n    outDue181Color,\n    outDueRatioColor,\n  ] = chartColorPalettes;\n\n  const tickFormatter = (value: number) => format.formatMoney(value / 1000000000);\n  const tickRatioFormatter = (value: number) => format.formatMoney(value, 1);\n  const tooltipFormatter = (value: number, name: string) => {\n    if (name === 'Tỷ lệ quá hạn') {\n      return `${format.formatMoney(value, 1)}%`;\n    }\n    return `${format.formatMoney(value / 1000000000)} tỷ VND`;\n  }\n  const tooltipLabelFormatter = (label: string) => {\n    const project = data.find(x => x.projectCode === label);\n    if (project !== undefined) {\n      return `${project.projectCode} - ${project.projectName}`\n    }\n\n    return label;\n  }\n\n  return (\n    <div style={{ width: '100%' }}>\n      <Typography align=\"center\" variant=\"h6\">{title}</Typography>\n      <div style={{ width: '100%', height: 280, padding: '8px' }}>\n        <ResponsiveContainer>\n          <ComposedChart\n            barCategoryGap={5}\n            barGap={0}\n            data={data}\n            margin={{\n              top: 0, right: 0, bottom: 0, left: 0,\n            }}\n          >\n            <CartesianGrid stroke=\"#f5f5f5\" />\n            <XAxis dataKey=\"projectCode\" type=\"category\" scale=\"band\" />\n            <YAxis\n              type=\"number\"\n              mirror={matches}\n              yAxisId={0}\n              tickFormatter={tickFormatter}\n            />\n            <YAxis\n              type=\"number\"\n              mirror={matches}\n              yAxisId={1}\n              orientation=\"right\"\n              tickFormatter={tickRatioFormatter}\n            />\n            <Tooltip\n              labelFormatter={tooltipLabelFormatter}\n              formatter={tooltipFormatter} />\n            <Legend />\n            <Bar\n              isAnimationActive={false}\n              name=\"Trong hạn\"\n              dataKey=\"inDue\"\n              yAxisId={0}\n              stackId={1}\n              fill={inDueColor}\n            />\n            <Bar\n              isAnimationActive={false}\n              name=\"Quá hạn 1-30 ngày\"\n              dataKey=\"outDue1\"\n              yAxisId={0}\n              stackId={1}\n              fill={outDue1Color}\n            />\n            <Bar\n              isAnimationActive={false}\n              name=\"Quá hạn 31-90 ngày\"\n              dataKey=\"outDue31\"\n              yAxisId={0}\n              stackId={1}\n              fill={outDue31Color}\n            />\n            <Bar\n              isAnimationActive={false}\n              name=\"Quá hạn 91-180 ngày\"\n              dataKey=\"outDue91\"\n              yAxisId={0}\n              stackId={1}\n              fill={outDue91Color}\n            />\n            <Bar\n              isAnimationActive={false}\n              name=\"Quá hạn trên 181 ngày\"\n              dataKey=\"outDue181\"\n              yAxisId={0}\n              stackId={1}\n              fill={outDue181Color}\n            />\n\n            <Line\n              isAnimationActive={false}\n              name=\"Tỷ lệ quá hạn\"\n              yAxisId={1}\n              type=\"linear\"\n              dataKey=\"outDueRatio\"\n              dot={{ r: 4, stroke: outDueRatioColor, strokeWidth: 2 }}\n              activeDot={{ r: 6, fill: outDueRatioColor }}\n              stroke={outDueRatioColor}\n              strokeWidth={3}\n            />\n          </ComposedChart>\n        </ResponsiveContainer>\n      </div>\n    </div>\n  );\n}","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n  Typography,\n  Grid,\n} from '@material-ui/core';\nimport {\n  DownloadButton,\n} from '@nvdunginest/emis-mui';\n\nimport {\n  AppDispatch,\n  alertActions,\n  alertMessage,\n  loadingActions,\n} from '../../../core';\n\nimport efmService, { ProjectReport } from '../services/efm';\n\nimport dataProvider from '../common/efm08Helpers';\n\nimport Efm08AreaChart from '../components/efm08/Efm08AreaChart';\nimport Efm08MixedChart from '../components/efm08/Efm08MixedChart';\n\nconst useStyles = makeStyles((theme) => ({\n  content: {\n    display: 'flex',\n    height: 'calc(100% - 32px)',\n    flexDirection: 'column',\n    alignItems: 'center',\n    margin: theme.spacing(-1),\n    [theme.breakpoints.down('xs')]: {\n      margin: 0,\n      height: 'calc(100% - 48px)',\n    },\n  },\n  menu: {\n    display: 'flex',\n    width: '100%',\n  },\n  title: {\n    flexGrow: 1,\n    textTransform: 'uppercase',\n  },\n  link: {\n    textDecoration: 'none',\n  },\n}));\n\nexport default function Efm08(): JSX.Element {\n  const classes = useStyles();\n  const dispatch: AppDispatch = useDispatch();\n  const [report, setReport] = React.useState<ProjectReport[]>([]);\n\n  const refresh = async () => {\n    dispatch(loadingActions.show());\n    try {\n      setReport(await efmService.getEfm08Report());\n    }\n    catch {\n      dispatch(alertActions.show(alertMessage.FETCH_FAILURE, 'error'));\n      setReport([]);\n    }\n    finally {\n      dispatch(loadingActions.hide());\n    }\n  }\n\n  React.useEffect(() => {\n    refresh();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <div className={classes.content}>\n      <Grid container spacing={1} style={{ padding: '8px' }}>\n        <Grid container alignItems=\"center\" item spacing={1} xs={12} className={classes.menu}>\n          <Grid item className={classes.title}>\n            <Typography variant=\"h6\">Báo cáo Tuổi nợ</Typography>\n          </Grid>\n          <Grid item>\n            <DownloadButton\n              filename=\"Efm08.xlsx\"\n              url=\"/api/ebi/efm/get-excel?report=efm08\"\n              label=\"Tải báo cáo\"\n            />\n          </Grid>\n        </Grid>\n        {report.length > 0 && (\n          <>\n            <Grid item xs={12}>\n              <Efm08AreaChart\n                title=\"Tình trạng quá hạn Phải thu trong ngắn hạn\"\n                data={dataProvider.getAreaChartData('1', report)}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <Efm08AreaChart\n                title=\"Tình trạng quá hạn Phải thu retention\"\n                data={dataProvider.getAreaChartData('2', report)}\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <Efm08MixedChart\n                title=\"Top 5 dự án quá hạn Phải thu trong ngắn hạn lớn\"\n                data={dataProvider.getMixedChartData('1', report)}\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <Efm08MixedChart\n                title=\"Top 5 dự án quá hạn Phải thu retention lớn\"\n                data={dataProvider.getMixedChartData('2', report)}\n              />\n            </Grid>\n          </>\n        )}\n      </Grid>\n    </div>\n  )\n}","import React from 'react';\nimport {\n  DashboardForm\n} from '@nvdunginest/emis-mui';\n\nconst pageText = 'BÁO CÁO KPI CÔNG TY';\n\nexport default function Efm09(): JSX.Element {\n  return <DashboardForm text={pageText} />\n}","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n  Grid,\n  Typography,\n} from '@material-ui/core';\n\nimport {\n  AppDispatch,\n  alertActions,\n  alertMessage,\n  loadingActions,\n} from '../../../core';\n\nimport userService from '../services/user';\nimport { reportList } from '../constants/report';\n\nconst colors = [\n  '#0D6EFD',\n  '#198754',\n  '#FFC107',\n  '#DC3545',\n  '#0DCAF0',\n  '#6C757D',\n]\nconst colorPalettes = [\n  ...colors,\n  ...colors,\n  ...colors,\n  ...colors,\n  ...colors,\n];\n\nconst useStyles = makeStyles(() => ({\n  box: {\n    padding: 8,\n    cursor: 'pointer',\n    '&:hover': {\n      backgroundColor: '#bcc3cf',\n    },\n  },\n  link: {\n    display: 'flex',\n    flexDirection: 'row',\n    textDecoration: 'none',\n    color: 'black',\n  },\n}));\n\nexport default function Enterprise(): JSX.Element {\n  const classes = useStyles();\n  const dispatch: AppDispatch = useDispatch();\n  const [permissions, setPermissions] = React.useState<boolean[]>([]);\n\n  React.useEffect(() => {\n    dispatch(loadingActions.show());\n    Promise.all([\n      userService.checkRolePermission('EFM01_ROLE'),\n      userService.checkRolePermission('EFM02_ROLE'),\n      userService.checkRolePermission('EFM03_ROLE'),\n      userService.checkRolePermission('EFM04_ROLE'),\n      userService.checkRolePermission('EFM05_ROLE'),\n      userService.checkRolePermission('EFM06_ROLE'),\n      userService.checkRolePermission('EFM07_ROLE'),\n      userService.checkRolePermission('EFM08_ROLE'),\n      userService.checkRolePermission('EFM09_ROLE'),\n      userService.checkRolePermission('PFM03_ROLE'),\n    ])\n      .then((data) => {\n        setPermissions(data);\n      })\n      .catch(() => {\n        setPermissions([]);\n        dispatch(alertActions.show(alertMessage.FETCH_FAILURE, 'error'));\n      })\n      .finally(() => {\n        dispatch(loadingActions.hide());\n      })\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  return (\n    <Grid container spacing={2} style={{ padding: 8 }}>\n      {permissions.map((p, index) => p && (\n        <Grid\n          key={index}\n          item xs={12}\n          sm={6}\n          md={3}\n          className={classes.box}\n        >\n          <Link to={reportList[index].link} className={classes.link}>\n            <div style={{\n              display: 'flex',\n              justifyContent: 'center',\n              alignItems: 'center',\n              color: 'white',\n              backgroundColor: colorPalettes[index],\n              height: '50px',\n              width: '50px',\n              borderRadius: '10px',\n              marginRight: 8,\n            }}>\n              <FontAwesomeIcon style={{ fontSize: '1.8rem' }} icon={reportList[index].icon} />\n            </div>\n            <div style={{\n              flexGrow: 1,\n            }}>\n              <Typography noWrap variant=\"body1\" style={{ fontWeight: 'bold' }}>{reportList[index].name}</Typography>\n              <Typography noWrap variant=\"subtitle2\">{reportList[index].text}</Typography>\n            </div>\n          </Link>\n        </Grid>\n      ))\n      }\n    </Grid >\n  )\n}\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n  Typography,\n  Grid,\n  Table,\n  TableHead,\n  TableBody,\n  TableRow,\n  TableCell,\n} from '@material-ui/core';\nimport {\n  DownloadButton,\n} from '@nvdunginest/emis-mui';\n\nimport {\n  AppDispatch,\n  alertActions,\n  alertMessage,\n  loadingActions,\n} from '../../../core';\n\nimport viewerService, {\n  ViewerModel,\n} from '../services/reportViewer';\n\nconst useStyles = makeStyles((theme) => ({\n  content: {\n    display: 'flex',\n    height: 'calc(100% - 32px)',\n    flexDirection: 'column',\n    alignItems: 'center',\n    margin: theme.spacing(-1),\n    [theme.breakpoints.down('xs')]: {\n      margin: 0,\n      height: 'calc(100% - 48px)',\n    },\n  },\n  menu: {\n    display: 'flex',\n    width: '100%',\n  },\n  title: {\n    flexGrow: 1,\n    textTransform: 'uppercase',\n  },\n  link: {\n    textDecoration: 'none',\n  },\n}));\n\nexport default function Pfm(): JSX.Element {\n  const classes = useStyles();\n  const dispatch: AppDispatch = useDispatch();\n  const [projects, setProjects] = React.useState<ViewerModel[]>([]);\n\n  const refresh = async () => {\n    dispatch(loadingActions.show());\n    try {\n      setProjects(await viewerService.getPermission('pfm'));\n    }\n    catch {\n      dispatch(alertActions.show(alertMessage.FETCH_FAILURE, 'error'));\n    }\n    finally {\n      dispatch(loadingActions.hide());\n    }\n  }\n\n  React.useEffect(() => {\n    refresh();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <div className={classes.content}>\n      <Grid container spacing={1} style={{ padding: '8px' }}>\n        <Grid container alignItems=\"center\" item spacing={1} className={classes.menu} xs={12}>\n          <Grid item className={classes.title}>\n            <Typography variant=\"h6\">Báo cáo Tài chính Dự án</Typography>\n          </Grid>\n        </Grid>\n        <Grid item spacing={1} xs={12}>\n          <Table>\n            <TableHead>\n              <TableRow>\n                <TableCell>Dự án</TableCell>\n                <TableCell>Tên dự án</TableCell>\n                <TableCell>Pfm01</TableCell>\n                <TableCell>Pfm02</TableCell>\n                <TableCell>Pfm03</TableCell>\n                <TableCell>Pfm04</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {projects.map(p => (\n                <TableRow key={p.projectCode}>\n                  <TableCell>{p.projectCode}</TableCell>\n                  <TableCell>{p.projectName}</TableCell>\n                  <TableCell>\n                    <DownloadButton\n                      filename={`Pfm01_${p.projectCode}.xlsx`}\n                      url={`/api/ebi/pfm01/getExcel?projectCode=${p.projectCode}`}\n                      label=\"Tải báo cáo\"\n                    />\n                  </TableCell>\n                  <TableCell>\n                    <DownloadButton\n                      filename={`Pfm02_${p.projectCode}.xlsx`}\n                      url={`/api/ebi/pfm02/getExcel?projectCode=${p.projectCode}`}\n                      label=\"Tải báo cáo\"\n                    />\n                  </TableCell>\n                  <TableCell>\n                    <DownloadButton\n                      filename={`Pfm03_${p.projectCode}.xlsx`}\n                      url={`/api/ebi/pfm03/getExcel?projectCode=${p.projectCode}`}\n                      label=\"Tải báo cáo\"\n                    />\n                  </TableCell>\n                  <TableCell>\n                    <DownloadButton\n                      filename={`Pfm04_${p.projectCode}.xlsx`}\n                      url={`/api/ebi/pfm04/getExcel?projectCode=${p.projectCode}`}\n                      label=\"Tải báo cáo\"\n                    />\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </Grid>\n      </Grid>\n    </div>\n  )\n}","import React from 'react';\nimport {\n  Route,\n  Switch,\n  useRouteMatch,\n} from 'react-router-dom';\n\nimport Dashboard from '../pages/Dashboard';\nimport Efm01 from '../pages/Efm01';\nimport Efm02 from '../pages/Efm02';\nimport Efm03 from '../pages/Efm03';\nimport Efm04 from '../pages/Efm04';\nimport Efm05 from '../pages/Efm05';\nimport Efm06 from '../pages/Efm06';\nimport Efm07 from '../pages/Efm07';\nimport Efm08 from '../pages/Efm08';\nimport Efm09 from '../pages/Efm09';\nimport Enterprise from '../pages/Enterprise';\nimport Pfm from '../pages/Pfm';\n\nexport default function PublicRoutes(): JSX.Element {\n  const { path } = useRouteMatch();\n\n  return (\n    <Switch>\n      <Route path={`${path}/dashboard`} component={Dashboard} />\n      <Route path={`${path}/enterprise`} component={Enterprise} />\n      <Route path={`${path}/efm01`} component={Efm01} />\n      <Route path={`${path}/efm02`} component={Efm02} />\n      <Route path={`${path}/efm03`} component={Efm03} />\n      <Route path={`${path}/efm04`} component={Efm04} />\n      <Route path={`${path}/efm05`} component={Efm05} />\n      <Route path={`${path}/efm06`} component={Efm06} />\n      <Route path={`${path}/efm07`} component={Efm07} />\n      <Route path={`${path}/efm08`} component={Efm08} />\n      <Route path={`${path}/efm09`} component={Efm09} />\n      <Route exact path={`${path}/pfm`} component={Pfm} />\n    </Switch>\n  );\n}\n","import React from 'react';\nimport {\n  Switch,\n  Route,\n  useRouteMatch,\n} from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\n\nimport {\n  AppDispatch,\n  layoutActions,\n} from '../../core';\n\nimport {\n  plugin,\n  checkAdmin,\n\n  menuList,\n  adminMenuList,\n} from './configs';\n\nconst PrivateRoutes = React.lazy(() => import('./routes/PrivateRoutes'));\nimport PublicRoutes from './routes/PublicRoutes';\n\nexport default function Main(): JSX.Element {\n  const { path } = useRouteMatch();\n  const dispatch: AppDispatch = useDispatch();\n\n  const [isAdmin, setIsAdmin] = React.useState(false);\n\n  React.useEffect(() => {\n    dispatch(layoutActions.setActivePluginId(plugin.id));\n    checkAdmin()\n      .then((result) => {\n        setIsAdmin(result);\n      })\n      .catch(() => {\n        setIsAdmin(false);\n      });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  React.useEffect(() => {\n    const adminList = isAdmin ? [...adminMenuList] : [];\n    dispatch(layoutActions.setMenuList([\n      ...menuList,\n      ...adminList,\n    ]));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isAdmin]);\n\n  return (\n    <Switch>\n      {isAdmin && <Route path={`${path}/admin`} component={PrivateRoutes} />}\n      <Route path={`${path}`} component={PublicRoutes} />\n    </Switch>\n  );\n}\n"],"sourceRoot":""}