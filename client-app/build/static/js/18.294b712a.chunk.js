(this.webpackJsonpemis=this.webpackJsonpemis||[]).push([[18],{1094:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return E}));var a=n(138),c=n(17),i=n(0),r=n.n(i),o=n(25),s=n(55),l=n(95),u=n(23),d=n.n(u),h=n(41),f=n(16),j=n(300),b=n(128),g=n(130),m=n(301),v=n(338),p=n(98),x=n(30),O=n(48),y=n(373),D=n(10),w=n.n(D);var M={get:function(e,t){return w.a.get("".concat("/api/timekeeper/timeLogs","/").concat(e,"/").concat(t))}},N=n(109),k=n(1),T=Object(j.a)((function(e){return{cell:Object(f.a)({padding:e.spacing(1),height:e.spacing(8),width:"calc(100%/7)"},e.breakpoints.down("sm"),{padding:e.spacing(.5)}),head:{padding:e.spacing(1),width:"calc(100%/7)",textAlign:"center",fontWeight:"bold"},cellContent:{display:"flex",flexDirection:"column"}}}));function C(){var e=T(),t=r.a.useState([]),n=Object(c.a)(t,2),a=n[0],i=n[1],o=r.a.useContext(N.a),s=o.showAlert,l=o.showBackdrop,u=o.hideBackdrop,f=r.a.useState((new Date).getMonth()+1),j=Object(c.a)(f,2),D=j[0],w=j[1],C=r.a.useState((new Date).getFullYear()),S=Object(c.a)(C,2),F=S[0],E=S[1],I=function(){var e=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(),e.prev=1,e.t0=i,e.next=5,M.get(D,F);case 5:e.t1=e.sent,(0,e.t0)(e.t1),u(),e.next=14;break;case 10:e.prev=10,e.t2=e.catch(1),u(),s(N.b.FETCH_FAILURE,"error");case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),z=function(e,t){var n=new Date(e);return n.setDate(n.getDate()+t),n},A=function(e,t){return e.getFullYear()===t.getFullYear()&&(e.getMonth()===t.getMonth()&&e.getDate()===t.getDate())},H=function(e){var t=a.find((function(t){return A(new Date(t.date),e)}));return void 0===t?"":t.hasTimeIn?y.a.formatDate(new Date(t.timeIn),"hh:mm"):""},Y=function(e){var t=a.find((function(t){return A(new Date(t.date),e)}));return void 0===t?"":t.hasTimeOut?y.a.formatDate(new Date(t.timeOut),"hh:mm"):""};return r.a.useEffect((function(){I()}),[D,F]),Object(k.jsx)(O.l,{title:"Time Event",noPadding:!0,children:Object(k.jsxs)(v.a,{style:{width:"100%"},container:!0,children:[Object(k.jsxs)(v.a,{item:!0,xs:12,style:{padding:"16px",display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(k.jsx)(O.n,{icon:"chevron-left",onClick:function(){1===D?(w(12),E(F-1)):w(D-1)}}),Object(k.jsx)(p.a,{variant:"subtitle2",children:"".concat(D,"/").concat(F)}),Object(k.jsx)(O.n,{icon:"chevron-right",onClick:function(){12===D?(w(1),E(F+1)):w(D+1)}})]}),Object(k.jsxs)(v.a,{item:!0,xs:12,style:{display:"flex",flexDirection:"row"},children:[Object(k.jsx)("div",{className:e.head,children:"CN"}),Object(k.jsx)("div",{className:e.head,children:"T2"}),Object(k.jsx)("div",{className:e.head,children:"T3"}),Object(k.jsx)("div",{className:e.head,children:"T4"}),Object(k.jsx)("div",{className:e.head,children:"T5"}),Object(k.jsx)("div",{className:e.head,children:"T6"}),Object(k.jsx)("div",{className:e.head,children:"T7"})]}),function(){for(var e=[],t=function(){var e=new Date(F,D-1,1),t=e.getDay();return e.setDate(e.getDate()-t),e}(),n=function(){var e=new Date(F,D,0),t=e.getDay();return e.setDate(e.getDate()-t+6),e}(),a=[],c=t;c<=n;c=z(c,1))0===c.getDay()?(a=[]).push(c):6===c.getDay()?(a.push(c),e.push(a)):a.push(c);return e}().map((function(t,n){return Object(k.jsx)(v.a,{item:!0,xs:12,style:{display:"flex",flexDirection:"row"},children:t.map((function(t,n){return Object(k.jsx)("div",{style:{backgroundColor:t.getMonth()===D-1?"inherit":b.a[100]},className:e.cell,children:t.getMonth()===D-1&&Object(k.jsxs)("div",{className:e.cellContent,children:[Object(k.jsx)(p.a,{style:{width:"100%"},variant:"subtitle2",align:"center",children:y.a.formatDate(t,"dd")}),Object(k.jsxs)(p.a,{style:{fontSize:"0.65rem",color:g.a[800],fontWeight:"bold"},variant:"caption",align:"left",children:[Object(k.jsx)(x.a,{style:{fontSize:"0.5rem"},icon:"chevron-right"})," ".concat(H(t))]}),Object(k.jsxs)(p.a,{style:{fontSize:"0.65rem",color:m.a[800],fontWeight:"bold"},variant:"caption",align:"left",children:[Object(k.jsx)(x.a,{style:{fontSize:"0.5rem"},icon:"chevron-left"})," ".concat(Y(t))]})]})},n)}))},n)}))]})})}function S(){var e=Object(o.j)().path;return Object(k.jsx)(o.d,{children:Object(k.jsx)(o.b,{path:"".concat(e,"/dashboard"),component:C})})}var F=r.a.lazy((function(){return n.e(21).then(n.bind(null,1099))}));function E(){var e=Object(o.j)().path,t=r.a.useContext(s.a),n=t.changeSideMenuList,i=t.changeActivePluginId,u=r.a.useState(!1),d=Object(c.a)(u,2),h=d[0],f=d[1];return r.a.useEffect((function(){i(l.e.id),Object(l.b)().then((function(e){f(e)})).catch((function(){f(!1)}))}),[]),r.a.useEffect((function(){var e=h?Object(a.a)(l.a):[];n([].concat(Object(a.a)(l.d),Object(a.a)(e)))}),[h]),Object(k.jsxs)(o.d,{children:[h&&Object(k.jsx)(o.b,{path:"".concat(e,"/admin"),component:F}),Object(k.jsx)(o.b,{path:"".concat(e),component:S})]})}},373:function(e,t,n){"use strict";var a={formatDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"dd/MM/yyyy",n=t,a=[{symbol:"dd",value:e.getDate()<10?"0".concat(e.getDate()):e.getDate()},{symbol:"MM",value:e.getMonth()+1<10?"0".concat(e.getMonth()+1):"".concat(e.getMonth()+1)},{symbol:"yyyy",value:e.getFullYear()},{symbol:"hh",value:e.getHours()<10?"0".concat(e.getHours()):e.getHours()},{symbol:"mm",value:e.getMinutes()<10?"0".concat(e.getMinutes()):e.getMinutes()}];return a.map((function(e){return n=n.replace(e.symbol,e.value),e.symbol})),n},formatMoney:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=new Intl.NumberFormat("vi-VN",{maximumFractionDigits:t});return n.format(e)}};t.a=a}}]);