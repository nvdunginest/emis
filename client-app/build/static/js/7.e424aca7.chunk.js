(this.webpackJsonpemis=this.webpackJsonpemis||[]).push([[7],{482:function(e,t,n){"use strict";var a={formatDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"dd/MM/yyyy",n=t,a=[{symbol:"dd",value:e.getDate()<10?"0".concat(e.getDate()):e.getDate()},{symbol:"MM",value:e.getMonth()+1<10?"0".concat(e.getMonth()+1):"".concat(e.getMonth()+1)},{symbol:"yyyy",value:e.getFullYear()},{symbol:"hh",value:e.getHours()<10?"0".concat(e.getHours()):e.getHours()},{symbol:"mm",value:e.getMinutes()<10?"0".concat(e.getMinutes()):e.getMinutes()}];return a.map((function(e){return n=n.replace(e.symbol,e.value),e.symbol})),n},formatMoney:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=new Intl.NumberFormat("vi-VN",{maximumFractionDigits:t});return n.format(e)}};t.a=a},497:function(e,t,n){"use strict";var a=n(0),c=a.createContext({});t.a=c},508:function(e,t,n){"use strict";var a=n(10),c=n.n(a),r="/api/contract/contracts";var i={getMyContractList:function(e){return c.a.get("".concat(r,"/getMyContractList/").concat(e))},getContractList:function(e){return c.a.get("".concat(r,"/getContractList/").concat(e))},getContract:function(e){return c.a.get("".concat(r,"/").concat(e))},updateNetPrice:function(e,t){return c.a.put("".concat(r,"/updateNetPrice/").concat(e),t)},countByCreator:function(){return c.a.get("".concat(r,"/countByCreator"))},countByApprover:function(){return c.a.get("".concat(r,"/countByApprover"))}};t.a=i},521:function(e,t,n){"use strict";var a=n(2),c=n(23),r=n(4),i=n(0),s=n(3),o=(n(5),n(147)),u=n(6),l=n(36),d=n(49),j=n(24),p=n(12),b=i.forwardRef((function(e,t){var n=e.children,u=e.classes,b=e.className,h=e.collapsedHeight,m=void 0===h?"0px":h,x=e.component,f=void 0===x?"div":x,O=e.disableStrictModeCompat,g=void 0!==O&&O,v=e.in,y=e.onEnter,N=e.onEntered,C=e.onEntering,k=e.onExit,w=e.onExited,S=e.onExiting,A=e.style,T=e.timeout,P=void 0===T?l.b.standard:T,I=e.TransitionComponent,E=void 0===I?o.a:I,D=Object(r.a)(e,["children","classes","className","collapsedHeight","component","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),B=Object(j.a)(),R=i.useRef(),M=i.useRef(null),F=i.useRef(),H="number"===typeof m?"".concat(m,"px"):m;i.useEffect((function(){return function(){clearTimeout(R.current)}}),[]);var L=B.unstable_strictMode&&!g,_=i.useRef(null),q=Object(p.a)(t,L?_:void 0),V=function(e){return function(t,n){if(e){var a=L?[_.current,t]:[t,n],r=Object(c.a)(a,2),i=r[0],s=r[1];void 0===s?e(i):e(i,s)}}},U=V((function(e,t){e.style.height=H,y&&y(e,t)})),z=V((function(e,t){var n=M.current?M.current.clientHeight:0,a=Object(d.a)({style:A,timeout:P},{mode:"enter"}).duration;if("auto"===P){var c=B.transitions.getAutoHeightDuration(n);e.style.transitionDuration="".concat(c,"ms"),F.current=c}else e.style.transitionDuration="string"===typeof a?a:"".concat(a,"ms");e.style.height="".concat(n,"px"),C&&C(e,t)})),$=V((function(e,t){e.style.height="auto",N&&N(e,t)})),K=V((function(e){var t=M.current?M.current.clientHeight:0;e.style.height="".concat(t,"px"),k&&k(e)})),W=V(w),G=V((function(e){var t=M.current?M.current.clientHeight:0,n=Object(d.a)({style:A,timeout:P},{mode:"exit"}).duration;if("auto"===P){var a=B.transitions.getAutoHeightDuration(t);e.style.transitionDuration="".concat(a,"ms"),F.current=a}else e.style.transitionDuration="string"===typeof n?n:"".concat(n,"ms");e.style.height=H,S&&S(e)}));return i.createElement(E,Object(a.a)({in:v,onEnter:U,onEntered:$,onEntering:z,onExit:K,onExited:W,onExiting:G,addEndListener:function(e,t){var n=L?e:t;"auto"===P&&(R.current=setTimeout(n,F.current||0))},nodeRef:L?_:void 0,timeout:"auto"===P?null:P},D),(function(e,t){return i.createElement(f,Object(a.a)({className:Object(s.a)(u.container,b,{entered:u.entered,exited:!v&&"0px"===H&&u.hidden}[e]),style:Object(a.a)({minHeight:H},A),ref:q},t),i.createElement("div",{className:u.wrapper,ref:M},i.createElement("div",{className:u.wrapperInner},n)))}))}));b.muiSupportAuto=!0,t.a=Object(u.a)((function(e){return{container:{height:0,overflow:"hidden",transition:e.transitions.create("height")},entered:{height:"auto",overflow:"visible"},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}}),{name:"MuiCollapse"})(b)},547:function(e,t,n){"use strict";var a=n(2),c=n(4),r=n(0),i=(n(5),n(3)),s=n(170),o=n(169),u=n(6),l=n(497),d=r.forwardRef((function(e,t){var n=e.children,u=e.classes,d=e.className,j=e.expandIcon,p=e.IconButtonProps,b=e.onBlur,h=e.onClick,m=e.onFocusVisible,x=Object(c.a)(e,["children","classes","className","expandIcon","IconButtonProps","onBlur","onClick","onFocusVisible"]),f=r.useState(!1),O=f[0],g=f[1],v=r.useContext(l.a),y=v.disabled,N=void 0!==y&&y,C=v.expanded,k=v.toggle;return r.createElement(s.a,Object(a.a)({focusRipple:!1,disableRipple:!0,disabled:N,component:"div","aria-expanded":C,className:Object(i.a)(u.root,d,N&&u.disabled,C&&u.expanded,O&&u.focused),onFocusVisible:function(e){g(!0),m&&m(e)},onBlur:function(e){g(!1),b&&b(e)},onClick:function(e){k&&k(e),h&&h(e)},ref:t},x),r.createElement("div",{className:Object(i.a)(u.content,C&&u.expanded)},n),j&&r.createElement(o.a,Object(a.a)({className:Object(i.a)(u.expandIcon,C&&u.expanded),edge:"end",component:"div",tabIndex:null,role:null,"aria-hidden":!0},p),j))}));t.a=Object(u.a)((function(e){var t={duration:e.transitions.duration.shortest};return{root:{display:"flex",minHeight:48,transition:e.transitions.create(["min-height","background-color"],t),padding:e.spacing(0,2),"&:hover:not($disabled)":{cursor:"pointer"},"&$expanded":{minHeight:64},"&$focused":{backgroundColor:e.palette.action.focus},"&$disabled":{opacity:e.palette.action.disabledOpacity}},expanded:{},focused:{},disabled:{},content:{display:"flex",flexGrow:1,transition:e.transitions.create(["margin"],t),margin:"12px 0","&$expanded":{margin:"20px 0"}},expandIcon:{transform:"rotate(0deg)",transition:e.transitions.create("transform",t),"&:hover":{backgroundColor:"transparent"},"&$expanded":{transform:"rotate(180deg)"}}}}),{name:"MuiAccordionSummary"})(d)},548:function(e,t,n){"use strict";var a=n(2),c=n(4),r=n(0),i=(n(5),n(3)),s=n(6),o=r.forwardRef((function(e,t){var n=e.classes,s=e.className,o=Object(c.a)(e,["classes","className"]);return r.createElement("div",Object(a.a)({className:Object(i.a)(n.root,s),ref:t},o))}));t.a=Object(s.a)((function(e){return{root:{display:"flex",padding:e.spacing(1,2,2)}}}),{name:"MuiAccordionDetails"})(o)},580:function(e,t,n){"use strict";var a=n(2),c=n(174),r=n(173),i=n(117),s=n(175);var o=n(23),u=n(4),l=n(0),d=(n(89),n(5),n(3)),j=n(521),p=n(149),b=n(6),h=n(497),m=n(90),x=l.forwardRef((function(e,t){var n,b=e.children,x=e.classes,f=e.className,O=e.defaultExpanded,g=void 0!==O&&O,v=e.disabled,y=void 0!==v&&v,N=e.expanded,C=e.onChange,k=e.square,w=void 0!==k&&k,S=e.TransitionComponent,A=void 0===S?j.a:S,T=e.TransitionProps,P=Object(u.a)(e,["children","classes","className","defaultExpanded","disabled","expanded","onChange","square","TransitionComponent","TransitionProps"]),I=Object(m.a)({controlled:N,default:g,name:"Accordion",state:"expanded"}),E=Object(o.a)(I,2),D=E[0],B=E[1],R=l.useCallback((function(e){B(!D),C&&C(e,!D)}),[D,C,B]),M=l.Children.toArray(b),F=(n=M,Object(c.a)(n)||Object(r.a)(n)||Object(i.a)(n)||Object(s.a)()),H=F[0],L=F.slice(1),_=l.useMemo((function(){return{expanded:D,disabled:y,toggle:R}}),[D,y,R]);return l.createElement(p.a,Object(a.a)({className:Object(d.a)(x.root,f,D&&x.expanded,y&&x.disabled,!w&&x.rounded),ref:t,square:w},P),l.createElement(h.a.Provider,{value:_},H),l.createElement(A,Object(a.a)({in:D,timeout:"auto"},T),l.createElement("div",{"aria-labelledby":H.props.id,id:H.props["aria-controls"],role:"region"},L)))}));t.a=Object(b.a)((function(e){var t={duration:e.transitions.duration.shortest};return{root:{position:"relative",transition:e.transitions.create(["margin"],t),"&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:e.palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-child":{"&:before":{display:"none"}},"&$expanded":{margin:"16px 0","&:first-child":{marginTop:0},"&:last-child":{marginBottom:0},"&:before":{opacity:0}},"&$expanded + &":{"&:before":{display:"none"}},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},rounded:{borderRadius:0,"&:first-child":{borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius},"&:last-child":{borderBottomLeftRadius:e.shape.borderRadius,borderBottomRightRadius:e.shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},expanded:{},disabled:{}}}),{name:"MuiAccordion"})(x)},714:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Be}));var a=n(152),c=n(16),r=n(0),i=n.n(r),s=n(29),o=n(57),u=n(99),l=n(28),d=n.n(l),j=n(42),p=n(411),b=n(400),h=n(144),m=n(142),x=n(35),f=n(450),O=n(51),g=n(22),v=n(115),y=n(128),N=n(508),C=n(1);function k(e){var t=e.icon,n=e.title,a=e.value,c=e.color,r=e.path,i=Object(s.g)();return Object(C.jsxs)(f.a,{container:!0,spacing:1,alignItems:"center",style:{cursor:"pointer"},onClick:function(){i.push(r)},children:[Object(C.jsx)(f.a,{item:!0,children:Object(C.jsx)(x.a,{style:{fontSize:"1.5rem",color:c},icon:t})}),Object(C.jsxs)(f.a,{item:!0,children:[Object(C.jsx)(O.a,{variant:"caption",children:n}),Object(C.jsx)(O.a,{variant:"subtitle2",children:"".concat(a," h\u1ee3p \u0111\u1ed3ng")})]})]})}function w(){var e=i.a.useContext(v.a),t=e.showAlert,n=e.showBackdrop,a=e.hideBackdrop,r=i.a.useState(!1),s=Object(c.a)(r,2),o=s[0],u=s[1],l=i.a.useState(!1),x=Object(c.a)(l,2),O=x[0],w=x[1],S=i.a.useState({processing:0,submitted:0,approved:0,waiting:0}),A=Object(c.a)(S,2),T=A[0],P=A[1],I=i.a.useState({submitted:0,approved:0,waiting:0}),E=Object(c.a)(I,2),D=E[0],B=E[1],R=function(e,t){var n=e.find((function(e){return e.contractStatus===t}));return void 0===n?0:n.total},M=function(){var e=Object(j.a)(d.a.mark((function e(){var c,r,i,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(),e.prev=1,e.next=4,y.c.checkCreatorPermission();case 4:if(c=e.sent,u(c),!c){e.next=11;break}return e.next=9,N.a.countByCreator();case 9:r=e.sent,P({processing:R(r,0),approved:R(r,2),submitted:R(r,1),waiting:R(r,3)});case 11:return e.next=13,y.c.checkApproverPermission();case 13:if(i=e.sent,w(i),!i){e.next=20;break}return e.next=18,N.a.countByApprover();case 18:s=e.sent,B({approved:R(s,2),submitted:R(s,1),waiting:R(s,3)});case 20:a(),e.next=31;break;case 23:e.prev=23,e.t0=e.catch(1),t(v.b.ACTION_FAILURE,"error"),u(!1),w(!1),P({waiting:0,submitted:0,approved:0,processing:0}),B({waiting:0,approved:0,submitted:0}),a();case 31:case"end":return e.stop()}}),e,null,[[1,23]])})));return function(){return e.apply(this,arguments)}}();return i.a.useEffect((function(){M()}),[]),Object(C.jsxs)(f.a,{container:!0,spacing:2,children:[o&&Object(C.jsx)(f.a,{item:!0,xs:12,children:Object(C.jsx)(g.m,{title:"Qu\u1ea3n l\xfd h\u1ee3p \u0111\u1ed3ng B",children:Object(C.jsxs)(f.a,{container:!0,spacing:2,children:[Object(C.jsx)(f.a,{item:!0,xs:12,md:6,children:Object(C.jsx)(k,{icon:"sync-alt",title:"H\u1ee3p \u0111\u1ed3ng \u0111ang x\u1eed l\xfd",value:T.processing,color:p.a[700],path:"/b-contract/creator/list/processing"})}),Object(C.jsx)(f.a,{item:!0,xs:12,md:6,children:Object(C.jsx)(k,{icon:"hourglass-half",title:"H\u1ee3p \u0111\u1ed3ng ch\u1edd ph\xea duy\u1ec7t",value:T.submitted,color:b.a[700],path:"/b-contract/creator/list/submitted"})}),Object(C.jsx)(f.a,{item:!0,xs:12,md:6,children:Object(C.jsx)(k,{icon:"check-circle",title:"H\u1ee3p \u0111\u1ed3ng \u0111\xe3 ph\xea duy\u1ec7t",value:T.approved,color:h.a[700],path:"/b-contract/creator/list/approved"})}),Object(C.jsx)(f.a,{item:!0,xs:12,md:6,children:Object(C.jsx)(k,{icon:"history",title:"H\u1ee3p \u0111\u1ed3ng ch\u1edd m\u1edf l\u1ea1i",value:T.waiting,color:m.a[700],path:"/b-contract/creator/list/waiting"})})]})})}),O&&Object(C.jsx)(f.a,{item:!0,xs:12,children:Object(C.jsx)(g.m,{title:"Ph\xea duy\u1ec7t h\u1ee3p \u0111\u1ed3ng B",children:Object(C.jsxs)(f.a,{container:!0,spacing:2,children:[Object(C.jsx)(f.a,{item:!0,xs:12,md:6,children:Object(C.jsx)(k,{icon:"hourglass-half",title:"H\u1ee3p \u0111\u1ed3ng ch\u1edd ph\xea duy\u1ec7t",value:D.submitted,color:b.a[700],path:"/b-contract/approver/list/submitted"})}),Object(C.jsx)(f.a,{item:!0,xs:12,md:6,children:Object(C.jsx)(k,{icon:"check-circle",title:"H\u1ee3p \u0111\u1ed3ng \u0111\xe3 ph\xea duy\u1ec7t",value:D.approved,color:h.a[700],path:"/b-contract/approver/list/approved"})}),Object(C.jsx)(f.a,{item:!0,xs:12,md:6,children:Object(C.jsx)(k,{icon:"history",title:"H\u1ee3p \u0111\u1ed3ng ch\u1edd m\u1edf l\u1ea1i",value:D.waiting,color:m.a[700],path:"/b-contract/approver/list/waiting"})}),Object(C.jsx)(f.a,{item:!0,xs:12,md:6,children:Object(C.jsx)(g.j,{filename:"ContractReport.xlsx",url:"/api/contract/contracts/getExcelReport"})})]})})})]})}var S="GET_CONTRACT_DETAIL_SUCCESS",A="GET_CONTRACT_DETAIL_FAILURE",T={contract:{contractNumber:"",createdBy:"",createdByFullName:"",createdDate:new Date,projectCode:"",projectName:"",status:"",vendorCode:"",vendorName:"",contractType:"D",contractValue:0,paymentTerm:"",items:[],requests:[],attachments:[]}},P={state:T,getContractDetail:function(e){},create:function(e,t){},cancel:function(e,t){},check:function(e,t){},reject:function(e,t){},approve:function(e,t){},updateNetPrice:function(e,t){},createAttachment:function(e,t,n){},removeAttachment:function(e,t){}};function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return{contract:t.payload.contract};case A:return T;default:return e}}var E=n(10),D=n.n(E),B=function(e){return"/api/contract/contracts/".concat(e,"/requests")};var R={create:function(e,t){return D.a.post("".concat(B(e),"/create"),t)},cancel:function(e,t){return D.a.post("".concat(B(e),"/cancel"),t)},check:function(e,t){return D.a.post("".concat(B(e),"/check"),t)},reject:function(e,t){return D.a.post("".concat(B(e),"/reject"),t)},approve:function(e,t){return D.a.post("".concat(B(e),"/approve"),t)}},M=function(e){return"/api/contract/contracts/".concat(e,"/attachments")};var F={create:function(e,t,n){var a=new FormData;return t.map((function(e){return a.append("files",e,e.name),!0})),n.map((function(e){return a.append("privateFiles",e,e.name),!0})),D.a.post("".concat(M(e)),a,{headers:{"Content-Type":"multipart/form-data"}})},remove:function(e,t){return D.a.delete("".concat(M(e),"/").concat(t))}},H=function(){var e=Object(j.a)(d.a.mark((function e(t,n,a){var c,r,i,s,o,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=function(){return{type:A}},s=function(e){return{type:S,payload:{contract:e}}},c=a.showBackdrop,r=a.showAlert,i=a.hideBackdrop,c(),e.prev=4,e.next=7,N.a.getContract(t);case 7:u=e.sent,n(s(u)),i(),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(4),n(o()),i(),r(v.b.FETCH_FAILURE,"error");case 17:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t,n,a){return e.apply(this,arguments)}}(),L=function(){var e=Object(j.a)(d.a.mark((function e(t,n,a,c){var r,i,s,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.showBackdrop,i=c.showAlert,s=c.hideBackdrop,""!==n.content){e.next=4;break}return i("N\u1ed9i dung ph\xea duy\u1ec7t kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng!","error"),e.abrupt("return");case 4:if(void 0!==n.steps.find((function(e){return!e.isFinish}))){e.next=7;break}return i("Ph\u1ea3i c\xf3 \xedt nh\u1ea5t m\u1ed9t ng\u01b0\u1eddi ki\u1ec3m tra!","error"),e.abrupt("return");case 7:if(void 0!==(o=n.steps.find((function(e){return e.isFinish})))&&""!==o.userNumber){e.next=11;break}return i("Ch\u01b0a c\xf3 ng\u01b0\u1eddi ph\xea duy\u1ec7t!","error"),e.abrupt("return");case 11:return r(),e.prev=12,e.next=15,R.create(t,n);case 15:i(v.b.ACTION_SUCCESS,"success"),H(t,a,c),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(12),s(),i(v.b.ACTION_FAILURE,"error");case 23:case"end":return e.stop()}}),e,null,[[12,19]])})));return function(t,n,a,c){return e.apply(this,arguments)}}(),_=function(){var e=Object(j.a)(d.a.mark((function e(t,n,a,c){var r,i,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.showBackdrop,i=c.showAlert,s=c.hideBackdrop,r(),e.prev=2,e.next=5,R.cancel(t,n);case 5:i(v.b.ACTION_SUCCESS,"success"),H(t,a,c),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),s(),i(v.b.ACTION_FAILURE,"error");case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n,a,c){return e.apply(this,arguments)}}(),q=function(){var e=Object(j.a)(d.a.mark((function e(t,n,a,c){var r,i,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.showBackdrop,i=c.showAlert,s=c.hideBackdrop,r(),e.prev=2,e.next=5,R.check(t,n);case 5:i(v.b.ACTION_SUCCESS,"success"),H(t,a,c),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),s(),i(v.b.ACTION_FAILURE,"error");case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n,a,c){return e.apply(this,arguments)}}(),V=function(){var e=Object(j.a)(d.a.mark((function e(t,n,a,c){var r,i,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.showBackdrop,i=c.showAlert,s=c.hideBackdrop,""!==n.content){e.next=4;break}return i("N\u1ed9i dung t\u1eeb ch\u1ed1i kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng!","error"),e.abrupt("return");case 4:return r(),e.prev=5,e.next=8,R.reject(t,n);case 8:i(v.b.ACTION_SUCCESS,"success"),H(t,a,c),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),s(),i(v.b.ACTION_FAILURE,"error");case 16:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n,a,c){return e.apply(this,arguments)}}(),U=function(){var e=Object(j.a)(d.a.mark((function e(t,n,a,c){var r,i,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.showBackdrop,i=c.showAlert,s=c.hideBackdrop,r(),e.prev=2,e.next=5,R.approve(t,n);case 5:i(v.b.ACTION_SUCCESS,"success"),H(t,a,c),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),s(),i(v.b.ACTION_FAILURE,"error");case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n,a,c){return e.apply(this,arguments)}}(),z=function(){var e=Object(j.a)(d.a.mark((function e(t,n,a,c){var r,i,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.showBackdrop,i=c.showAlert,s=c.hideBackdrop,r(),e.prev=2,e.next=5,N.a.updateNetPrice(t,n);case 5:i(v.b.ACTION_SUCCESS,"success"),H(t,a,c),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),s(),i(v.b.ACTION_FAILURE,"error");case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n,a,c){return e.apply(this,arguments)}}(),$=function(){var e=Object(j.a)(d.a.mark((function e(t,n,c,r,i){var s,o,u,l,j;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=i.showBackdrop,o=i.showAlert,u=i.hideBackdrop,l=[].concat(Object(a.a)(n),Object(a.a)(c)).map((function(e){return e.name})),j=Array.from(new Set(l)),l.length===j.length){e.next=6;break}return o("Lo\u1ea1i b\u1ecf c\xe1c file tr\xf9ng l\u1eb7p tr\u01b0\u1edbc khi upload!","error"),e.abrupt("return");case 6:return s(),e.prev=7,e.next=10,F.create(t,n,c);case 10:o(v.b.ACTION_SUCCESS,"success"),H(t,r,i),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(7),u(),o(v.b.ACTION_FAILURE,"error");case 18:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(t,n,a,c,r){return e.apply(this,arguments)}}(),K=function(){var e=Object(j.a)(d.a.mark((function e(t,n,a,c){var r,i,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.showBackdrop,i=c.showAlert,s=c.hideBackdrop,r(),e.prev=2,e.next=5,F.remove(t,n);case 5:i(v.b.ACTION_SUCCESS,"success"),H(t,a,c),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),s(),i(v.b.ACTION_FAILURE,"error");case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n,a,c){return e.apply(this,arguments)}}(),W={getContractDetail:H,create:L,cancel:_,check:q,reject:V,approve:U,updateNetPrice:z,createAttachment:$,removeAttachment:K},G=Object(r.createContext)(P);function X(e){var t=e.children,n=i.a.useReducer(I,T),a=Object(c.a)(n,2),s=a[0],o=a[1],u=Object(r.useContext)(v.a),l={state:s,getContractDetail:function(e){W.getContractDetail(e,o,u)},create:function(e,t){W.create(e,t,o,u)},cancel:function(e,t){W.cancel(e,t,o,u)},check:function(e,t){W.check(e,t,o,u)},reject:function(e,t){W.reject(e,t,o,u)},approve:function(e,t){W.approve(e,t,o,u)},updateNetPrice:function(e,t){W.updateNetPrice(e,t,o,u)},createAttachment:function(e,t,n){W.createAttachment(e,t,n,o,u)},removeAttachment:function(e,t){W.removeAttachment(e,t,o,u)}};return Object(C.jsx)(G.Provider,{value:l,children:t})}var Y=n(482),J=n(478),Q=n(44);function Z(){var e=i.a.useContext(v.a),t=e.showAlert,n=e.showBackdrop,r=e.hideBackdrop,s=i.a.useContext(G),o=s.state,u=s.create,l=i.a.useContext(Q.a).state.user,p=o.contract,b=i.a.useState(""),h=Object(c.a)(b,2),m=h[0],x=h[1],N=i.a.useState(""),k=Object(c.a)(N,2),w=k[0],S=k[1],A=i.a.useState(!1),T=Object(c.a)(A,2),P=T[0],I=T[1],E=i.a.useState([]),D=Object(c.a)(E,2),B=D[0],R=D[1],M=i.a.useState({fullName:"",userNumber:""}),F=Object(c.a)(M,2),H=F[0],L=F[1],_=function(){var e=Object(j.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(),e.prev=1,e.next=4,y.c.getApproverByKeyWord(w);case 4:a=e.sent,L({fullName:a.fullName,userNumber:a.userNumber}),r(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),t("Kh\xf4ng t\xecm th\u1ea5y ng\u01b0\u1eddi n\xe0y trong danh s\xe1ch ph\xea duy\u1ec7t!","error"),r();case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(j.a)(d.a.mark((function e(){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(),e.prev=1,e.next=4,y.c.getApproverByKeyWord(w);case 4:c=e.sent,B.map((function(e){return e.userNumber})).includes(c.userNumber)||R([].concat(Object(a.a)(B),[{fullName:c.fullName,userNumber:c.userNumber}])),r(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),t("Kh\xf4ng t\xecm th\u1ea5y ng\u01b0\u1eddi n\xe0y trong danh s\xe1ch ph\xea duy\u1ec7t!","error"),r();case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(j.a)(d.a.mark((function e(){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0!==B.find((function(e){return e.userNumber===H.userNumber}))?t("Ng\u01b0\u1eddi ph\xea duy\u1ec7t kh\xf4ng th\u1ec3 \u0111\u1ed3ng th\u1eddi l\xe0 ng\u01b0\u1eddi ki\u1ec3m tra!","error"):(I(!1),n=[].concat(Object(a.a)(B.map((function(e){return{userNumber:e.userNumber,isFinish:!1}}))),[{userNumber:H.userNumber,isFinish:!0}]),c={isReopen:"A"===p.status,content:m,steps:n},u(p.contractNumber,c));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return p.createdBy!==l.number||"P"!==p.status&&"A"!==p.status?Object(C.jsx)(C.Fragment,{}):Object(C.jsxs)(f.a,{item:!0,children:[Object(C.jsx)(g.l,{title:"P"===p.status?"T\u1ea1o y\xeau c\u1ea7u ph\xea duy\u1ec7t":"M\u1edf l\u1ea1i h\u1ee3p \u0111\u1ed3ng",onClose:function(){I(!1)},open:P,onSubmit:V,children:Object(C.jsxs)(f.a,{container:!0,spacing:1,alignItems:"flex-end",children:[Object(C.jsx)(f.a,{item:!0,xs:12,md:6,children:Object(C.jsx)(g.r,{label:"M\xe3 s\u1ed1/H\u1ecd t\xean ng\u01b0\u1eddi ph\xea duy\u1ec7t",type:"text",value:w,onChange:function(e){S(e.target.value)}})}),Object(C.jsxs)(f.a,{item:!0,xs:12,md:6,container:!0,spacing:1,children:[Object(C.jsx)(f.a,{item:!0,children:Object(C.jsx)(g.o,{text:"Ki\u1ec3m tra",color:"primary",icon:"check-circle",variant:"contained",onClick:q})}),Object(C.jsx)(f.a,{item:!0,children:Object(C.jsx)(g.o,{text:"Ph\xea duy\u1ec7t",color:"success",icon:"signature",variant:"contained",onClick:_})})]}),Object(C.jsxs)(f.a,{item:!0,xs:12,container:!0,spacing:1,alignItems:"stretch",children:[Object(C.jsxs)(f.a,{item:!0,xs:12,md:6,children:[Object(C.jsx)(O.a,{variant:"caption",children:"Ng\u01b0\u1eddi ki\u1ec3m tra:"}),Object(C.jsx)("div",{children:B.map((function(e){return Object(C.jsx)(J.a,{style:{margin:"4px"},label:"".concat(e.userNumber,"-").concat(e.fullName),onDelete:function(){var t;t=e.userNumber,R(B.filter((function(e){return e.userNumber!==t})))},color:"primary",variant:"outlined",size:"small"},e.userNumber)}))})]}),Object(C.jsxs)(f.a,{item:!0,xs:12,md:6,children:[Object(C.jsx)(O.a,{variant:"caption",children:"Ng\u01b0\u1eddi ph\xea duy\u1ec7t:"}),Object(C.jsx)("div",{children:""!==H.userNumber&&Object(C.jsx)(J.a,{style:{margin:"4px"},label:"".concat(H.userNumber,"-").concat(H.fullName),color:"primary",variant:"outlined",size:"small"})})]})]}),Object(C.jsx)(f.a,{item:!0,xs:12,children:Object(C.jsx)(g.k,{value:m,onChange:function(e){x(e)}})})]})}),Object(C.jsx)(g.o,{variant:"contained",color:"P"===p.status?"primary":"info",tooltip:"P"===p.status?"T\u1ea1o y\xeau c\u1ea7u ph\xea duy\u1ec7t":"M\u1edf l\u1ea1i h\u1ee3p \u0111\u1ed3ng",icon:"P"===p.status?"play-circle":"sync-alt",text:"P"===p.status?"T\u1ea1o y\xeau c\u1ea7u":"M\u1edf l\u1ea1i",onClick:function(){x(""),R([]),L({fullName:"",userNumber:""}),I(!0)}})]})}function ee(){var e=i.a.useContext(G),t=e.state,n=e.cancel,a=i.a.useContext(Q.a).state.user,r=t.contract,s=i.a.useState(""),o=Object(c.a)(s,2),u=o[0],l=o[1],p=i.a.useState(!1),b=Object(c.a)(p,2),h=b[0],m=b[1],x=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(!1),t={content:u},n(r.contractNumber,t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.createdBy!==a.number||"S"!==r.status&&"W"!==r.status?Object(C.jsx)(C.Fragment,{}):Object(C.jsxs)(f.a,{item:!0,children:[Object(C.jsx)(g.l,{title:"S"===r.status?"H\u1ee7y y\xeau c\u1ea7u ph\xea duy\u1ec7t":"H\u1ee7y m\u1edf l\u1ea1i h\u1ee3p \u0111\u1ed3ng",onClose:function(){m(!1)},open:h,onSubmit:x,children:Object(C.jsx)(f.a,{container:!0,spacing:1,alignItems:"flex-end",children:Object(C.jsx)(f.a,{item:!0,xs:12,children:Object(C.jsx)(g.k,{value:u,onChange:function(e){l(e)}})})})}),Object(C.jsx)(g.o,{variant:"contained",color:"S"===r.status?"danger":"warning",tooltip:"S"===r.status?"H\u1ee7y y\xeau c\u1ea7u ph\xea duy\u1ec7t":"H\u1ee7y m\u1edf l\u1ea1i h\u1ee3p \u0111\u1ed3ng",icon:"S"===r.status?"stop-circle":"minus-circle",text:"S"===r.status?"H\u1ee7y y\xeau c\u1ea7u":"H\u1ee7y m\u1edf l\u1ea1i",onClick:function(){l(""),m(!0)}})]})}function te(){var e=i.a.useContext(G),t=e.state,n=e.check,a=i.a.useContext(Q.a).state.user,r=t.contract,s=i.a.useState(""),o=Object(c.a)(s,2),u=o[0],l=o[1],p=i.a.useState(!1),b=Object(c.a)(p,2),h=b[0],m=b[1],x=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(!1),t={content:u},n(r.contractNumber,t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return function(){if("S"!==r.status&&"W"!==r.status)return!1;var e=r.requests.find((function(e){return e.isActive}));if(void 0===e)return!1;var t=e.steps.find((function(e){return e.userNumber===a.number}));return void 0!==t&&!(t.isApproved||t.isRejected||t.isFinish)}()?Object(C.jsxs)(f.a,{item:!0,children:[Object(C.jsx)(g.l,{title:"S"===r.status?"X\xe1c nh\u1eadn h\u1ee3p \u0111\u1ed3ng":"\u0110\u1ed3ng \xfd m\u1edf l\u1ea1i h\u1ee3p \u0111\u1ed3ng",onClose:function(){m(!1)},open:h,onSubmit:x,children:Object(C.jsx)(f.a,{container:!0,spacing:1,alignItems:"flex-end",children:Object(C.jsx)(f.a,{item:!0,xs:12,children:Object(C.jsx)(g.k,{value:u,onChange:function(e){l(e)}})})})}),Object(C.jsx)(g.o,{variant:"contained",color:"success",tooltip:"S"===r.status?"X\xe1c nh\u1eadn h\u1ee3p \u0111\u1ed3ng":"\u0110\u1ed3ng \xfd m\u1edf l\u1ea1i h\u1ee3p \u0111\u1ed3ng",icon:"check-circle",text:"S"===r.status?"X\xe1c nh\u1eadn":"\u0110\u1ed3ng \xfd",onClick:function(){l(""),m(!0)}})]}):Object(C.jsx)(C.Fragment,{})}function ne(){var e=i.a.useContext(G),t=e.state,n=e.reject,a=i.a.useContext(Q.a).state.user,r=t.contract,s=i.a.useState(""),o=Object(c.a)(s,2),u=o[0],l=o[1],p=i.a.useState(!1),b=Object(c.a)(p,2),h=b[0],m=b[1],x=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(!1),t={content:u},n(r.contractNumber,t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return function(){if("S"!==r.status&&"W"!==r.status)return!1;var e=r.requests.find((function(e){return e.isActive}));if(void 0===e)return!1;var t=e.steps.find((function(e){return e.userNumber===a.number}));return void 0!==t&&(!t.isApproved&&!t.isRejected&&!(t.isFinish&&e.steps.filter((function(e){return!e.isApproved&&!e.isRejected&&!e.isFinish})).length>0))}()?Object(C.jsxs)(f.a,{item:!0,children:[Object(C.jsx)(g.l,{title:"S"===r.status?"T\u1eeb ch\u1ed1i ph\xea duy\u1ec7t h\u1ee3p \u0111\u1ed3ng":"T\u1eeb ch\u1ed1i m\u1edf l\u1ea1i h\u1ee3p \u0111\u1ed3ng",onClose:function(){m(!1)},open:h,onSubmit:x,children:Object(C.jsx)(f.a,{container:!0,spacing:1,alignItems:"flex-end",children:Object(C.jsx)(f.a,{item:!0,xs:12,children:Object(C.jsx)(g.k,{value:u,onChange:function(e){l(e)}})})})}),Object(C.jsx)(g.o,{variant:"contained",color:"S"===r.status?"danger":"warning",tooltip:"S"===r.status?"T\u1eeb ch\u1ed1i ph\xea duy\u1ec7t h\u1ee3p \u0111\u1ed3ng":"T\u1eeb ch\u1ed1i m\u1edf l\u1ea1i h\u1ee3p \u0111\u1ed3ng",icon:"S"===r.status?"times-circle":"minus-circle",text:"T\u1eeb ch\u1ed1i",onClick:function(){l(""),m(!0)}})]}):Object(C.jsx)(C.Fragment,{})}function ae(){var e=i.a.useContext(G),t=e.state,n=e.approve,a=i.a.useContext(Q.a).state.user,r=t.contract,s=i.a.useState(""),o=Object(c.a)(s,2),u=o[0],l=o[1],p=i.a.useState(!1),b=Object(c.a)(p,2),h=b[0],m=b[1],x=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(!1),t={content:u},n(r.contractNumber,t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return function(){if("S"!==r.status&&"W"!==r.status)return!1;var e=r.requests.find((function(e){return e.isActive}));if(void 0===e)return!1;if(e.steps.filter((function(e){return!e.isApproved&&!e.isRejected&&!e.isFinish})).length>0)return!1;var t=e.steps.find((function(e){return e.userNumber===a.number&&e.isFinish}));return void 0!==t&&(!t.isApproved&&!t.isRejected)}()?Object(C.jsxs)(f.a,{item:!0,children:[Object(C.jsx)(g.l,{title:"S"===r.status?"Ph\xea duy\u1ec7t h\u1ee3p \u0111\u1ed3ng":"Ph\xea duy\u1ec7t m\u1edf l\u1ea1i h\u1ee3p \u0111\u1ed3ng",onClose:function(){m(!1)},open:h,onSubmit:x,children:Object(C.jsx)(f.a,{container:!0,spacing:1,alignItems:"flex-end",children:Object(C.jsx)(f.a,{item:!0,xs:12,children:Object(C.jsx)(g.k,{value:u,onChange:function(e){l(e)}})})})}),Object(C.jsx)(g.o,{variant:"contained",color:"success",tooltip:"S"===r.status?"Ph\xea duy\u1ec7t h\u1ee3p \u0111\u1ed3ng":"Ph\xea duy\u1ec7t m\u1edf l\u1ea1i h\u1ee3p \u0111\u1ed3ng",icon:"signature",text:"Ph\xea duy\u1ec7t",onClick:function(){l(""),m(!0)}})]}):Object(C.jsx)(C.Fragment,{})}var ce=n(52),re=Object(ce.a)((function(){return{main:{lineHeight:1},sub:{lineHeight:1.4,fontSize:"0.7rem",fontStyle:"italic"},head:{color:"#fff",backgroundColor:"#444",textTransform:"uppercase",fontSize:"0.8rem"}}}));function ie(){var e=re(),t=i.a.useContext(G),n=t.state,a=t.updateNetPrice,r=i.a.useContext(Q.a).state.user,s=n.contract,o=i.a.useState([]),u=Object(c.a)(o,2),l=u[0],p=u[1],b=i.a.useState(!1),h=Object(c.a)(b,2),m=h[0],x=h[1],v=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(!1),t={items:[]},l.map((function(e){var n=parseInt(e.newNetpr,10);return e.netpr!==n&&t.items.push({ebeln:e.ebeln,ebelp:e.ebelp,introw:e.introw,isService:e.isService,netpr:n,packno:e.packno}),!0})),a(s.contractNumber,t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return i.a.useEffect((function(){var e=[];s.items.map((function(t){return t.isService?t.subItems.map((function(t){e.push({code:t.code,text:t.text,packno:t.packno,introw:t.introw,isService:!0,netpr:t.netPrice,newNetpr:t.netPrice.toString(),ebeln:"",ebelp:""})})):e.push({code:t.code,text:t.text,ebeln:t.ebeln,ebelp:t.ebelp,isService:!1,netpr:t.netPrice,newNetpr:t.netPrice.toString(),packno:"",introw:""}),!0})),p(e)}),[s]),"P"===s.status&&s.createdBy===r.number?Object(C.jsxs)(f.a,{item:!0,children:[Object(C.jsx)(g.l,{title:"C\u1eadp nh\u1eadt \u0111\u01a1n gi\xe1 net",onClose:function(){x(!1)},open:m,onSubmit:v,children:Object(C.jsx)(f.a,{container:!0,spacing:1,children:l.map((function(t,n){return Object(C.jsxs)(f.a,{container:!0,item:!0,spacing:1,children:[Object(C.jsxs)(f.a,{item:!0,xs:6,children:[Object(C.jsx)(O.a,{className:e.main,variant:"subtitle2",children:t.text}),Object(C.jsx)(O.a,{className:e.sub,variant:"caption",children:""===t.code?"-":t.code})]}),Object(C.jsx)(f.a,{item:!0,xs:6,children:Object(C.jsx)(g.r,{label:"\u0110\u01a1n gi\xe1 Net",value:t.newNetpr,type:"text",onChange:function(e){var n,a,c,r,i;n=t.ebeln,a=t.ebelp,c=t.packno,r=t.introw,i=e.target.value,p(l.map((function(e){return n===e.ebeln&&a===e.ebelp&&c===e.packno&&r===e.introw?(e.newNetpr=i,e):e})))}})})]},n)}))})}),Object(C.jsx)(g.o,{variant:"contained",color:"dark",tooltip:"C\u1eadp nh\u1eadt gi\xe1 net",icon:"pen-square",text:"\u0110\u01a1n gi\xe1 Net",onClick:function(){x(!0)}})]}):Object(C.jsx)(C.Fragment,{})}var se=n(506);function oe(){var e=i.a.useContext(G),t=e.state,n=e.createAttachment,a=i.a.useContext(Q.a).state.user,r=t.contract,s=i.a.useState([]),o=Object(c.a)(s,2),u=o[0],l=o[1],p=i.a.useState([]),b=Object(c.a)(p,2),h=b[0],m=b[1],x=i.a.useState(!1),O=Object(c.a)(x,2),v=O[0],y=O[1],N=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y(!1),n(r.contractNumber,u,h);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return"P"===r.status&&r.createdBy===a.number?Object(C.jsxs)(f.a,{item:!0,children:[Object(C.jsx)(g.l,{title:"T\u1ea3i l\xean t\xe0i li\u1ec7u \u0111\xednh k\xe8m",onClose:function(){y(!1)},open:v,onSubmit:N,children:Object(C.jsxs)(f.a,{container:!0,spacing:1,alignItems:"stretch",children:[Object(C.jsx)(f.a,{item:!0,xs:12,md:6,children:Object(C.jsx)(se.a,{showPreviews:!1,showFileNames:!0,filesLimit:10,maxFileSize:25e6,useChipsForPreview:!0,dropzoneText:"T\u1ea3i l\xean t\xe0i li\u1ec7u public",onChange:function(e){l(e)}})}),Object(C.jsx)(f.a,{item:!0,xs:12,md:6,children:Object(C.jsx)(se.a,{showPreviews:!1,showFileNames:!0,filesLimit:10,maxFileSize:25e6,useChipsForPreview:!0,dropzoneText:"T\u1ea3i l\xean t\xe0i li\u1ec7u private",onChange:function(e){m(e)}})})]})}),Object(C.jsx)(g.o,{variant:"contained",color:"dark",tooltip:"\u0110\xednh k\xe8m t\xe0i li\u1ec7u",icon:"paperclip",text:"\u0110\xednh k\xe8m",onClick:function(){y(!0)}})]}):Object(C.jsx)(C.Fragment,{})}function ue(){var e=i.a.useContext(G).state.contract;return Object(C.jsx)(g.m,{title:"Th\xf4ng tin h\u1ee3p \u0111\u1ed3ng",children:Object(C.jsxs)(f.a,{container:!0,alignItems:"stretch",spacing:1,children:[Object(C.jsx)(g.q,{title:"S\u1ed1 h\u1ee3p \u0111\u1ed3ng",content:e.contractNumber}),Object(C.jsx)(g.q,{title:"Lo\u1ea1i h\u1ee3p \u0111\u1ed3ng",content:"D"===e.contractType?"D\u1ef1 \xe1n":"Nguy\xean t\u1eafc"}),Object(C.jsx)(g.q,{title:"D\u1ef1 \xe1n",content:"".concat(e.projectCode,"-").concat(e.projectName)}),Object(C.jsx)(g.q,{title:"Nh\xe0 cung c\u1ea5p",content:"".concat(e.vendorCode,"-").concat(e.vendorName)}),Object(C.jsx)(g.q,{title:"Gi\xe1 tr\u1ecb h\u1ee3p \u0111\u1ed3ng",content:"".concat(Y.a.formatMoney(e.contractValue)," VND")}),Object(C.jsx)(g.q,{title:"\u0110i\u1ec1u kho\u1ea3n thanh to\xe1n",content:e.paymentTerm}),Object(C.jsx)(g.q,{title:"Ng\xe0y t\u1ea1o h\u1ee3p \u0111\u1ed3ng",content:Y.a.formatDate(new Date(e.createdDate),"dd/MM/yyyy")}),Object(C.jsx)(g.q,{title:"Ng\u01b0\u1eddi t\u1ea1o h\u1ee3p \u0111\u1ed3ng",content:"".concat(e.createdBy,"-").concat(e.createdByFullName)}),Object(C.jsxs)(f.a,{item:!0,xs:12,md:6,container:!0,spacing:1,children:[Object(C.jsx)(Z,{}),Object(C.jsx)(ee,{}),Object(C.jsx)(te,{}),Object(C.jsx)(ne,{}),Object(C.jsx)(ae,{}),Object(C.jsx)(ie,{}),Object(C.jsx)(oe,{})]})]})})}var le=n(107),de=n(461),je=n(457),pe=n(458),be=n(459),he=n(462),me=Object(ce.a)((function(){return{main:{lineHeight:1},sub:{lineHeight:1.4,fontSize:"0.7rem",fontStyle:"italic"},head:{color:"#fff",backgroundColor:"#444",textTransform:"uppercase",fontSize:"0.8rem"},warning:{backgroundColor:"#f59542"},danger:{backgroundColor:"#f54242"}}}));function xe(){var e=me(),t=Y.a.formatMoney,n=i.a.useContext(G).state.contract,a=function(t){return t.isService?"":t.planPrice<=0?e.warning:t.planPrice<t.price?e.danger:""},c=function(t){return t.planPrice<=0?e.warning:t.planPrice<t.price?e.danger:""};return Object(C.jsxs)(g.m,{title:"Th\xf4ng tin chi ti\u1ebft h\u1ee3p \u0111\u1ed3ng",noPadding:!0,children:[Object(C.jsx)(le.a,{smDown:!0,implementation:"css",children:Object(C.jsxs)(de.a,{size:"small",style:{padding:"8px"},children:[Object(C.jsx)(je.a,{children:Object(C.jsxs)(pe.a,{children:[Object(C.jsx)(be.a,{className:e.head,rowSpan:2,colSpan:2,children:"H\u1ea1ng m\u1ee5c"}),Object(C.jsx)(be.a,{className:e.head,align:"right",children:"Kh\u1ed1i l\u01b0\u1ee3ng"}),Object(C.jsx)(be.a,{className:e.head,align:"right",children:"\u0110\u01a1n gi\xe1 H\u0110"}),Object(C.jsx)(be.a,{className:e.head,align:"right",children:"\u0110\u01a1n gi\xe1 KH"}),("P"===n.status||"S"===n.status)&&Object(C.jsx)(be.a,{className:e.head,align:"right",children:"\u0110\u01a1n gi\xe1 Net"}),Object(C.jsx)(be.a,{className:e.head,align:"right",children:"Th\xe0nh ti\u1ec1n"})]})}),Object(C.jsx)(he.a,{children:n.items.map((function(r,s){return Object(C.jsxs)(i.a.Fragment,{children:[Object(C.jsxs)(pe.a,{hover:!0,children:[Object(C.jsxs)(be.a,{colSpan:2,children:[Object(C.jsx)(O.a,{className:e.main,variant:"subtitle2",children:r.text}),Object(C.jsx)(O.a,{className:e.sub,variant:"caption",children:""===r.code?"-":r.code})]}),Object(C.jsxs)(be.a,{align:"right",children:[Object(C.jsx)(O.a,{className:e.main,variant:"subtitle2",children:t(r.quantity)}),Object(C.jsx)(O.a,{className:e.sub,variant:"caption",children:r.unit})]}),Object(C.jsxs)(be.a,{className:a(r),align:"right",children:[Object(C.jsx)(O.a,{className:e.main,variant:"subtitle2",children:t(r.price)}),Object(C.jsx)(O.a,{className:e.sub,variant:"caption",children:"VND/".concat(r.per," ").concat(r.unit)})]}),Object(C.jsxs)(be.a,{className:a(r),align:"right",children:[Object(C.jsx)(O.a,{className:e.main,variant:"subtitle2",children:r.planPrice>0?t(r.planPrice):"-"}),Object(C.jsx)(O.a,{className:e.sub,variant:"caption",children:"VND/".concat(r.per," ").concat(r.unit)})]}),("P"===n.status||"S"===n.status)&&Object(C.jsxs)(be.a,{className:a(r),align:"right",children:[Object(C.jsx)(O.a,{className:e.main,variant:"subtitle2",children:r.netPrice>0?t(r.netPrice):"-"}),Object(C.jsx)(O.a,{className:e.sub,variant:"caption",children:"VND/".concat(r.per," ").concat(r.unit)})]}),Object(C.jsxs)(be.a,{align:"right",children:[Object(C.jsx)(O.a,{className:e.main,variant:"subtitle2",children:t(r.price*r.quantity/r.per)}),Object(C.jsx)(O.a,{className:e.sub,variant:"caption",children:"VND"})]})]}),r.isService&&r.subItems.map((function(a,r){return Object(C.jsxs)(pe.a,{hover:!0,children:[Object(C.jsx)(be.a,{style:{width:"8px",padding:0,backgroundColor:"red"}}),Object(C.jsxs)(be.a,{children:[Object(C.jsx)(O.a,{className:e.main,variant:"subtitle2",children:a.text}),Object(C.jsx)(O.a,{className:e.sub,variant:"caption",children:""===a.code?"-":a.code})]}),Object(C.jsxs)(be.a,{align:"right",children:[Object(C.jsx)(O.a,{className:e.main,variant:"subtitle2",children:t(a.quantity)}),Object(C.jsx)(O.a,{className:e.sub,variant:"caption",children:a.unit})]}),Object(C.jsxs)(be.a,{className:c(a),align:"right",children:[Object(C.jsx)(O.a,{className:e.main,variant:"subtitle2",children:t(a.price)}),Object(C.jsx)(O.a,{className:e.sub,variant:"caption",children:"VND/".concat(a.per," ").concat(a.unit)})]}),Object(C.jsxs)(be.a,{className:c(a),align:"right",children:[Object(C.jsx)(O.a,{className:e.main,variant:"subtitle2",children:a.planPrice>0?t(a.planPrice):"-"}),Object(C.jsx)(O.a,{className:e.sub,variant:"caption",children:"VND/".concat(a.per," ").concat(a.unit)})]}),("P"===n.status||"S"===n.status)&&Object(C.jsxs)(be.a,{className:c(a),align:"right",children:[Object(C.jsx)(O.a,{className:e.main,variant:"subtitle2",children:a.netPrice>0?t(a.netPrice):"-"}),Object(C.jsx)(O.a,{className:e.sub,variant:"caption",children:"VND/".concat(a.per," ").concat(a.unit)})]}),Object(C.jsxs)(be.a,{align:"right",children:[Object(C.jsx)(O.a,{className:e.main,variant:"subtitle2",children:t(a.price*a.quantity/a.per)}),Object(C.jsx)(O.a,{className:e.sub,variant:"caption",children:"VND"})]})]},r)}))]},s)}))})]})}),Object(C.jsx)(le.a,{mdUp:!0,implementation:"css",children:Object(C.jsx)(f.a,{container:!0,spacing:2,style:{padding:"8px"},children:n.items.map((function(r,s){return Object(C.jsxs)(i.a.Fragment,{children:[Object(C.jsxs)(f.a,{container:!0,item:!0,spacing:1,children:[Object(C.jsxs)(f.a,{item:!0,xs:12,children:[Object(C.jsx)(O.a,{className:e.main,variant:"subtitle2",children:r.text}),Object(C.jsx)(O.a,{className:e.sub,variant:"caption",children:""===r.code?"-":r.code})]}),Object(C.jsxs)(f.a,{item:!0,container:!0,xs:12,spacing:1,alignItems:"flex-end",children:[Object(C.jsx)(f.a,{item:!0,xs:3,children:Object(C.jsx)(O.a,{className:e.sub,variant:"caption",children:"Kh\u1ed1i l\u01b0\u1ee3ng"})}),Object(C.jsx)(f.a,{item:!0,xs:5,children:Object(C.jsx)(O.a,{align:"right",className:e.main,variant:"subtitle2",children:t(r.quantity)})}),Object(C.jsx)(f.a,{item:!0,xs:4,children:Object(C.jsx)(O.a,{className:e.sub,variant:"caption",children:r.unit})})]}),Object(C.jsxs)(f.a,{className:a(r),item:!0,container:!0,xs:12,spacing:1,alignItems:"flex-end",children:[Object(C.jsx)(f.a,{item:!0,xs:3,children:Object(C.jsx)(O.a,{className:e.sub,variant:"caption",children:"\u0110\u01a1n gi\xe1 H\u0110"})}),Object(C.jsx)(f.a,{item:!0,xs:5,children:Object(C.jsx)(O.a,{align:"right",className:e.main,variant:"subtitle2",children:t(r.price)})}),Object(C.jsx)(f.a,{item:!0,xs:4,children:Object(C.jsx)(O.a,{className:e.sub,variant:"caption",children:"VND/".concat(r.per," ").concat(r.unit)})})]}),Object(C.jsxs)(f.a,{className:a(r),item:!0,container:!0,xs:12,spacing:1,alignItems:"flex-end",children:[Object(C.jsx)(f.a,{item:!0,xs:3,children:Object(C.jsx)(O.a,{className:e.sub,variant:"caption",children:"\u0110\u01a1n gi\xe1 KH"})}),Object(C.jsx)(f.a,{item:!0,xs:5,children:Object(C.jsx)(O.a,{align:"right",className:e.main,variant:"subtitle2",children:r.planPrice>0?t(r.planPrice):"-"})}),Object(C.jsx)(f.a,{item:!0,xs:4,children:Object(C.jsx)(O.a,{className:e.sub,variant:"caption",children:"VND/".concat(r.per," ").concat(r.unit)})})]}),("P"===n.status||"S"===n.status)&&Object(C.jsxs)(f.a,{className:a(r),item:!0,container:!0,xs:12,spacing:1,alignItems:"flex-end",children:[Object(C.jsx)(f.a,{item:!0,xs:3,children:Object(C.jsx)(O.a,{className:e.sub,variant:"caption",children:"\u0110\u01a1n gi\xe1 Net"})}),Object(C.jsx)(f.a,{item:!0,xs:5,children:Object(C.jsx)(O.a,{align:"right",className:e.main,variant:"subtitle2",children:r.netPrice>0?t(r.netPrice):"-"})}),Object(C.jsx)(f.a,{item:!0,xs:4,children:Object(C.jsx)(O.a,{className:e.sub,variant:"caption",children:"VND/".concat(r.per," ").concat(r.unit)})})]}),Object(C.jsxs)(f.a,{item:!0,container:!0,xs:12,spacing:1,alignItems:"flex-end",children:[Object(C.jsx)(f.a,{item:!0,xs:3,children:Object(C.jsx)(O.a,{className:e.sub,variant:"caption",children:"Th\xe0nh ti\u1ec1n"})}),Object(C.jsx)(f.a,{item:!0,xs:5,children:Object(C.jsx)(O.a,{align:"right",className:e.main,variant:"subtitle2",children:t(r.price*r.quantity/r.per)})}),Object(C.jsx)(f.a,{item:!0,xs:4,children:Object(C.jsx)(O.a,{className:e.sub,variant:"caption",children:"VND"})})]})]}),r.isService&&r.subItems.map((function(a,r){return Object(C.jsxs)(f.a,{container:!0,item:!0,spacing:1,style:{paddingLeft:"16px",borderLeft:"12px solid red"},children:[Object(C.jsxs)(f.a,{item:!0,xs:12,children:[Object(C.jsx)(O.a,{className:e.main,variant:"subtitle2",children:a.text}),Object(C.jsx)(O.a,{className:e.sub,variant:"caption",children:""===a.code?"-":a.code})]}),Object(C.jsxs)(f.a,{item:!0,container:!0,xs:12,spacing:1,alignItems:"flex-end",children:[Object(C.jsx)(f.a,{item:!0,xs:3,children:Object(C.jsx)(O.a,{className:e.sub,variant:"caption",children:"Kh\u1ed1i l\u01b0\u1ee3ng"})}),Object(C.jsx)(f.a,{item:!0,xs:5,children:Object(C.jsx)(O.a,{align:"right",className:e.main,variant:"subtitle2",children:t(a.quantity)})}),Object(C.jsx)(f.a,{item:!0,xs:4,children:Object(C.jsx)(O.a,{className:e.sub,variant:"caption",children:a.unit})})]}),Object(C.jsxs)(f.a,{className:c(a),item:!0,container:!0,xs:12,spacing:1,alignItems:"flex-end",children:[Object(C.jsx)(f.a,{item:!0,xs:3,children:Object(C.jsx)(O.a,{className:e.sub,variant:"caption",children:"\u0110\u01a1n gi\xe1 H\u0110"})}),Object(C.jsx)(f.a,{item:!0,xs:5,children:Object(C.jsx)(O.a,{align:"right",className:e.main,variant:"subtitle2",children:t(a.price)})}),Object(C.jsx)(f.a,{item:!0,xs:4,children:Object(C.jsx)(O.a,{className:e.sub,variant:"caption",children:"VND/".concat(a.per," ").concat(a.unit)})})]}),Object(C.jsxs)(f.a,{className:c(a),item:!0,container:!0,xs:12,spacing:1,alignItems:"flex-end",children:[Object(C.jsx)(f.a,{item:!0,xs:3,children:Object(C.jsx)(O.a,{className:e.sub,variant:"caption",children:"\u0110\u01a1n gi\xe1 KH"})}),Object(C.jsx)(f.a,{item:!0,xs:5,children:Object(C.jsx)(O.a,{align:"right",className:e.main,variant:"subtitle2",children:a.planPrice>0?t(a.planPrice):"-"})}),Object(C.jsx)(f.a,{item:!0,xs:4,children:Object(C.jsx)(O.a,{className:e.sub,variant:"caption",children:"VND/".concat(a.per," ").concat(a.unit)})})]}),("P"===n.status||"S"===n.status)&&Object(C.jsxs)(f.a,{className:c(a),item:!0,container:!0,xs:12,spacing:1,alignItems:"flex-end",children:[Object(C.jsx)(f.a,{item:!0,xs:3,children:Object(C.jsx)(O.a,{className:e.sub,variant:"caption",children:"\u0110\u01a1n gi\xe1 Net"})}),Object(C.jsx)(f.a,{item:!0,xs:5,children:Object(C.jsx)(O.a,{align:"right",className:e.main,variant:"subtitle2",children:a.netPrice>0?t(a.netPrice):"-"})}),Object(C.jsx)(f.a,{item:!0,xs:4,children:Object(C.jsx)(O.a,{className:e.sub,variant:"caption",children:"VND/".concat(a.per," ").concat(a.unit)})})]}),Object(C.jsxs)(f.a,{item:!0,container:!0,xs:12,spacing:1,alignItems:"flex-end",children:[Object(C.jsx)(f.a,{item:!0,xs:3,children:Object(C.jsx)(O.a,{className:e.sub,variant:"caption",children:"Th\xe0nh ti\u1ec1n"})}),Object(C.jsx)(f.a,{item:!0,xs:5,children:Object(C.jsx)(O.a,{align:"right",className:e.main,variant:"subtitle2",children:t(a.price*a.quantity/a.per)})}),Object(C.jsx)(f.a,{item:!0,xs:4,children:Object(C.jsx)(O.a,{className:e.sub,variant:"caption",children:"VND"})})]})]},r)}))]},s)}))})})]})}var fe=n(446),Oe=n(6),ge=n(580),ve=n(547),ye=n(548),Ne=Object(Oe.a)({root:{border:"1px solid rgba(0, 0, 0, .125)",boxShadow:"none","&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"},"&$expanded":{margin:"auto"}},expanded:{}})(ge.a),Ce=Object(Oe.a)({root:{color:"#fff",fontStyle:"uppercase",borderBottom:"1px solid rgba(0, 0, 0, .125)",marginBottom:-1,minHeight:40,"&$expanded":{minHeight:40}},content:{margin:0,"& .MuiTypography-body1":{fontSize:"0.9rem"},"&$expanded":{margin:"0"}},expanded:{}})(ve.a),ke=Object(Oe.a)((function(){return{root:{padding:0}}}))(ye.a);function we(){var e=Y.a.formatDate,t=i.a.useContext(G).state.contract,n=i.a.useState([]),r=Object(c.a)(n,2),s=r[0],o=r[1];return i.a.useEffect((function(){o(t.requests.filter((function(e){return e.isActive})).map((function(e){return e.id})))}),[t]),Object(C.jsx)(g.m,{title:"L\u1ecbch s\u1eed ph\xea duy\u1ec7t",noPadding:!0,children:t.requests.map((function(t,n){return Object(C.jsxs)(Ne,{square:!0,expanded:s.includes(t.id),onChange:function(e,n){!function(e,t){t?s.includes(e)||o([].concat(Object(a.a)(s),[e])):o(s.filter((function(t){return t!==e})))}(t.id,n)},children:[Object(C.jsx)(Ce,{style:{backgroundColor:t.isReopen?fe.a[700]:h.a[600]},children:Object(C.jsx)(O.a,{children:t.isReopen?"Y\xeau c\u1ea7u m\u1edf l\u1ea1i h\u1ee3p \u0111\u1ed3ng - ".concat(e(new Date(t.createdTime),"hh:mm dd/MM/yyyy")):"Y\xeau c\u1ea7u ph\xea duy\u1ec7t h\u1ee3p \u0111\u1ed3ng - ".concat(e(new Date(t.createdTime),"hh:mm dd/MM/yyyy"))})}),Object(C.jsx)(ke,{children:Object(C.jsxs)(f.a,{container:!0,children:[Object(C.jsx)(f.a,{item:!0,xs:12,children:Object(C.jsx)("div",{style:{padding:"8px",borderLeft:"4px solid green"},dangerouslySetInnerHTML:{__html:t.content}})}),Object(C.jsx)(f.a,{item:!0,xs:12,children:Object(C.jsx)(de.a,{size:"small",style:{padding:"8px",borderLeft:"4px solid yellow"},children:Object(C.jsx)(he.a,{children:t.steps.map((function(t,n){return Object(C.jsx)(pe.a,{children:Object(C.jsx)(be.a,{children:Object(C.jsxs)(f.a,{container:!0,spacing:1,children:[Object(C.jsx)(f.a,{item:!0,xs:12,md:4,children:"".concat(t.userNumber,"-").concat(t.fullName)}),Object(C.jsxs)(f.a,{item:!0,xs:12,md:2,children:[Object(C.jsx)(x.a,{style:{opacity:.6},icon:"share"}),t.isReceived&&e(new Date(t.receivedTime),"hh:mm dd/MM/yyyy")]}),Object(C.jsxs)(f.a,{item:!0,xs:12,md:2,children:[Object(C.jsx)(x.a,{style:{opacity:.6},icon:"eye"}),t.isSeen&&e(new Date(t.seenTime),"hh:mm dd/MM/yyyy")]}),Object(C.jsxs)(f.a,{item:!0,xs:12,md:2,children:[Object(C.jsx)(x.a,{style:{opacity:.6},icon:"signature"}),t.isApproved&&e(new Date(t.approvedTime),"hh:mm dd/MM/yyyy")]}),Object(C.jsxs)(f.a,{item:!0,xs:12,md:2,children:[Object(C.jsx)(x.a,{style:{opacity:.6},icon:"ban"}),t.isRejected&&e(new Date(t.rejectedTime),"hh:mm dd/MM/yyyy")]}),""!==t.content&&null!==t.content&&Object(C.jsx)(f.a,{item:!0,xs:12,children:Object(C.jsx)("div",{style:{padding:"4px"},dangerouslySetInnerHTML:{__html:t.content}})})]})})},n)}))})})}),""!==t.cancelReason&&null!==t.cancelReason&&Object(C.jsx)(f.a,{item:!0,xs:12,children:Object(C.jsx)("div",{style:{padding:"8px",borderLeft:"4px solid red"},dangerouslySetInnerHTML:{__html:t.cancelReason}})})]})})]},n)}))})}function Se(){var e=Y.a.formatDate,t=i.a.useContext(G),n=t.state,a=t.removeAttachment,c=n.contract,r=i.a.useContext(Q.a).state.user;return Object(C.jsx)(g.m,{title:"T\xe0i li\u1ec7u \u0111\xednh k\xe8m",children:Object(C.jsx)(f.a,{container:!0,spacing:1,children:c.attachments.map((function(t){return Object(C.jsxs)(f.a,{container:!0,item:!0,xs:12,md:6,children:[Object(C.jsx)(f.a,{item:!0,xs:12,children:Object(C.jsxs)(O.a,{variant:"subtitle2",children:[Object(C.jsx)(x.a,{icon:"paperclip"}),t.fileName]})}),Object(C.jsx)(f.a,{item:!0,xs:12,children:Object(C.jsxs)(O.a,{variant:"caption",children:[e(new Date(t.createdTime),"hh:mm dd/MM/yyyy"),t.isPrivate&&Object(C.jsx)(x.a,{icon:"shield-alt"}),Object(C.jsx)(g.j,{filename:t.fileName,url:"/api/contract/contracts/".concat(c.contractNumber,"/attachments/").concat(t.id),label:"T\u1ea3i"}),"P"===c.status&&c.createdBy===r.number&&Object(C.jsx)(g.o,{icon:"trash-alt",text:"X\xf3a",color:"danger",onClick:function(){var e;e=t.id,a(c.contractNumber,e)}})]})})]},t.id)}))})})}function Ae(){var e=Object(s.i)().contractNumber,t=i.a.useContext(G).getContractDetail;return i.a.useEffect((function(){t(e)}),[e]),Object(C.jsxs)(f.a,{container:!0,alignContent:"stretch",spacing:2,children:[Object(C.jsx)(f.a,{item:!0,xs:12,children:Object(C.jsx)(ue,{})}),Object(C.jsx)(f.a,{item:!0,xs:12,children:Object(C.jsx)(xe,{})}),Object(C.jsx)(f.a,{item:!0,xs:12,children:Object(C.jsx)(we,{})}),Object(C.jsx)(f.a,{item:!0,xs:12,children:Object(C.jsx)(Se,{})})]})}function Te(){return Object(C.jsx)(X,{children:Object(C.jsx)(Ae,{})})}function Pe(){var e=Object(s.j)().path;return Object(C.jsxs)(s.d,{children:[Object(C.jsx)(s.b,{path:"".concat(e,"/dashboard"),component:w}),Object(C.jsx)(s.b,{path:"".concat(e,"/contracts/:contractNumber"),component:Te})]})}var Ie=i.a.lazy((function(){return n.e(25).then(n.bind(null,734))})),Ee=i.a.lazy((function(){return n.e(24).then(n.bind(null,735))})),De=i.a.lazy((function(){return n.e(23).then(n.bind(null,736))}));function Be(){var e=Object(s.j)().path,t=i.a.useContext(o.a),n=t.changeSideMenuList,r=t.changeActivePluginId,l=i.a.useState(!1),d=Object(c.a)(l,2),j=d[0],p=d[1],b=i.a.useState(!1),h=Object(c.a)(b,2),m=h[0],x=h[1],f=i.a.useState(!1),O=Object(c.a)(f,2),g=O[0],v=O[1];return i.a.useEffect((function(){r(u.i.id),Object(u.c)().then((function(e){p(e)})).catch((function(){p(!1)})),Object(u.e)().then((function(e){x(e)})).catch((function(){x(!1)})),Object(u.d)().then((function(e){v(e)})).catch((function(){v(!1)}))}),[]),i.a.useEffect((function(){var e=j?Object(a.a)(u.a):[],t=m?Object(a.a)(u.g):[],c=g?Object(a.a)(u.b):[];n([].concat(Object(a.a)(u.h),Object(a.a)(t),Object(a.a)(c),Object(a.a)(e)))}),[j,m,g]),Object(C.jsxs)(s.d,{children:[m&&Object(C.jsx)(s.b,{path:"".concat(e,"/creator"),component:Ee}),g&&Object(C.jsx)(s.b,{path:"".concat(e,"/approver"),component:De}),j&&Object(C.jsx)(s.b,{path:"".concat(e,"/admin"),component:Ie}),Object(C.jsx)(s.b,{path:"".concat(e),component:Pe})]})}}}]);