{"version":3,"sources":["plugins/ProjectSystem/services/serviceMaster.ts","plugins/ProjectSystem/services/material.ts","plugins/ProjectSystem/pages/Dashboard.tsx","plugins/ProjectSystem/pages/ServiceMasters.tsx","plugins/ProjectSystem/pages/Materials.tsx","plugins/ProjectSystem/routes/PublicRoutes.tsx","plugins/ProjectSystem/Main.tsx"],"names":["apiUrl","service","getAll","axios","get","getByFilter","filter","page","serviceMasterCode","Dashboard","text","useStyles","makeStyles","root","width","height","container","maxHeight","overflowY","cell","fontSize","initialState","PaginationServiceMasters","classes","dispatch","useDispatch","React","useState","state","setState","items","setItems","isEnd","setIsEnd","isLoading","setIsLoading","fetchData","a","smService","data","length","alertActions","show","alertMessage","ACTION_FAILURE","useEffect","TableContainer","className","Table","stickyHeader","aria-label","size","TableHead","TableRow","TableCell","style","padding","align","TableBody","map","index","code","description","unit","backgroundColor","colors","green","colSpan","cursor","fontStyle","onClick","Items","search","setSearch","setFilter","timeOutId","setTimeout","clearTimeout","Paper","Grid","item","xs","direction","spacing","alignItems","name","label","type","value","onChange","event","target","Pagination","materialService","console","log","Materials","PublicRoutes","path","useRouteMatch","component","ServiceMasters","PrivateRoutes","lazy","PlannerRoutes","DesignerRoutes","EstimatorRoutes","SupervisorRoutes","FormRoutes","Main","isAdmin","setIsAdmin","isPlanner","setIsPlanner","isDesigner","setIsDesigner","isEstimator","setIsEstimator","isSupervisor","setIsSupervisor","isForm","setIsForm","layoutActions","setActivePluginId","plugin","id","checkAdmin","then","result","catch","checkRolePermission","adminList","adminMenuList","plannerList","plannerMenuList","designerList","designerMenuList","estimatorList","estimatorMenuList","supervisorList","supervisorMenuList","formList","formMenuList","setMenuList","menuList"],"mappings":"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","file":"static/js/16.870f3600.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst apiUrl = '/api/project-system/serviceMasters';\n\nexport type ServiceMasterModel = {\n  code: string;\n  description: string;\n  unit: string;\n}\n\nfunction getAll(): Promise<ServiceMasterModel[]> {\n  return axios.get(apiUrl);\n}\n\nfunction getByFilter(filter: string, page: number): Promise<ServiceMasterModel[]> {\n  if (filter !== '') {\n    return axios.get(`${apiUrl}/search?filter=${filter}&page=${page}`);\n  }\n  return axios.get(`${apiUrl}/search?page=${page}`);\n}\n\nfunction get(serviceMasterCode: string): Promise<ServiceMasterModel> {\n  return axios.get(`${apiUrl}/${serviceMasterCode}`);\n}\n\nconst service = {\n  getAll,\n  getByFilter,\n  get,\n};\n\nexport default service;\n","import axios from 'axios';\n\nconst apiUrl = '/api/project-system/materials';\n\nexport type MaterialModel = {\n  code: string;\n  description: string;\n  unit: string\n}\n\nfunction getAll(): Promise<MaterialModel[]> {\n  return axios.get(apiUrl);\n}\n\nfunction getByFilter(filter: string, page: number): Promise<MaterialModel[]> {\n  if (filter !== '') {\n    return axios.get(`${apiUrl}/search?filter=${filter}&page=${page}`);\n  }\n  return axios.get(`${apiUrl}/search?page=${page}`);\n}\n\nconst service = {\n  getAll,\n  getByFilter,\n};\n\nexport default service;\n","import React from 'react';\nimport {\n  DashboardForm\n} from '@nvdunginest/emis-mui';\n\nconst pageText = 'HỆ THỐNG QUẢN LÝ DỰ ÁN';\n\nexport default function Dashboard(): JSX.Element {\n  return <DashboardForm text={pageText} />\n}","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n\tPaper,\n\tTable,\n\tTableBody,\n\tTableCell,\n\tTableContainer,\n\tTableHead,\n\tTableRow,\n\tGrid,\n\tcolors,\n} from '@material-ui/core';\nimport {\n\tTextField,\n} from '@nvdunginest/emis-mui';\n\nimport {\n\tAppDispatch,\n\talertActions,\n\talertMessage,\n} from '../../../core';\n\nimport smService, {\n\tServiceMasterModel,\n} from '../services/serviceMaster';\n\nconst useStyles = makeStyles({\n\troot: {\n\t\twidth: '100%',\n\t\theight: '100%',\n\t},\n\tcontainer: {\n\t\tmaxHeight: 'calc(100% - 120px)',\n\t\toverflowY: 'scroll',\n\t},\n\tcell: {\n\t\tfontSize: '0.75rem',\n\t},\n});\n\ntype State = {\n\tpage: number;\n}\n\nconst initialState: State = {\n\tpage: 1,\n}\n\nfunction PaginationServiceMasters({ filter }: { filter: string }): JSX.Element {\n\tconst classes = useStyles();\n\tconst dispatch: AppDispatch = useDispatch();\n\n\tconst [state, setState] = React.useState<State>(initialState);\n\n\tconst [items, setItems] = React.useState<ServiceMasterModel[]>([]);\n\tconst [isEnd, setIsEnd] = React.useState<boolean>(false);\n\tconst [isLoading, setIsLoading] = React.useState<boolean>(false);\n\n\tconst fetchData = async () => {\n\t\tsetIsLoading(true);\n\t\ttry {\n\t\t\tconst data = await smService.getByFilter(filter, state.page);\n\t\t\tif (data.length > 0) {\n\t\t\t\tsetItems([...items, ...data]);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tsetIsEnd(true);\n\t\t\t}\n\t\t}\n\t\tcatch {\n\t\t\tdispatch(alertActions.show(alertMessage.ACTION_FAILURE, 'error'));\n\t\t}\n\t\tfinally {\n\t\t\tsetIsLoading(false);\n\t\t}\n\t}\n\n\tReact.useEffect(() => {\n\t\tsetItems([]);\n\t\tsetIsLoading(false);\n\t\tsetIsEnd(false);\n\t\tsetState({ page: 1 });\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [filter]);\n\n\tReact.useEffect(() => {\n\t\tfetchData();\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [state]);\n\n\treturn (\n\t\t<TableContainer className={classes.container}>\n\t\t\t<Table stickyHeader aria-label=\"sticky table\" size=\"small\">\n\t\t\t\t<TableHead>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<TableCell style={{ padding: 0, width: 16 }}></TableCell>\n\t\t\t\t\t\t<TableCell className={classes.cell} align=\"left\">Mã công tác</TableCell>\n\t\t\t\t\t\t<TableCell className={classes.cell} align=\"left\">Diễn giải</TableCell>\n\t\t\t\t\t\t<TableCell className={classes.cell} align=\"left\">Đơn vị</TableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t</TableHead>\n\t\t\t\t<TableBody>\n\t\t\t\t\t{items.map((items, index) => (\n\t\t\t\t\t\t<TableRow key={index}>\n\t\t\t\t\t\t\t<TableCell style={{ padding: 0, width: 16 }}></TableCell>\n\t\t\t\t\t\t\t<TableCell className={classes.cell} align=\"left\">{items.code}</TableCell>\n\t\t\t\t\t\t\t<TableCell className={classes.cell} align=\"left\">{items.description}</TableCell>\n\t\t\t\t\t\t\t<TableCell className={classes.cell} align=\"left\">{items.unit}</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t))}\n\t\t\t\t\t{!isEnd && !isLoading && (<TableRow>\n\t\t\t\t\t\t<TableCell style={{ padding: 0, width: 16, backgroundColor: colors.green[300] }}></TableCell>\n\t\t\t\t\t\t<TableCell\n\t\t\t\t\t\t\tclassName={classes.cell}\n\t\t\t\t\t\t\tcolSpan={3}\n\t\t\t\t\t\t\talign=\"left\"\n\t\t\t\t\t\t\tstyle={{ cursor: 'pointer', fontStyle: 'italic' }}\n\t\t\t\t\t\t\tonClick={() => setState({ page: state.page + 1 })}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t+ Tải thêm\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t</TableRow>)}\n\t\t\t\t\t{isLoading && (<TableRow>\n\t\t\t\t\t\t<TableCell style={{ padding: 0, width: 16, backgroundColor: colors.green[300] }}></TableCell>\n\t\t\t\t\t\t<TableCell\n\t\t\t\t\t\t\tclassName={classes.cell}\n\t\t\t\t\t\t\tcolSpan={3}\n\t\t\t\t\t\t\talign=\"left\"\n\t\t\t\t\t\t\tstyle={{ cursor: 'pointer', fontStyle: 'italic' }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tĐang tải dữ liệu\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t</TableRow>)}\n\t\t\t\t</TableBody>\n\t\t\t</Table>\n\t\t</TableContainer>\n\t)\n}\n\nexport default function Items(): JSX.Element {\n\tconst classes = useStyles();\n\n\tconst [search, setSearch] = React.useState<string>('');\n\tconst [filter, setFilter] = React.useState<string>('');\n\n\tReact.useEffect(() => {\n\t\tconst timeOutId = setTimeout(() => setFilter(search), 1000);\n\t\treturn () => clearTimeout(timeOutId);\n\t}, [search]);\n\n\treturn (\n\t\t<Paper className={classes.root}>\n\t\t\t<Grid container>\n\t\t\t\t<Grid\n\t\t\t\t\tcontainer\n\t\t\t\t\titem xs={12}\n\t\t\t\t\tstyle={{ padding: '8px' }}\n\t\t\t\t\tdirection=\"row\"\n\t\t\t\t\tspacing={1}\n\t\t\t\t\talignItems=\"flex-end\"\n\t\t\t\t>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tname=\"search\"\n\t\t\t\t\t\t\tlabel=\"Tìm kiếm\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tvalue={search}\n\t\t\t\t\t\t\tonChange={(event) => { setSearch(event.target.value); }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t\t<PaginationServiceMasters filter={filter} />\n\t\t</Paper>\n\t);\n}\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n\tPaper,\n\tTable,\n\tTableBody,\n\tTableCell,\n\tTableContainer,\n\tTableHead,\n\tTableRow,\n\tGrid,\n\tcolors,\n} from '@material-ui/core';\nimport {\n\tTextField,\n} from '@nvdunginest/emis-mui';\n\nimport {\n\tAppDispatch,\n\talertActions,\n\talertMessage,\n} from '../../../core';\n\nimport materialService, {\n\tMaterialModel,\n} from '../services/material';\n\nconst useStyles = makeStyles({\n\troot: {\n\t\twidth: '100%',\n\t\theight: '100%',\n\t},\n\tcontainer: {\n\t\tmaxHeight: 'calc(100% - 120px)',\n\t\toverflowY: 'scroll',\n\t},\n\tcell: {\n\t\tfontSize: '0.75rem',\n\t},\n});\n\ntype State = {\n\tpage: number;\n}\n\nconst initialState: State = {\n\tpage: 1,\n}\n\nfunction Pagination({ filter }: { filter: string }): JSX.Element {\n\tconst classes = useStyles();\n\tconst dispatch: AppDispatch = useDispatch();\n\n\tconst [state, setState] = React.useState<State>(initialState);\n\n\tconst [items, setItems] = React.useState<MaterialModel[]>([]);\n\tconst [isEnd, setIsEnd] = React.useState<boolean>(false);\n\tconst [isLoading, setIsLoading] = React.useState<boolean>(false);\n\n\tconst fetchData = async () => {\n\t\tsetIsLoading(true);\n\t\ttry {\n\t\t\tconst data = await materialService.getByFilter(filter, state.page);\n\t\t\tif (data.length > 0) {\n\t\t\t\tsetItems([...items, ...data]);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tsetIsEnd(true);\n\t\t\t}\n\t\t}\n\t\tcatch {\n\t\t\tdispatch(alertActions.show(alertMessage.ACTION_FAILURE, 'error'));\n\t\t}\n\t\tfinally {\n\t\t\tsetIsLoading(false);\n\t\t}\n\t}\n\n\tReact.useEffect(() => {\n\t\tsetItems([]);\n\t\tsetIsLoading(false);\n\t\tsetIsEnd(false);\n\t\tsetState({ page: 1 });\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [filter]);\n\n\tReact.useEffect(() => {\n\t\tfetchData();\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [state]);\n\n\tconsole.log(items);\n\n\treturn (\n\t\t<TableContainer className={classes.container}>\n\t\t\t<Table stickyHeader aria-label=\"sticky table\" size=\"small\">\n\t\t\t\t<TableHead>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<TableCell style={{ padding: 0, width: 16 }}></TableCell>\n\t\t\t\t\t\t<TableCell className={classes.cell} align=\"left\">Mã công tác</TableCell>\n\t\t\t\t\t\t<TableCell className={classes.cell} align=\"left\">Diễn giải</TableCell>\n\t\t\t\t\t\t<TableCell className={classes.cell} align=\"left\">Đơn vị</TableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t</TableHead>\n\t\t\t\t<TableBody>\n\t\t\t\t\t{items.map((items, index) => (\n\t\t\t\t\t\t<TableRow key={index}>\n\t\t\t\t\t\t\t<TableCell style={{ padding: 0, width: 16 }}></TableCell>\n\t\t\t\t\t\t\t<TableCell className={classes.cell} align=\"left\">{items.code}</TableCell>\n\t\t\t\t\t\t\t<TableCell className={classes.cell} align=\"left\">{items.description}</TableCell>\n\t\t\t\t\t\t\t<TableCell className={classes.cell} align=\"left\">{items.unit}</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t))}\n\t\t\t\t\t{!isEnd && !isLoading && (<TableRow>\n\t\t\t\t\t\t<TableCell style={{ padding: 0, width: 16, backgroundColor: colors.green[300] }}></TableCell>\n\t\t\t\t\t\t<TableCell\n\t\t\t\t\t\t\tclassName={classes.cell}\n\t\t\t\t\t\t\tcolSpan={3}\n\t\t\t\t\t\t\talign=\"left\"\n\t\t\t\t\t\t\tstyle={{ cursor: 'pointer', fontStyle: 'italic' }}\n\t\t\t\t\t\t\tonClick={() => setState({ page: state.page + 1 })}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t+ Tải thêm\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t</TableRow>)}\n\t\t\t\t\t{isLoading && (<TableRow>\n\t\t\t\t\t\t<TableCell style={{ padding: 0, width: 16, backgroundColor: colors.green[300] }}></TableCell>\n\t\t\t\t\t\t<TableCell\n\t\t\t\t\t\t\tclassName={classes.cell}\n\t\t\t\t\t\t\tcolSpan={3}\n\t\t\t\t\t\t\talign=\"left\"\n\t\t\t\t\t\t\tstyle={{ cursor: 'pointer', fontStyle: 'italic' }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tĐang tải dữ liệu\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t</TableRow>)}\n\t\t\t\t</TableBody>\n\t\t\t</Table>\n\t\t</TableContainer>\n\t)\n}\n\nexport default function Materials(): JSX.Element {\n\tconst classes = useStyles();\n\n\tconst [search, setSearch] = React.useState<string>('');\n\tconst [filter, setFilter] = React.useState<string>('');\n\n\tReact.useEffect(() => {\n\t\tconst timeOutId = setTimeout(() => setFilter(search), 1000);\n\t\treturn () => clearTimeout(timeOutId);\n\t}, [search]);\n\n\treturn (\n\t\t<Paper className={classes.root}>\n\t\t\t<Grid container>\n\t\t\t\t<Grid\n\t\t\t\t\tcontainer\n\t\t\t\t\titem xs={12}\n\t\t\t\t\tstyle={{ padding: '8px' }}\n\t\t\t\t\tdirection=\"row\"\n\t\t\t\t\tspacing={1}\n\t\t\t\t\talignItems=\"flex-end\"\n\t\t\t\t>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tname=\"search\"\n\t\t\t\t\t\t\tlabel=\"Tìm kiếm\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tvalue={search}\n\t\t\t\t\t\t\tonChange={(event) => { setSearch(event.target.value); }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t\t<Pagination filter={filter} />\n\t\t</Paper>\n\t);\n}\n","import React from 'react';\nimport {\n  Route,\n  Switch,\n  useRouteMatch,\n} from 'react-router-dom';\n\nimport Dashboard from '../pages/Dashboard';\nimport ServiceMasters from '../pages/ServiceMasters';\nimport Materials from '../pages/Materials';\n\nexport default function PublicRoutes(): JSX.Element {\n  const { path } = useRouteMatch();\n\n  return (\n    <Switch>\n      <Route path={`${path}/dashboard`} component={Dashboard} />\n      <Route path={`${path}/service-masters`} component={ServiceMasters} />\n      <Route path={`${path}/materials`} component={Materials} />\n    </Switch>\n  );\n}\n","import React from 'react';\nimport {\n  Switch,\n  Route,\n  useRouteMatch,\n} from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\n\nimport {\n  AppDispatch,\n  layoutActions,\n} from '../../core';\n\nimport {\n  plugin,\n  checkAdmin,\n  checkRolePermission,\n\n  menuList,\n  adminMenuList,\n  plannerMenuList,\n  designerMenuList,\n  estimatorMenuList,\n  supervisorMenuList,\n  formMenuList,\n} from './configs';\n\nconst PrivateRoutes = React.lazy(() => import('./routes/PrivateRoutes'));\nimport PublicRoutes from './routes/PublicRoutes';\n\nconst PlannerRoutes = React.lazy(() => import('./routes/PlannerRoutes'));\nconst DesignerRoutes = React.lazy(() => import('./routes/DesignerRoutes'));\nconst EstimatorRoutes = React.lazy(() => import('./routes/EstimatorRoutes'));\nconst SupervisorRoutes = React.lazy(() => import('./routes/SupervisorRoutes'));\nconst FormRoutes = React.lazy(() => import('./routes/FormRoutes'));\n\nexport default function Main(): JSX.Element {\n  const { path } = useRouteMatch();\n  const dispatch: AppDispatch = useDispatch();\n\n  const [isAdmin, setIsAdmin] = React.useState(false);\n  const [isPlanner, setIsPlanner] = React.useState(false);\n  const [isDesigner, setIsDesigner] = React.useState(false);\n  const [isEstimator, setIsEstimator] = React.useState(false);\n  const [isSupervisor, setIsSupervisor] = React.useState(false);\n  const [isForm, setIsForm] = React.useState(false);\n\n  React.useEffect(() => {\n    dispatch(layoutActions.setActivePluginId(plugin.id));\n    checkAdmin()\n      .then((result) => {\n        setIsAdmin(result);\n      })\n      .catch(() => {\n        setIsAdmin(false);\n      });\n\n    checkRolePermission('PLANNER_ROLE')\n      .then((result) => {\n        setIsPlanner(result);\n      })\n      .catch(() => {\n        setIsPlanner(false);\n      });\n\n    checkRolePermission('DESIGNER_ROLE')\n      .then((result) => {\n        setIsDesigner(result);\n      })\n      .catch(() => {\n        setIsDesigner(false);\n      });\n\n    checkRolePermission('ESTIMATOR_ROLE')\n      .then((result) => {\n        setIsEstimator(result);\n      })\n      .catch(() => {\n        setIsEstimator(false);\n      });\n\n    checkRolePermission('SUPERVISOR_ROLE')\n      .then((result) => {\n        setIsSupervisor(result);\n      })\n      .catch(() => {\n        setIsSupervisor(false);\n      });\n\n    checkRolePermission('FORM_ROLE')\n      .then((result) => {\n        setIsForm(result);\n      })\n      .catch(() => {\n        setIsForm(false);\n      });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  React.useEffect(() => {\n    const adminList = isAdmin ? [...adminMenuList] : [];\n    const plannerList = isPlanner ? [...plannerMenuList] : [];\n    const designerList = isDesigner ? [...designerMenuList] : [];\n    const estimatorList = isEstimator ? [...estimatorMenuList] : [];\n    const supervisorList = isSupervisor ? [...supervisorMenuList] : [];\n    const formList = isForm ? [...formMenuList] : [];\n    dispatch(layoutActions.setMenuList([\n      ...menuList,\n      ...plannerList,\n      ...designerList,\n      ...estimatorList,\n      ...supervisorList,\n      ...formList,\n      ...adminList,\n    ]));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isAdmin, isPlanner, isDesigner, isEstimator, isSupervisor, isForm]);\n\n  return (\n    <Switch>\n      {isPlanner && <Route path={`${path}/planner`} component={PlannerRoutes} />}\n      {isDesigner && <Route path={`${path}/designer`} component={DesignerRoutes} />}\n      {isEstimator && <Route path={`${path}/estimator`} component={EstimatorRoutes} />}\n      {isSupervisor && <Route path={`${path}/supervisor`} component={SupervisorRoutes} />}\n      {isForm && <Route path={`${path}/form`} component={FormRoutes} />}\n      {isAdmin && <Route path={`${path}/admin`} component={PrivateRoutes} />}\n      <Route path={`${path}`} component={PublicRoutes} />\n    </Switch>\n  );\n}\n"],"sourceRoot":""}