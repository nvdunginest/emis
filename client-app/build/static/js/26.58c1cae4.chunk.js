(this.webpackJsonpemis=this.webpackJsonpemis||[]).push([[26],{728:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return T}));var c=n(1),r=n(150),a=n(15),o=n(0),u=n.n(o),i=n(29),s=n(58),l=n(101),b=n(28),p=n.n(b),f=n(42),h=n(16),m=n(19),j=n(10),O=n.n(j),x="/api/hcm/employees";var d={getAll:function(){return O.a.get(x)},create:function(e){return O.a.post("".concat(x,"/addUser"),e)},lock:function(e){return O.a.put("".concat(x,"/lockUser/").concat(e))},unLock:function(e){return O.a.put("".concat(x,"/unLockUser/").concat(e))},reset:function(e){return O.a.put("".concat(x,"/resetUser/").concat(e))}},v=n(21),k=n(115),C=[{id:"sortNumber",label:"M\xe3 s\u1ed1",numeric:!1,sortable:!0},{id:"fullName",label:"H\u1ecd t\xean",numeric:!1,sortable:!0},{id:"email",label:"Email",numeric:!1,sortable:!1},{id:"action",label:"",numeric:!1,sortable:!1}],S={number:"",fullName:"",email:""};function A(){var e,t=u.a.useContext(k.a),n=t.showAlert,r=t.showBackdrop,o=t.hideBackdrop,i=u.a.useState(!1),s=Object(a.a)(i,2),l=s[0],b=s[1],j=u.a.useState(!1),O=Object(a.a)(j,2),x=O[0],A=O[1],N=u.a.useState([]),g=Object(a.a)(N,2),T=g[0],E=g[1],I=u.a.useState(S),w=Object(a.a)(I,2),y=w[0],U=w[1],L=function(e){U(Object(m.a)(Object(m.a)({},y),{},Object(h.a)({},e.target.name,e.target.value)))},_=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(),e.prev=1,e.next=4,d.lock(t);case 4:n(k.b.ACTION_SUCCESS,"success"),B(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),n(k.b.ACTION_FAILURE,"error"),o();case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(),e.prev=1,e.next=4,d.unLock(t);case 4:n(k.b.ACTION_SUCCESS,"success"),B(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),n(k.b.ACTION_FAILURE,"error"),o();case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(),e.prev=1,e.next=4,d.reset(t);case 4:n(k.b.ACTION_SUCCESS,"success"),B(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),n(k.b.ACTION_FAILURE,"error"),o();case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b(!1),r(),e.prev=2,!x){e.next=6;break}e.next=8;break;case 6:return e.next=8,d.create(y);case 8:n(k.b.ACTION_SUCCESS,"success"),B(),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),n(k.b.ACTION_FAILURE,"error"),o();case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}(),q=[Object(c.jsx)(v.o,{tooltip:"Th\xeam nh\xe2n vi\xean m\u1edbi",text:"Th\xeam",icon:"plus",color:"primary",hideTitleOnMobile:!0,onClick:function(){U(S),A(!1),b(!0)}},1)],B=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(),e.prev=1,e.t0=E,e.next=5,d.getAll();case 5:e.t1=e.sent,(0,e.t0)(e.t1),o(),e.next=14;break;case 10:e.prev=10,e.t2=e.catch(1),o(),n(k.b.FETCH_FAILURE,"error");case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();return u.a.useEffect((function(){B()}),[]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(v.l,{title:"Th\xeam/Ch\u1ec9nh s\u1eeda nh\xe2n vi\xean",open:l,onClose:function(){b(!1)},onSubmit:R,children:[Object(c.jsx)(v.r,{name:"number",label:"M\xe3 s\u1ed1 nh\xe2n vi\xean",type:"text",required:!0,value:y.number,onChange:L}),Object(c.jsx)(v.r,{name:"fullName",label:"H\u1ecd v\xe0 t\xean",type:"text",required:!0,value:y.fullName,onChange:L}),Object(c.jsx)(v.r,{name:"email",label:"Email",type:"text",value:y.email,required:!0,onChange:L})]}),Object(c.jsx)(v.g,{title:"Nh\xe2n vi\xean",columns:C,data:(e=T,e.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{sortNumber:parseInt(e.number,10),action:Object(c.jsxs)(c.Fragment,{children:[e.isActive?Object(c.jsx)(v.o,{tooltip:"Nh\u1ea5n v\xe0o \u0111\u1ec3 kh\xf3a",text:"\u0110ang m\u1edf",icon:"lock-open",color:"success",hideTitleOnMobile:!0,onClick:function(){_(e.number)}}):Object(c.jsx)(v.o,{tooltip:"Nh\u1ea5n v\xe0o \u0111\u1ec3 m\u1edf kh\xf3a",text:"\u0110ang kh\xf3a",icon:"lock",color:"danger",hideTitleOnMobile:!0,onClick:function(){F(e.number)}}),Object(c.jsx)(v.o,{tooltip:"\u0110\u1eb7t l\u1ea1i t\xe0i kho\u1ea3n v\u1ec1 m\u1eb7c \u0111\u1ecbnh",text:"\u0110\u1eb7t l\u1ea1i",icon:"sync-alt",color:"primary",hideTitleOnMobile:!0,onClick:function(){M(e.number)}})]})})}))),actions:q,initialOrderBy:"sortNumber"})]})}function N(){var e=Object(i.j)().path;return Object(c.jsx)(i.d,{children:Object(c.jsx)(i.b,{path:"".concat(e,"/users"),component:A})})}var g=u.a.lazy((function(){return n.e(27).then(n.bind(null,708))}));function T(){var e=Object(i.j)().path,t=u.a.useContext(s.a),n=t.changeSideMenuList,o=t.changeActivePluginId,b=u.a.useState(!1),p=Object(a.a)(b,2),f=p[0],h=p[1];return u.a.useEffect((function(){o(l.e.id),Object(l.b)().then((function(e){h(e)})).catch((function(){h(!1)}))}),[]),u.a.useEffect((function(){n(f?[].concat(Object(r.a)(l.d),Object(r.a)(l.a)):l.d)}),[f]),Object(c.jsxs)(i.d,{children:[f&&Object(c.jsx)(i.b,{path:"".concat(e,"/admin"),component:g}),Object(c.jsx)(i.b,{path:"".concat(e),component:N})]})}}}]);