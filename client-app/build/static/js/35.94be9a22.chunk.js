(this.webpackJsonpemis=this.webpackJsonpemis||[]).push([[35],{882:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g}));var c=n(0),r=n.n(c),a=n(27),s=n(380),i=n(22),o=n.n(i),l=n(40),j=n(25),u=n(47),O=n(406),x=n(468),b=n(46),h=n(18),p=n(167),d=n(2);function m(e){var t=e.title,n=e.role,c=Object(u.b)(),a=r.a.useState([]),i=Object(j.a)(a,2),m=i[0],f=i[1],R=r.a.useState(""),E=Object(j.a)(R,2),v=E[0],A=E[1],g=r.a.useState(!1),_=Object(j.a)(g,2),S=_[0],P=_[1],I=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.prev=1,e.next=4,p.a.create(n,v);case 4:c(h.alertActions.show(h.alertMessage.ACTION_SUCCESS,"success")),w(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),c(h.alertActions.show(h.alertMessage.ACTION_FAILURE,"error")),P(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.prev=1,e.next=4,p.a.remove(n,t);case 4:c(h.alertActions.show(h.alertMessage.ACTION_SUCCESS,"success")),w(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),c(h.alertActions.show(h.alertMessage.ACTION_FAILURE,"error")),P(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.prev=1,e.t0=f,e.next=5,p.a.getAll();case 5:e.t1=e.sent,(0,e.t0)(e.t1),e.next=12;break;case 9:e.prev=9,e.t2=e.catch(1),c(h.alertActions.show(h.alertMessage.FETCH_FAILURE,"error"));case 12:return e.prev=12,P(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(){return e.apply(this,arguments)}}();return r.a.useEffect((function(){w()}),[]),Object(d.jsx)(b.l,{title:t,children:Object(d.jsxs)(s.a,{container:!0,alignItems:"flex-end",spacing:1,children:[Object(d.jsx)(s.a,{item:!0,xs:12,md:6,children:Object(d.jsx)(b.p,{label:"M\xe3 s\u1ed1 nh\xe2n vi\xean",required:!0,type:"text",value:v,onChange:function(e){A(e.target.value)}})}),Object(d.jsx)(s.a,{item:!0,xs:12,md:6,children:Object(d.jsx)(b.n,{icon:"plus",color:"primary",text:"Th\xeam",disabled:S,variant:"contained",onClick:function(){I()}})}),Object(d.jsx)(s.a,{item:!0,xs:12,children:Object(d.jsx)(O.a,{})}),Object(d.jsx)(s.a,{item:!0,xs:12,children:m.filter((function(e){return e.role===n})).map((function(e,t){return Object(d.jsx)(x.a,{style:{margin:"4px"},label:"".concat(e.userNumber,"-").concat(e.fullName),onDelete:function(){L(e.userNumber)},color:"primary",variant:"outlined",size:"small",disabled:S},t)}))})]})})}function f(){return Object(d.jsxs)(s.a,{container:!0,spacing:1,children:[Object(d.jsx)(s.a,{item:!0,xs:12,children:Object(d.jsx)(m,{title:"K\u1ebf ho\u1ea1ch",role:"PLANNER_ROLE"})}),Object(d.jsx)(s.a,{item:!0,xs:12,children:Object(d.jsx)(m,{title:"Ph\xea duy\u1ec7t d\u1eef li\u1ec7u",role:"APPROVER_PLANNER_ROLE"})})]})}function R(){return Object(d.jsxs)(s.a,{container:!0,spacing:1,children:[Object(d.jsx)(s.a,{item:!0,xs:12,children:Object(d.jsx)(m,{title:"Kh\u1ed1i l\u01b0\u1ee3ng",role:"DESIGNER_ROLE"})}),Object(d.jsx)(s.a,{item:!0,xs:12,children:Object(d.jsx)(m,{title:"Ph\xea duy\u1ec7t d\u1eef li\u1ec7u",role:"APPROVER_DESIGNER_ROLE"})})]})}function E(){return Object(d.jsxs)(s.a,{container:!0,spacing:1,children:[Object(d.jsx)(s.a,{item:!0,xs:12,children:Object(d.jsx)(m,{title:"D\u1ef1 to\xe1n",role:"ESTIMATOR_ROLE"})}),Object(d.jsx)(s.a,{item:!0,xs:12,children:Object(d.jsx)(m,{title:"Ph\xea duy\u1ec7t d\u1eef li\u1ec7u",role:"APPROVER_ESTIMATOR_ROLE"})})]})}function v(){return Object(d.jsxs)(s.a,{container:!0,spacing:1,children:[Object(d.jsx)(s.a,{item:!0,xs:12,children:Object(d.jsx)(m,{title:"Gi\xe1m s\xe1t",role:"SUPERVISOR_ROLE"})}),Object(d.jsx)(s.a,{item:!0,xs:12,children:Object(d.jsx)(m,{title:"Ph\xea duy\u1ec7t d\u1eef li\u1ec7u",role:"APPROVER_SUPERVISOR_ROLE"})})]})}function A(){return Object(d.jsx)(s.a,{container:!0,spacing:1,children:Object(d.jsx)(s.a,{item:!0,xs:12,children:Object(d.jsx)(m,{title:"Bi\u1ec3u m\u1eabu",role:"FORM_ROLE"})})})}function g(){var e=Object(a.i)().path;return Object(d.jsxs)(a.c,{children:[Object(d.jsx)(a.a,{path:"".concat(e,"/planners"),component:f}),Object(d.jsx)(a.a,{path:"".concat(e,"/designers"),component:R}),Object(d.jsx)(a.a,{path:"".concat(e,"/estimators"),component:E}),Object(d.jsx)(a.a,{path:"".concat(e,"/supervisors"),component:v}),Object(d.jsx)(a.a,{path:"".concat(e,"/forms"),component:A})]})}}}]);