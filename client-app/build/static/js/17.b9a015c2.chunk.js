(this.webpackJsonpemis=this.webpackJsonpemis||[]).push([[17],{1084:function(t,e,a){"use strict";a.r(e),a.d(e,"default",(function(){return Jt}));var n=a(0),r=a.n(n),i=a(25),c=a(48),o=a(2);function s(){return Object(o.jsx)(c.e,{text:"B\xc1O C\xc1O PL-BS-CF"})}var l=a(16),u=a(300),d=a(338),j=a(98),p=function(t,e){var a=e<=3&&e>=1?t-1:t;return[100*a+4,100*a+5,100*a+6,100*a+7,100*a+8,100*a+9,100*a+10,100*a+11,100*a+12,100*(a+1)+1,100*(a+1)+2,100*(a+1)+3]},h=function(t){var e=t.toFixed(0);return"".concat(e[4]).concat(e[5],"/").concat(e[2]).concat(e[3])},b=function(t,e,a){var n=e-1;return t.filter((function(t){return parseInt(t.reportType)===e&&parseInt(t.period)<=a})).map((function(t){return t.dispersion})).reduce((function(t,e){return t+e}),0)-t.filter((function(t){return parseInt(t.reportType)===n&&parseInt(t.period)<=a})).map((function(t){return t.dispersion})).reduce((function(t,e){return t+e}),0)},f={getDetailChartData:function(t,e,a,n){return p(t,e).map((function(t){var e={period:h(t),paymentDiscount:b(n,100*a+2,t),financialSupport:b(n,100*a+4,t),latePayment:b(n,100*a+6,t),shortTermFunding:b(n,100*a+8,t),longTermFunding:b(n,100*a+10,t),other:b(n,100*a+12,t),total:0};return e.total=e.paymentDiscount+e.financialSupport+e.latePayment+e.shortTermFunding+e.longTermFunding+e.other,e}))},getOverviewChartData:function(t,e,a,n,r){var i=p(t,e),c=n.filter((function(t){return t.reportType[0]==="".concat(a)}));return i.map((function(t){var e=c.filter((function(e){return parseInt(e.period)<=t&&parseInt(e.reportType)%2===0})).map((function(t){return t.dispersion})).reduce((function(t,e){return t+e}),0),a=c.filter((function(e){return parseInt(e.period)<=t&&parseInt(e.reportType)%2===1})).map((function(t){return t.dispersion})).reduce((function(t,e){return t+e}),0),n=r.data.filter((function(e){return e.period===t&&201===e.reportType})).map((function(t){return t.accumulation})).reduce((function(t,e){return t+e}),0),i=r.data.filter((function(e){return e.period===t&&202===e.reportType})).map((function(t){return t.accumulation})).reduce((function(t,e){return t+e}),0),o=r.data.filter((function(e){return e.period===t&&203===e.reportType})).map((function(t){return t.accumulation})).reduce((function(t,e){return t+e}),0);return{period:h(t),outcome:e,income:a,total:e-a,baselineRatio:0!==n?(e-a)/n*100:0,rebaselineRatio:0!==i?(e-a)/i*100:0,forecastRatio:0!==o?(e-a)/o*100:0}}))},getPeriodLabel:h},x=a(17),m=a(109),y=a(18),O="FETCH_DATA_SUCCESS",g="FETCH_DATA_FAILURE",v={efm03Report:{reportPeriod:0,data:[],projects:[]},reportData:[]},k={state:v,fetchData:function(t,e){}};function D(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case O:return Object(y.a)(Object(y.a)({},t),{},{reportData:e.payload.data,efm03Report:e.payload.efm03Report});case g:return Object(y.a)(Object(y.a)({},t),{},{reportData:v.reportData,efm03Report:v.efm03Report});default:return t}}var T=a(23),C=a.n(T),I=a(41),A=a(10),F=a.n(A);var w={get:function(t){return F.a.get(function(t){return"/api/ebi/efm03/".concat(t)}(t))}};var K={get:function(t,e){return F.a.get(function(t,e){return"/api/ebi/efm02?year=".concat(t,"&month=").concat(e)}(t,e))}},E=function(t,e){return e>=4&&e<=12?t:t-1},M={fetchData:function(){var t=Object(I.a)(C.a.mark((function t(e,a,n,r){var i,c,o,s,l,u;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l=function(){return{type:g}},s=function(t,e){return{type:O,payload:{efm03Report:t,data:e}}},i=r.showBackdrop,c=r.showAlert,o=r.hideBackdrop,i(),t.prev=4,t.next=7,Promise.all([w.get(E(e,a)),K.get(e,a)]);case 7:u=t.sent,n(s(u[0],u[1])),o(),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(4),n(l()),o(),c(m.b.FETCH_FAILURE,"error");case 17:case"end":return t.stop()}}),t,null,[[4,12]])})));return function(e,a,n,r){return t.apply(this,arguments)}}()},P=Object(n.createContext)(k);function S(t){var e=t.children,a=r.a.useReducer(D,v),i=Object(x.a)(a,2),c=i[0],s=i[1],l=Object(n.useContext)(m.a),u={state:c,fetchData:function(t,e){M.fetchData(t,e,s,l)}};return Object(o.jsx)(P.Provider,{value:u,children:e})}var B=a(21),L=a(129),N=a(130),R=a(301),H=a(131),W=a(344),Y=a(1074),_=a(346),z=a(1075),G=a(1104),U=a(1080),V=a(639),q=a(640),J=a(1066),X=a(644),Q=a(637),Z=a(1060),$=a(1033),tt=a(448),et=a(373),at=function(t,e){var a="".concat(100*t+e);return"".concat(a[4]).concat(a[5],"/").concat(a[2]).concat(a[3])};function nt(t){var e=t.title,a=t.year,n=t.month,r=t.data,i=Object(B.a)(),c=Object(_.a)(i.breakpoints.down("xs")),s=L.a[700],l=N.a[800],u=R.a[900],d=H.a[900],p=W.a[900],h=Y.a[900],b=N.a[900],f=R.a[900],x=function(t){return et.a.formatMoney(t)};return Object(o.jsxs)("div",{style:{width:"100%"},children:[Object(o.jsx)(j.a,{align:"center",variant:"h6",children:e}),Object(o.jsx)("div",{style:{width:"100%",height:280,padding:"8px"},children:Object(o.jsx)(z.a,{children:Object(o.jsxs)(G.a,{data:r,margin:{top:0,right:0,bottom:0,left:0},children:[Object(o.jsx)(U.a,{stroke:"#f5f5f5"}),Object(o.jsx)(V.a,{dataKey:"period",type:"category",scale:"band"}),Object(o.jsx)(q.a,{type:"number",mirror:c,yAxisId:0,tickFormatter:x}),Object(o.jsx)(q.a,{type:"number",mirror:c,yAxisId:1,orientation:"right",tickFormatter:x}),Object(o.jsx)(J.a,{formatter:function(t){return"".concat(et.a.formatMoney(t)," tr VND")}}),Object(o.jsx)(X.a,{}),Object(o.jsx)(Q.a,{opacity:.8,name:"Chi\u1ebft kh\u1ea5u thanh to\xe1n",yAxisId:1,dataKey:"paymentDiscount",barSize:8,fill:s}),Object(o.jsx)(Q.a,{opacity:.8,name:"CT H\u1ed7 tr\u1ee3 t\xe0i ch\xednh",yAxisId:1,dataKey:"financialSupport",barSize:8,fill:l}),Object(o.jsx)(Q.a,{opacity:.8,name:"Ch\u1eadm thanh to\xe1n",yAxisId:1,dataKey:"latePayment",barSize:8,fill:u}),Object(o.jsx)(Q.a,{opacity:.8,name:"TT v\u1ed1n ng\u1eafn h\u1ea1n",yAxisId:1,dataKey:"shortTermFunding",barSize:8,fill:d}),Object(o.jsx)(Q.a,{opacity:.8,name:"TT v\u1ed1n d\xe0i h\u1ea1n",yAxisId:1,dataKey:"longTermFunding",barSize:8,fill:p}),Object(o.jsx)(Q.a,{opacity:.8,name:"Ho\u1ea1t \u0111\u1ed9ng kh\xe1c",yAxisId:1,dataKey:"other",barSize:8,fill:h}),Object(o.jsx)(Z.a,{animationEasing:"linear",name:"T\u1ed5ng CPTC r\xf2ng c\xf4ng ty",yAxisId:0,type:"linear",dataKey:"total",dot:{r:4,stroke:b,strokeWidth:2},activeDot:{r:6,fill:b},stroke:b,strokeWidth:3}),Object(o.jsxs)($.a,{x:at(a,n),values:"Actual",strokeWidth:2,stroke:f,strokeDasharray:"3 3",children:[Object(o.jsx)(tt.a,{value:"Actual",position:"left"}),Object(o.jsx)(tt.a,{value:"Forecast",position:"right"})]})]})})})]})}var rt=function(t,e){var a="".concat(100*t+e);return"".concat(a[4]).concat(a[5],"/").concat(a[2]).concat(a[3])};function it(t){var e=t.title,a=t.year,n=t.month,r=t.data,i=Object(B.a)(),c=Object(_.a)(i.breakpoints.down("xs")),s=L.a[700],l=N.a[800],u=R.a[900],d=H.a[900],p=W.a[900],h=Y.a[900],b=R.a[900];return Object(o.jsxs)("div",{style:{width:"100%"},children:[Object(o.jsx)(j.a,{align:"center",variant:"h6",children:e}),Object(o.jsx)("div",{style:{width:"100%",height:280,padding:"8px"},children:Object(o.jsx)(z.a,{children:Object(o.jsxs)(G.a,{data:r,margin:{top:0,right:0,bottom:0,left:0},children:[Object(o.jsx)(U.a,{stroke:"#f5f5f5"}),Object(o.jsx)(V.a,{dataKey:"period",type:"category",scale:"band"}),Object(o.jsx)(q.a,{type:"number",mirror:c,yAxisId:0,tickFormatter:function(t){return"".concat(et.a.formatMoney(t),"%")}}),Object(o.jsx)(q.a,{type:"number",mirror:c,yAxisId:1,orientation:"right",tickFormatter:function(t){return et.a.formatMoney(t)}}),Object(o.jsx)(J.a,{formatter:function(t,e){return"".concat(et.a.formatMoney(t),"CPTC r\xf2ng/DT m\u1ee5c ti\xeau"===e||"CPTC r\xf2ng/DT k\u1ebf ho\u1ea1ch"===e||"CPTC r\xf2ng/DT"===e?"%":" tr VND")}}),Object(o.jsx)(X.a,{}),Object(o.jsx)(Q.a,{opacity:.8,name:"T\u1ed5ng chi ph\xed t\xe0i ch\xednh",yAxisId:1,dataKey:"outcome",barSize:8,fill:s}),Object(o.jsx)(Q.a,{opacity:.8,name:"T\u1ed5ng thu nh\u1eadp t\xe0i ch\xednh",yAxisId:1,dataKey:"income",barSize:8,fill:l}),Object(o.jsx)(Q.a,{opacity:.8,name:"Thu nh\u1eadp t\xe0i ch\xednh r\xf2ng",yAxisId:1,dataKey:"total",barSize:8,fill:u}),Object(o.jsx)(Z.a,{animationEasing:"linear",name:"CPTC r\xf2ng/DT m\u1ee5c ti\xeau",yAxisId:0,type:"linear",dataKey:"baselineRatio",dot:{r:4,stroke:d,strokeWidth:2},activeDot:{r:6,fill:d},stroke:d,strokeWidth:3}),Object(o.jsx)(Z.a,{animationEasing:"linear",name:"CPTC r\xf2ng/DT k\u1ebf ho\u1ea1ch",yAxisId:0,type:"linear",dataKey:"rebaselineRatio",dot:{r:4,stroke:p,strokeWidth:2},activeDot:{r:6,fill:p},stroke:p,strokeWidth:3}),Object(o.jsx)(Z.a,{animationEasing:"linear",name:"CPTC r\xf2ng/DT",yAxisId:0,type:"linear",dataKey:"forecastRatio",dot:{r:4,stroke:h,strokeWidth:2},activeDot:{r:6,fill:h},stroke:h,strokeWidth:3}),Object(o.jsxs)($.a,{x:rt(a,n),values:"Actual",strokeWidth:2,stroke:b,strokeDasharray:"3 3",children:[Object(o.jsx)(tt.a,{value:"Actual",position:"left"}),Object(o.jsx)(tt.a,{value:"Forecast",position:"right"})]})]})})})]})}var ct=Object(u.a)((function(t){return{content:Object(l.a)({display:"flex",height:"calc(100% - 32px)",flexDirection:"column",alignItems:"center",margin:t.spacing(-1)},t.breakpoints.down("xs"),{margin:0,height:"calc(100% - 48px)"}),menu:{display:"flex",width:"100%"},title:{flexGrow:1,textTransform:"uppercase"},link:{textDecoration:"none"}}}));function ot(){var t=ct(),e=r.a.useContext(P),a=e.state,n=e.fetchData,i=new Date,s=i.getFullYear(),l=i.getMonth()+1;return r.a.useEffect((function(){n(s,l)}),[]),Object(o.jsx)("div",{className:t.content,children:Object(o.jsxs)(d.a,{container:!0,spacing:1,style:{padding:"8px"},children:[Object(o.jsxs)(d.a,{container:!0,alignItems:"center",item:!0,spacing:1,className:t.menu,children:[Object(o.jsx)(d.a,{item:!0,className:t.title,children:Object(o.jsx)(j.a,{variant:"h6",children:"B\xe1o c\xe1o Chi ph\xed t\xe0i ch\xednh r\xf2ng C\xf4ng ty"})}),Object(o.jsx)(d.a,{item:!0,children:Object(o.jsx)(c.i,{filename:"Efm02.xlsx",url:"/api/ebi/efm02/getExcel/".concat(s,"/").concat(l),label:"T\u1ea3i v\u1ec1"})})]}),Object(o.jsxs)(d.a,{item:!0,xs:12,children:[Object(o.jsx)(nt,{title:"Baseline",year:s,month:l,data:f.getDetailChartData(s,l,1,a.reportData)}),Object(o.jsx)(nt,{title:"Rebaseline",year:s,month:l,data:f.getDetailChartData(s,l,2,a.reportData)}),Object(o.jsx)(nt,{title:"Forecast",year:s,month:l,data:f.getDetailChartData(s,l,3,a.reportData)}),Object(o.jsx)(it,{title:"T\u1ef7 l\u1ec7 chi ph\xed t\xe0i ch\xednh r\xf2ng tr\xean doanh thu",year:s,month:l,data:f.getOverviewChartData(s,l,3,a.reportData,a.efm03Report)})]})]})})}function st(){return Object(o.jsx)(S,{children:Object(o.jsx)(ot,{})})}var lt=a(40),ut=a(1082),dt=a(297),jt=a(100),pt=a(208),ht=a(34),bt="CHANGE_TITLE",ft="MINUS_YEAR",xt="PLUS_YEAR",mt="FETCH_DATA_SUCCESS",yt="FETCH_DATA_FAILURE",Ot={year:function(){var t=new Date,e=t.getMonth()+1;return e>=4&&e<=12?t.getFullYear():t.getFullYear()-1}(),title:"",reportData:{reportPeriod:0,data:[],projects:[]}},gt={state:Ot,changeTitle:function(t){},fetchData:function(t){},minusYear:function(){},plusYear:function(){}};function vt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case bt:return Object(y.a)(Object(y.a)({},t),{},{title:e.payload.text});case ft:return Object(y.a)(Object(y.a)({},t),{},{year:t.year-1});case xt:return Object(y.a)(Object(y.a)({},t),{},{year:t.year+1});case mt:return Object(y.a)(Object(y.a)({},t),{},{reportData:e.payload.data});case yt:return Object(y.a)(Object(y.a)({},t),{},{reportData:Ot.reportData});default:return t}}var kt={changeTitle:function(t,e){e({type:bt,payload:{text:t}})},fetchData:function(){var t=Object(I.a)(C.a.mark((function t(e,a,n){var r,i,c,o,s,l;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=function(){return{type:yt}},o=function(t){return{type:mt,payload:{data:t}}},r=n.showBackdrop,i=n.showAlert,c=n.hideBackdrop,r(),t.prev=4,t.next=7,w.get(e);case 7:l=t.sent,a(o(l)),c(),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(4),a(s()),c(),i(m.b.FETCH_FAILURE,"error");case 17:case"end":return t.stop()}}),t,null,[[4,12]])})));return function(e,a,n){return t.apply(this,arguments)}}(),minusYear:function(t){t({type:ft})},plusYear:function(t){t({type:xt})}},Dt=Object(n.createContext)(gt);function Tt(t){var e=t.children,a=r.a.useReducer(vt,Ot),i=Object(x.a)(a,2),c=i[0],s=i[1],l=Object(n.useContext)(m.a),u={state:c,changeTitle:function(t){kt.changeTitle(t,s)},fetchData:function(t){kt.fetchData(t,s,l)},minusYear:function(){kt.minusYear(s)},plusYear:function(){kt.plusYear(s)}};return Object(o.jsx)(Dt.Provider,{value:u,children:e})}var Ct=function(t){return[100*t+4,100*t+5,100*t+6,100*t+7,100*t+8,100*t+9,100*t+10,100*t+11,100*t+12,100*(t+1)+1,100*(t+1)+2,100*(t+1)+3]},It=function(){var t=new Date;return 100*t.getFullYear()+t.getMonth()+1},At=function(t){var e=t.toFixed(0);return"".concat(e[4]).concat(e[5],"/").concat(e[2]).concat(e[3])},Ft={getSCurveChartData:function(t,e,a){var n=100*e+1,r=100*e+2,i=100*e+3;return Ct(t).map((function(t){var e=a.data.find((function(e){return e.period===t&&e.reportType===n})),c=a.data.find((function(e){return e.period===t&&e.reportType===r})),o=a.data.find((function(e){return e.period===t&&e.reportType===i}));return{period:At(t),baseline:void 0!==e?e.dispersion/1:0,rebaseline:void 0!==c?c.dispersion/1:0,forecast:void 0!==o?o.dispersion/1:0,accBaseline:void 0!==e?e.accumulation/1:0,accRebaseline:void 0!==c?c.accumulation/1:0,accForecast:void 0!==o?o.accumulation/1:0}}))},getLineChartData:function(t,e,a,n){var r=100*e+1,i=100*e+2,c=100*e+3,o=100*a+1,s=100*a+2,l=100*a+3;return Ct(t).map((function(t){var e=n.data.find((function(e){return e.period===t&&e.reportType===r})),a=n.data.find((function(e){return e.period===t&&e.reportType===o})),u=0;void 0!==e&&void 0!==a&&(u=e.accumulation-a.accumulation);var d=n.data.find((function(e){return e.period===t&&e.reportType===i})),j=n.data.find((function(e){return e.period===t&&e.reportType===s})),p=0;void 0!==d&&void 0!==j&&(p=d.accumulation-j.accumulation);var h=n.data.find((function(e){return e.period===t&&e.reportType===c})),b=n.data.find((function(e){return e.period===t&&e.reportType===l})),f=0;return void 0!==h&&void 0!==b&&(f=h.accumulation-b.accumulation),{period:At(t),accBaseline:u,accRebaseline:p,accForecast:f}}))},getBarChartData:function(t,e){var a=100*t+3,n=It();return e.projects.map((function(t){var e=t.data.find((function(t){return t.reportType===a&&t.period===n}));return{category:t.projectCode,value:void 0!==e?e.accumulation:0}})).sort((function(t,e){return t.value>e.value?-1:t.value<e.value?1:0}))},getGapBarChartData:function(t,e){var a=100*t+3,n=100*t+2,r=It();return e.projects.map((function(t){var e=t.data.find((function(t){return t.reportType===n&&t.period===r})),i=t.data.find((function(t){return t.reportType===a&&t.period===r})),c=void 0!==e?e.accumulation:0,o=void 0!==i?i.accumulation:0;return{category:t.projectCode,value:0!==c?(c-o)/c*100/1:0}})).sort((function(t,e){return t.value>e.value?-1:t.value<e.value?1:0}))},getAreaChartData:function(t,e,a){var n=100+e,r=200+e,i=300+e;return Ct(t).map((function(t){var e=a.data.find((function(e){return e.period===t&&e.reportType===n})),c=a.data.find((function(e){return e.period===t&&e.reportType===r})),o=a.data.find((function(e){return e.period===t&&e.reportType===i}));return{period:At(t),cashIn:void 0!==o?o.accumulation/1:0,revenue:void 0!==c?c.accumulation/1:0,workDone:void 0!==e?e.accumulation/1:0}}))},getCurrentMonth:It,getPeriodLabel:At},wt=a(1062);function Kt(t){var e=t.title,a=t.data,n=Object(B.a)(),i=Object(_.a)(n.breakpoints.down("xs")),c=r.a.useState(!1),s=Object(x.a)(c,2),l=s[0],u=s[1],d=H.a[600],p=N.a[800],h=R.a[900],b=R.a[900];r.a.useEffect((function(){u(!0)}),[]);return Object(o.jsxs)("div",{style:{width:"100%"},children:[Object(o.jsx)(j.a,{align:"center",variant:"h6",children:e}),Object(o.jsx)("div",{style:{width:"100%",height:280,padding:"8px"},children:l&&Object(o.jsx)(z.a,{children:Object(o.jsxs)(G.a,{data:a,margin:{top:0,right:0,bottom:0,left:0},children:[Object(o.jsx)(V.a,{dataKey:"period",type:"category",scale:"band"}),Object(o.jsx)(q.a,{type:"number",mirror:i,tickFormatter:function(t){return et.a.formatMoney(t/1e3)}}),Object(o.jsx)(J.a,{formatter:function(t){return"".concat(et.a.formatMoney(t/1e3)," t\u1ef7 VND")}}),Object(o.jsx)(X.a,{}),Object(o.jsx)(wt.a,{name:"Ti\u1ec1n v\u1ec1",type:"monotone",dataKey:"cashIn",stackId:"1",stroke:d,fill:d}),Object(o.jsx)(wt.a,{name:"Doanh thu",type:"monotone",dataKey:"revenue",stackId:"1",stroke:p,fill:p}),Object(o.jsx)(wt.a,{name:"S\u1ea3n l\u01b0\u1ee3ng",type:"monotone",dataKey:"workDone",stackId:"1",stroke:h,fill:h}),Object(o.jsxs)($.a,{x:Ft.getPeriodLabel(Ft.getCurrentMonth()),values:"Actual",strokeWidth:2,stroke:b,strokeDasharray:"3 3",children:[Object(o.jsx)(tt.a,{value:"Actual",position:"left"}),Object(o.jsx)(tt.a,{value:"Forecast",position:"right"})]})]})})})]})}function Et(){var t=r.a.useContext(Dt),e=t.changeTitle,a=t.state,n=a.year;return r.a.useEffect((function(){e("T\u1ed5ng quan")}),[]),Object(o.jsxs)(d.a,{container:!0,alignItems:"stretch",children:[Object(o.jsx)(d.a,{item:!0,xs:12,children:Object(o.jsx)(Kt,{title:"Baseline",data:Ft.getAreaChartData(n,1,a.reportData)})}),Object(o.jsx)(d.a,{item:!0,xs:12,children:Object(o.jsx)(Kt,{title:"Rebaseline",data:Ft.getAreaChartData(n,2,a.reportData)})}),Object(o.jsx)(d.a,{item:!0,xs:12,children:Object(o.jsx)(Kt,{title:"Forecast",data:Ft.getAreaChartData(n,3,a.reportData)})})]})}function Mt(t){var e=t.title,a=t.data,n=Object(B.a)(),i=Object(_.a)(n.breakpoints.down("xs")),c=r.a.useState(!1),s=Object(x.a)(c,2),l=s[0],u=s[1],d=L.a[700],p=N.a[800],h=R.a[900];r.a.useEffect((function(){u(!0)}),[]);var b=function(t){return et.a.formatMoney(t/1e3)};return Object(o.jsxs)("div",{style:{width:"100%"},children:[Object(o.jsx)(j.a,{align:"center",variant:"h6",children:e}),Object(o.jsx)("div",{style:{width:"100%",height:280,padding:"8px"},children:l&&Object(o.jsx)(z.a,{children:Object(o.jsxs)(G.a,{data:a,margin:{top:0,right:0,bottom:0,left:0},children:[Object(o.jsx)(U.a,{stroke:"#f5f5f5"}),Object(o.jsx)(V.a,{dataKey:"period",type:"category",scale:"band"}),Object(o.jsx)(q.a,{type:"number",mirror:i,yAxisId:0,tickFormatter:b}),Object(o.jsx)(q.a,{type:"number",mirror:i,yAxisId:1,orientation:"right",tickFormatter:b}),Object(o.jsx)(J.a,{formatter:function(t){return"".concat(et.a.formatMoney(t/1e3)," t\u1ef7 VND")}}),Object(o.jsx)(X.a,{iconType:"square",payload:[{id:"0",color:d,value:"KHB\u0110 L\u0169y k\u1ebf",type:"line",payload:{strokeDasharray:""}},{id:"1",color:p,value:"KH L\u0169y k\u1ebf",type:"line",payload:{strokeDasharray:""}},{id:"2",color:h,value:"DB L\u0169y k\u1ebf",type:"line",payload:{strokeDasharray:""}},{id:"3",color:p,value:"KH Ph\xe2n k\u1ef3",type:"square",payload:{strokeDasharray:""}},{id:"4",color:h,value:"DB Ph\xe2n k\u1ef3",type:"square",payload:{strokeDasharray:""}}]}),Object(o.jsx)(Q.a,{opacity:.8,name:"KH Ph\xe2n k\u1ef3",yAxisId:1,dataKey:"rebaseline",barSize:15,fill:p}),Object(o.jsx)(Q.a,{opacity:.8,name:"TT Ph\xe2n k\u1ef3",yAxisId:1,dataKey:"forecast",barSize:15,fill:h}),Object(o.jsx)(Z.a,{animationEasing:"linear",name:"KHB\u0110 L\u0169y k\u1ebf",yAxisId:0,type:"linear",dataKey:"accBaseline",dot:{r:4,stroke:d,strokeWidth:2},activeDot:{r:6,fill:d},stroke:d,strokeWidth:3}),Object(o.jsx)(Z.a,{animationEasing:"linear",name:"KH L\u0169y k\u1ebf",yAxisId:0,type:"linear",dataKey:"accRebaseline",dot:{r:4,stroke:p,strokeWidth:2},activeDot:{r:6,fill:p},stroke:p,strokeWidth:3}),Object(o.jsx)(Z.a,{animationEasing:"linear",name:"DB L\u0169y k\u1ebf",yAxisId:0,type:"linear",dataKey:"accForecast",dot:{r:4,stroke:h,strokeWidth:2},activeDot:{r:6,fill:h},stroke:h,strokeWidth:3}),Object(o.jsxs)($.a,{x:Ft.getPeriodLabel(Ft.getCurrentMonth()),values:"Actual",strokeWidth:2,stroke:h,strokeDasharray:"3 3",children:[Object(o.jsx)(tt.a,{value:"Actual",position:"left"}),Object(o.jsx)(tt.a,{value:"Forecast",position:"right"})]})]})})})]})}var Pt=a(1081);function St(t){var e=t.title,a=t.name,n=t.tickFormatter,r=t.tooltipFormatter,i=t.max,c=t.min,s=t.data,l=Object(B.a)(),u=Object(_.a)(l.breakpoints.down("xs"));return Object(o.jsxs)("div",{style:{width:"100%"},children:[Object(o.jsx)(j.a,{align:"center",variant:"h6",children:e}),Object(o.jsx)("div",{style:{width:"100%",height:280,padding:"8px"},children:Object(o.jsx)(z.a,{children:Object(o.jsxs)(Pt.a,{data:s,stackOffset:"expand",margin:{top:0,right:0,left:0,bottom:0},children:[Object(o.jsx)(U.a,{strokeDasharray:"3 3"}),Object(o.jsx)(V.a,{dataKey:"category",type:"category",scale:"band"}),!u&&Object(o.jsx)(q.a,{tickFormatter:n}),Object(o.jsx)(J.a,{formatter:r}),Object(o.jsx)(Q.a,{barSize:12,name:a,dataKey:"value",fill:"green",max:i,min:c})]})})})]})}var Bt=["","S\u1ea3n l\u01b0\u1ee3ng","Doanh thu","Ti\u1ec1n v\u1ec1"];function Lt(){var t=Object(i.i)().dataType,e=r.a.useState(1),a=Object(x.a)(e,2),n=a[0],c=a[1],s=r.a.useContext(Dt),l=s.changeTitle,u=s.state,j=u.year;r.a.useEffect((function(){var e=0;switch(t){case"work-done":e=1;break;case"revenue":e=2;break;default:e=3}l(Bt[e]),c(e)}),[t]);return Object(o.jsxs)(d.a,{container:!0,alignItems:"stretch",children:[Object(o.jsx)(d.a,{item:!0,xs:12,children:Object(o.jsx)(Mt,{title:Bt[n],data:Ft.getSCurveChartData(j,n,u.reportData)})}),Object(o.jsx)(d.a,{item:!0,xs:12,md:6,children:Object(o.jsx)(St,{title:"".concat(Bt[n]," th\u1ef1c t\u1ebf l\u0169y k\u1ebf"),name:Bt[n],tickFormatter:function(t){return et.a.formatMoney(t/1e3)},tooltipFormatter:function(t){return"".concat(et.a.formatMoney(t/1e3)," t\u1ef7 VND")},data:Ft.getBarChartData(n,u.reportData)})}),Object(o.jsx)(d.a,{item:!0,xs:12,md:6,children:Object(o.jsx)(St,{title:"%GAP th\u1ef1c t\u1ebf l\u0169y k\u1ebf",name:"%Gap",tickFormatter:function(t){return"".concat(t.toFixed(0))},tooltipFormatter:function(t){return"".concat(t.toFixed(1),"%")},max:100,min:0,data:Ft.getGapBarChartData(n,u.reportData)})})]})}function Nt(t){var e=t.title,a=t.data,n=Object(B.a)(),i=Object(_.a)(n.breakpoints.down("xs")),c=r.a.useState(!1),s=Object(x.a)(c,2),l=s[0],u=s[1],d=L.a[700],p=N.a[800],h=R.a[900];r.a.useEffect((function(){u(!0)}),[]);return Object(o.jsxs)("div",{style:{width:"100%"},children:[Object(o.jsx)(j.a,{align:"center",variant:"h6",children:e}),Object(o.jsx)("div",{style:{width:"100%",height:280,padding:"8px"},children:l&&Object(o.jsx)(z.a,{children:Object(o.jsxs)(G.a,{data:a,margin:{top:0,right:0,bottom:0,left:0},children:[Object(o.jsx)(U.a,{stroke:"#f5f5f5"}),Object(o.jsx)(V.a,{dataKey:"period",type:"category",scale:"band"}),Object(o.jsx)(q.a,{type:"number",mirror:i,yAxisId:0,tickFormatter:function(t){return et.a.formatMoney(t/1e3)}}),Object(o.jsx)(J.a,{formatter:function(t){return"".concat(et.a.formatMoney(t/1e3)," t\u1ef7 VND")}}),Object(o.jsx)(X.a,{iconType:"square",payload:[{id:"0",color:d,value:"KHB\u0110 L\u0169y k\u1ebf",type:"line",payload:{strokeDasharray:""}},{id:"1",color:p,value:"KH L\u0169y k\u1ebf",type:"line",payload:{strokeDasharray:""}},{id:"2",color:h,value:"DB L\u0169y k\u1ebf",type:"line",payload:{strokeDasharray:""}}]}),Object(o.jsx)(Z.a,{animationEasing:"linear",name:"KHB\u0110 L\u0169y k\u1ebf",yAxisId:0,type:"linear",dataKey:"accBaseline",dot:{r:4,stroke:d,strokeWidth:2},activeDot:{r:6,fill:d},stroke:d,strokeWidth:3}),Object(o.jsx)(Z.a,{animationEasing:"linear",name:"KH L\u0169y k\u1ebf",yAxisId:0,type:"linear",dataKey:"accRebaseline",dot:{r:4,stroke:p,strokeWidth:2},activeDot:{r:6,fill:p},stroke:p,strokeWidth:3}),Object(o.jsx)(Z.a,{animationEasing:"linear",name:"DB L\u0169y k\u1ebf",yAxisId:0,type:"linear",dataKey:"accForecast",dot:{r:4,stroke:h,strokeWidth:2},activeDot:{r:6,fill:h},stroke:h,strokeWidth:3}),Object(o.jsxs)($.a,{x:Ft.getPeriodLabel(Ft.getCurrentMonth()),values:"Actual",strokeWidth:2,stroke:h,strokeDasharray:"3 3",children:[Object(o.jsx)(tt.a,{value:"Actual",position:"left"}),Object(o.jsx)(tt.a,{value:"Forecast",position:"right"})]})]})})})]})}function Rt(){var t=r.a.useContext(Dt),e=t.changeTitle,a=t.state,n=a.year;return r.a.useEffect((function(){e("T\u1ed3n kho/Ph\u1ea3i thu")}),[]),Object(o.jsxs)(d.a,{container:!0,alignItems:"stretch",children:[Object(o.jsx)(d.a,{item:!0,xs:12,children:Object(o.jsx)(Nt,{title:"T\u1ed3n kho",data:Ft.getLineChartData(n,1,2,a.reportData)})}),Object(o.jsx)(d.a,{item:!0,xs:12,children:Object(o.jsx)(Nt,{title:"Ph\u1ea3i thu",data:Ft.getLineChartData(n,2,3,a.reportData)})})]})}var Ht=Object(u.a)((function(t){return{content:Object(l.a)({display:"flex",height:"calc(100% - 32px)",flexDirection:"column",alignItems:"center",margin:t.spacing(-1)},t.breakpoints.down("xs"),{margin:0,height:"calc(100% - 48px)"}),menu:{display:"flex",width:"100%"},title:{flexGrow:1,textTransform:"uppercase"},link:{textDecoration:"none"}}}));function Wt(){var t=Ht(),e=Object(i.j)().path,a=Object(i.g)(),n=r.a.useContext(Dt),s=n.state,l=n.fetchData,u=n.minusYear,p=n.plusYear,h=s.title,b=s.year,f=r.a.useState(null),m=Object(x.a)(f,2),y=m[0],O=m[1],g=Boolean(y),v=function(t,e,n){return Object(o.jsx)(ut.a,{onClick:function(){!function(t){O(null),a.push(t)}(n)},children:Object(o.jsxs)(d.a,{container:!0,alignItems:"center",spacing:2,children:[Object(o.jsx)(d.a,{item:!0,children:Object(o.jsx)(ht.a,{icon:t})}),Object(o.jsx)(d.a,{item:!0,children:Object(o.jsx)(j.a,{variant:"subtitle2",style:{textTransform:"uppercase"},children:e})})]})})};return r.a.useEffect((function(){l(s.year)}),[s.year]),Object(o.jsx)("div",{className:t.content,children:Object(o.jsxs)(d.a,{container:!0,spacing:1,style:{padding:"8px"},children:[Object(o.jsxs)(d.a,{container:!0,alignItems:"center",item:!0,spacing:1,className:t.menu,children:[Object(o.jsx)(d.a,{item:!0,className:t.title,children:Object(o.jsx)(j.a,{variant:"h6",children:h})}),Object(o.jsx)(d.a,{item:!0,children:Object(o.jsx)(dt.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:u,style:{padding:0},children:Object(o.jsx)(ht.a,{icon:"chevron-left"})})}),Object(o.jsx)(d.a,{item:!0,children:Object(o.jsx)(j.a,{variant:"h6",children:b})}),Object(o.jsx)(d.a,{item:!0,children:Object(o.jsx)(dt.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:p,style:{padding:0},children:Object(o.jsx)(ht.a,{icon:"chevron-right"})})}),Object(o.jsx)(d.a,{item:!0,children:Object(o.jsx)(c.i,{filename:"Efm03.xlsx",url:"/api/ebi/efm03/getExcel/".concat(s.year),label:"T\u1ea3i v\u1ec1"})}),Object(o.jsxs)(d.a,{item:!0,children:[Object(o.jsx)(jt.a,{xsDown:!0,children:Object(o.jsxs)(d.a,{container:!0,direction:"row",spacing:1,children:[Object(o.jsx)(d.a,{item:!0,children:Object(o.jsx)(lt.a,{to:"/e-bi/enterprise/efm03",className:t.link,children:Object(o.jsx)(c.n,{variant:"contained",icon:"chart-line",text:"T\u1ed5ng quan",color:"dark"})})}),Object(o.jsx)(d.a,{item:!0,children:Object(o.jsx)(lt.a,{to:"/e-bi/enterprise/efm03/detail/work-done",className:t.link,children:Object(o.jsx)(c.n,{variant:"contained",icon:"check-circle",text:"S\u1ea3n l\u01b0\u1ee3ng",color:"info"})})}),Object(o.jsx)(d.a,{item:!0,children:Object(o.jsx)(lt.a,{to:"/e-bi/enterprise/efm03/detail/revenue",className:t.link,children:Object(o.jsx)(c.n,{variant:"contained",icon:"file-contract",text:"Doanh thu",color:"primary"})})}),Object(o.jsx)(d.a,{item:!0,children:Object(o.jsx)(lt.a,{to:"/e-bi/enterprise/efm03/detail/cash-in",className:t.link,children:Object(o.jsx)(c.n,{variant:"contained",icon:"dollar-sign",text:"Ti\u1ec1n v\u1ec1",color:"success"})})}),Object(o.jsx)(d.a,{item:!0,children:Object(o.jsx)(lt.a,{to:"/e-bi/enterprise/efm03/secondary",className:t.link,children:Object(o.jsx)(c.n,{variant:"contained",icon:"layer-group",text:"T\u1ed3n kho/Ph\u1ea3i thu",color:"warning"})})}),Object(o.jsx)(d.a,{item:!0,children:Object(o.jsx)(c.n,{variant:"contained",icon:"sync-alt",text:"L\xe0m m\u1edbi",color:"secondary"})})]})}),Object(o.jsxs)(jt.a,{smUp:!0,children:[Object(o.jsx)(dt.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(t){O(t.currentTarget)},style:{padding:0},children:Object(o.jsx)(ht.a,{icon:"ellipsis-v"})}),Object(o.jsxs)(pt.a,{id:"long-menu",anchorEl:y,keepMounted:!0,open:g,onClose:function(){O(null)},children:[v("chart-line","T\u1ed5ng quan","/e-bi/enterprise/efm03"),v("check-circle","S\u1ea3n l\u01b0\u1ee3ng","/e-bi/enterprise/efm03/detail/work-done"),v("file-contract","Doanh thu","/e-bi/enterprise/efm03/detail/revenue"),v("dollar-sign","Ti\u1ec1n v\u1ec1","/e-bi/enterprise/efm03/detail/cash-in"),v("layer-group","T\u1ed3n kho/Ph\u1ea3i thu","/e-bi/enterprise/efm03/secondary"),Object(o.jsx)(ut.a,{children:Object(o.jsxs)(d.a,{container:!0,alignItems:"center",spacing:2,children:[Object(o.jsx)(d.a,{item:!0,children:Object(o.jsx)(ht.a,{icon:"sync-alt"})}),Object(o.jsx)(d.a,{item:!0,children:Object(o.jsx)(j.a,{variant:"subtitle2",children:"L\xc0M M\u1edaI"})})]})})]})]})]})]}),Object(o.jsx)(d.a,{item:!0,xs:12,children:Object(o.jsxs)(i.d,{children:[Object(o.jsx)(i.b,{exact:!0,path:"".concat(e),component:Et}),Object(o.jsx)(i.b,{path:"".concat(e,"/detail/:dataType"),component:Lt}),Object(o.jsx)(i.b,{path:"".concat(e,"/secondary"),component:Rt})]})})]})})}function Yt(){return Object(o.jsx)(Tt,{children:Object(o.jsx)(Wt,{})})}function _t(){return Object(o.jsx)(c.e,{text:"B\xc1O C\xc1O CHI PH\xcd TI\u1ec0N CHI"})}function zt(){return Object(o.jsx)(c.e,{text:"B\xc1O C\xc1O OPEX-CAPEX"})}function Gt(){return Object(o.jsx)(c.e,{text:"B\xc1O C\xc1O VAY/G\u1eecI NG\xc2N H\xc0NG"})}function Ut(){return Object(o.jsx)(c.e,{text:"B\xc1O C\xc1O C\xc2N \u0110\u1ed0I CF"})}function Vt(){return Object(o.jsx)(c.e,{text:"B\xc1O C\xc1O TU\u1ed4I N\u1ee2"})}function qt(){return Object(o.jsx)(c.e,{text:"B\xc1O C\xc1O KPI C\xd4NG TY"})}function Jt(){var t=Object(i.j)().path;return Object(o.jsxs)(i.d,{children:[Object(o.jsx)(i.b,{path:"".concat(t,"/efm01"),component:s}),Object(o.jsx)(i.b,{path:"".concat(t,"/efm02"),component:st}),Object(o.jsx)(i.b,{path:"".concat(t,"/efm03"),component:Yt}),Object(o.jsx)(i.b,{path:"".concat(t,"/efm04"),component:_t}),Object(o.jsx)(i.b,{path:"".concat(t,"/efm05"),component:zt}),Object(o.jsx)(i.b,{path:"".concat(t,"/efm06"),component:Gt}),Object(o.jsx)(i.b,{path:"".concat(t,"/efm07"),component:Ut}),Object(o.jsx)(i.b,{path:"".concat(t,"/efm08"),component:Vt}),Object(o.jsx)(i.b,{path:"".concat(t,"/efm09"),component:qt})]})}},373:function(t,e,a){"use strict";var n={formatDate:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"dd/MM/yyyy",a=e,n=[{symbol:"dd",value:t.getDate()<10?"0".concat(t.getDate()):t.getDate()},{symbol:"MM",value:t.getMonth()+1<10?"0".concat(t.getMonth()+1):"".concat(t.getMonth()+1)},{symbol:"yyyy",value:t.getFullYear()},{symbol:"hh",value:t.getHours()<10?"0".concat(t.getHours()):t.getHours()},{symbol:"mm",value:t.getMinutes()<10?"0".concat(t.getMinutes()):t.getMinutes()}];return n.map((function(t){return a=a.replace(t.symbol,t.value),t.symbol})),a},formatMoney:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=new Intl.NumberFormat("vi-VN",{maximumFractionDigits:e});return a.format(t)}};e.a=n}}]);