(this.webpackJsonpemis=this.webpackJsonpemis||[]).push([[10],{502:function(t,e,n){"use strict";var a=n(10),c=n.n(a),r="/api/library/posts";var i={getAll:function(){return c.a.get(r)},getById:function(t){return c.a.get("".concat(r,"/").concat(t))},create:function(t){return c.a.post(r,t)},edit:function(t,e){return c.a.put("".concat(r,"/").concat(t),e)}};e.a=i},508:function(t,e,n){"use strict";n.d(e,"b",(function(){return v})),n.d(e,"a",(function(){return O}));var a=n(1),c=n(15),r=n(0),i=n.n(r),o=n(114),s="GET_CONTRACT_DETAIL_SUCCESS",u="GET_CONTRACT_DETAIL_FAILURE",l={posts:[]},d={state:l,refresh:function(){}};function j(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case s:return{posts:e.payload.posts};case u:return l;default:return t}}var b=n(28),p=n.n(b),f=n(42),h=n(502),x={refresh:function(){var t=Object(f.a)(p.a.mark((function t(e,n){var a,c,r,i,l,d;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l=function(){return{type:u}},i=function(t){return{type:s,payload:{posts:t}}},a=n.showBackdrop,c=n.showAlert,r=n.hideBackdrop,a(),t.prev=4,t.next=7,h.a.getAll();case 7:d=t.sent,e(i(d)),r(),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(4),e(l()),r(),c(o.b.FETCH_FAILURE,"error");case 17:case"end":return t.stop()}}),t,null,[[4,12]])})));return function(e,n){return t.apply(this,arguments)}}()},O=Object(r.createContext)(d);function v(t){var e=t.children,n=i.a.useReducer(j,l),s=Object(c.a)(n,2),u=s[0],d=s[1],b=Object(r.useContext)(o.a),p={state:u,refresh:function(){x.refresh(d,b)}};return Object(a.jsx)(O.Provider,{value:p,children:e})}},722:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return W}));var a=n(1),c=n(150),r=n(15),i=n(0),o=n.n(i),s=n(29),u=n(58),l=n(96),d=n(508),j=n(51),b=n(704),p=n(36),f=n(703),h=Object(j.a)({root:{width:"100%",color:"#8c8888"},group:{marginLeft:"8px"},label:{fontSize:"0.85rem",fontWeight:500,height:"25px"},iconContainer:{width:"15px",marginRight:0,color:"#8c8888"},content:{alignItems:"stretch"},selected:{color:"#171717"}});function x(t){var e=t.id,n=t.label,c=t.data,r=h(),i=Object(s.g)();return Object(a.jsx)(f.a,{classes:{root:r.root,group:r.group,label:r.label,iconContainer:r.iconContainer,content:r.content,selected:r.selected},nodeId:e,label:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(p.a,{icon:"file-alt"})," ".concat(n)]}),onLabelClick:function(t){t.preventDefault(),i.push("/library/posts/".concat(e))},children:c.filter((function(t){return t.parentId===e})).map((function(t){return Object(a.jsx)(x,{id:t.id,data:c,label:t.label},t.id)}))})}var O=Object(j.a)({root:{padding:"8px",flexGrow:1,width:"100%"}});function v(t){var e=t.data,n=O();return Object(a.jsx)(b.a,{className:n.root,defaultCollapseIcon:Object(a.jsx)(p.a,{icon:"caret-down"}),defaultExpandIcon:Object(a.jsx)(p.a,{icon:"caret-right"}),children:e.filter((function(t){return"0"===t.parentId})).map((function(t){return Object(a.jsx)(x,{id:t.id,data:e,label:t.label},t.id)}))})}var g=n(41),m=n(448),C=n(402),w=n(50),I=n(21);function y(){var t=o.a.useState(""),e=Object(r.a)(t,2),n=e[0],c=e[1],i=o.a.useContext(d.a).state.posts;return Object(a.jsxs)(m.a,{container:!0,spacing:1,children:[Object(a.jsx)(m.a,{item:!0,xs:12,children:Object(a.jsx)(I.r,{label:"T\xecm ki\u1ebfm",value:n,onChange:function(t){c(t.target.value)}})}),Object(a.jsx)(m.a,{item:!0,xs:12,children:Object(a.jsx)(C.a,{})}),i.filter((function(t){return t.title.includes(n)})).map((function(t){return Object(a.jsx)(m.a,{item:!0,xs:12,children:Object(a.jsx)(m.a,{container:!0,spacing:4,children:Object(a.jsx)(m.a,{item:!0,children:Object(a.jsx)(g.a,{to:"/library/posts/".concat(t.id),children:Object(a.jsx)(w.a,{variant:"h6",children:t.title})})})})},t.id)}))]})}var T=n(28),k=n.n(T),E=n(42),A=n(19),S=n(114),_=n(502),B={id:0,changedBy:"",changedTime:new Date,content:"",createdBy:"",createdTime:new Date,title:"",parentId:0};function L(){var t=Object(s.i)().postId,e=o.a.useContext(S.a),n=e.showAlert,c=e.showBackdrop,i=e.hideBackdrop,u=o.a.useContext(d.a),l=u.state,j=u.refresh,b=o.a.useState(B),p=Object(r.a)(b,2),f=p[0],h=p[1],x=function(){var e=Object(E.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(),e.prev=1,e.t0=h,e.next=5,_.a.getById(t);case 5:e.t1=e.sent,(0,e.t0)(e.t1),i(),e.next=15;break;case 10:e.prev=10,e.t2=e.catch(1),h(B),i(),n(S.b.FETCH_FAILURE,"error");case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var t=Object(E.a)(k.a.mark((function t(){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(),t.prev=1,t.next=4,_.a.edit(f.id,f);case 4:i(),n(S.b.ACTION_SUCCESS,"success"),j(),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),i(),n(S.b.ACTION_FAILURE,"error");case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(){return t.apply(this,arguments)}}();return o.a.useEffect((function(){x()}),[t]),Object(a.jsxs)(m.a,{container:!0,spacing:1,children:[Object(a.jsx)(m.a,{item:!0,xs:12,children:Object(a.jsx)(I.r,{label:"Ti\xeau \u0111\u1ec1",required:!0,value:f.title,onChange:function(t){h(Object(A.a)(Object(A.a)({},f),{},{title:t.target.value}))}})}),Object(a.jsx)(m.a,{item:!0,xs:12,children:Object(a.jsx)(I.e,{options:l.posts.filter((function(t){return t.id!==f.id})),optionLabel:"title",label:"Thu\u1ed9c v\u1ec1",required:!0,value:l.posts.find((function(t){return t.id===f.parentId})),onChange:function(t){null!==t&&h(Object(A.a)(Object(A.a)({},f),{},{parentId:t.id}))}})}),Object(a.jsx)(m.a,{item:!0,xs:12,children:Object(a.jsx)(I.p,{label:"N\u1ed9i dung",required:!0,value:f.content,onChange:function(t){h(Object(A.a)(Object(A.a)({},f),{},{content:t}))}})}),Object(a.jsx)(m.a,{item:!0,xs:12,children:Object(a.jsx)(I.o,{variant:"contained",text:"L\u01b0u l\u1ea1i",color:"success",icon:"plus",onClick:O})})]})}var F=n(137),R=n.n(F),D={id:0,changedBy:"",changedTime:new Date,content:"",createdBy:"",createdTime:new Date,title:"",parentId:0},N=new R.a.Renderer,U=[],z=0;function H(){var t=o.a.useContext(S.a),e=t.showAlert,n=t.showBackdrop,c=t.hideBackdrop,i=Object(s.i)().postId,u=o.a.useState(D),l=Object(r.a)(u,2),d=l[0],j=l[1],b=function(){var t=Object(E.a)(k.a.mark((function t(){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(),t.prev=1,t.t0=j,t.next=5,_.a.getById(i);case 5:t.t1=t.sent,(0,t.t0)(t.t1),c(),t.next=15;break;case 10:t.prev=10,t.t2=t.catch(1),j(D),c(),e(S.b.FETCH_FAILURE,"error");case 15:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(){return t.apply(this,arguments)}}();return o.a.useEffect((function(){b()}),[i]),Object(a.jsxs)(m.a,{container:!0,spacing:1,children:[Object(a.jsxs)(m.a,{item:!0,xs:12,children:[Object(a.jsx)(w.a,{variant:"h4",children:d.title}),Object(a.jsx)(C.a,{})]}),Object(a.jsx)(m.a,{item:!0,xs:12,children:Object(a.jsx)("div",{dangerouslySetInnerHTML:{__html:R()(d.content)}})})]})}function q(){var t=o.a.useState(!1),e=Object(r.a)(t,2),n=e[0],c=e[1],i=function(){var t=Object(E.a)(k.a.mark((function t(){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=c,t.next=3,Object(l.c)();case 3:t.t1=t.sent,(0,t.t0)(t.t1);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return o.a.useEffect((function(){i()}),[]),n?Object(a.jsx)(L,{}):Object(a.jsx)(H,{})}function G(){var t=Object(s.j)().path;return Object(a.jsxs)(s.d,{children:[Object(a.jsx)(s.b,{path:"".concat(t,"/dashboard"),component:y}),Object(a.jsx)(s.b,{path:"".concat(t,"/posts/:postId"),component:q})]})}N.heading=function(t,e,n){var a,c="".concat(this.options.headerPrefix).concat((a=n,a.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\u0111/g,"d").replace(/\u0110/g,"D")).replace(/[^\w]+/g,"-"),"_").concat(z);return z++,U.push({anchor:c,level:e,text:t}),"<h"+e+' id="'+c+'">'+t+"</h"+e+">\n"},R.a.setOptions({renderer:N});var P=o.a.lazy((function(){return n.e(15).then(n.bind(null,716))})),J=o.a.lazy((function(){return n.e(11).then(n.bind(null,734))}));function M(){var t=Object(s.j)().path,e=o.a.useContext(u.a),n=e.changeSideMenuList,i=e.changeActivePluginId,j=o.a.useState(!1),b=Object(r.a)(j,2),p=b[0],f=b[1],h=o.a.useState(!1),x=Object(r.a)(h,2),O=x[0],g=x[1],m=o.a.useContext(d.a),C=m.state,w=m.refresh;return o.a.useEffect((function(){i(l.g.id),Object(l.b)().then((function(t){f(t)})).catch((function(){f(!1)})),Object(l.c)().then((function(t){g(t)})).catch((function(){g(!1)})),w()}),[]),o.a.useEffect((function(){var t=p?Object(c.a)(l.a):[],e=O?Object(c.a)(l.e):[];n([].concat(Object(c.a)(l.f),[Object(a.jsx)(v,{data:C.posts.map((function(t){return{id:t.id.toFixed(0),label:t.title,parentId:t.parentId.toFixed(0)}}))},"2")],Object(c.a)(e),Object(c.a)(t)))}),[p,C]),Object(a.jsxs)(s.d,{children:[O&&Object(a.jsx)(s.b,{path:"".concat(t,"/creator"),component:P}),p&&Object(a.jsx)(s.b,{path:"".concat(t,"/admin"),component:J}),Object(a.jsx)(s.b,{path:"".concat(t),component:G})]})}function W(){return Object(a.jsx)(d.b,{children:Object(a.jsx)(M,{})})}}}]);