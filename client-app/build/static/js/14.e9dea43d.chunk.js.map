{"version":3,"sources":["configs/format.ts","plugins/HelpDesk/services/module.ts","plugins/HelpDesk/services/issue.ts","plugins/HelpDesk/pages/CreateIssue.tsx","plugins/HelpDesk/constants/issue.ts","plugins/HelpDesk/components/StatusTag.tsx","plugins/HelpDesk/components/Tag.tsx","plugins/HelpDesk/components/Counter.tsx","plugins/HelpDesk/components/IssuesTableToolbar.tsx","plugins/HelpDesk/components/IssuesTable.tsx","plugins/HelpDesk/pages/Issues.tsx","plugins/HelpDesk/stores/IssueDetailStore/constant.ts","plugins/HelpDesk/stores/IssueDetailStore/types.ts","plugins/HelpDesk/stores/IssueDetailStore/reducers.ts","plugins/HelpDesk/services/activity.ts","plugins/HelpDesk/stores/IssueDetailStore/actions.ts","plugins/HelpDesk/stores/IssueDetailStore/IssueDetailProvider.tsx","plugins/HelpDesk/components/IssueHeader.tsx","plugins/HelpDesk/components/Activities.tsx","plugins/HelpDesk/components/ActionDetail.tsx","plugins/HelpDesk/components/CreateRequest.tsx","plugins/HelpDesk/components/Attach.tsx","plugins/HelpDesk/components/Actions.tsx","plugins/HelpDesk/components/Attachments.tsx","plugins/HelpDesk/pages/IssueDetail.tsx","plugins/HelpDesk/routes/PublicRoutes.tsx","plugins/HelpDesk/Main.tsx"],"names":["format","formatDate","date","formatString","result","symbol","value","getDate","getMonth","getFullYear","getHours","getMinutes","map","f","replace","formatMoney","frac","numberFormat","Intl","NumberFormat","maximumFractionDigits","minimumFractionDigits","apiUrl","service","getAll","axios","get","moduleId","create","model","post","edit","id","put","remove","delete","filter","getById","issueId","follow","unFollow","useStyles","makeStyles","theme","root","width","breakpoints","down","padding","spacing","formControl","margin","marginBottom","title","fontWeight","description","fontStyle","menuItem","paddingTop","paddingBottom","initialState","content","priority","severity","CreateIssuePage","classes","history","useHistory","dispatch","useDispatch","React","useState","state","setState","modules","setModules","handleSubmit","a","loadingActions","show","issueService","alertActions","alertMessage","ACTION_SUCCESS","push","ACTION_FAILURE","hide","refresh","moduleService","FETCH_FAILURE","useEffect","className","Grid","container","item","xs","Typography","variant","FormControl","fullWidth","size","Select","labelId","name","onChange","event","target","MenuItem","style","display","flexDirection","m","index","category","TextField","icon","color","text","onClick","needContent","secondary","red","success","green","info","teal","warning","amber","danger","primary","blue","dark","inherit","StatusTag","Tooltip","fontSize","badge","marginRight","paddingLeft","paddingRight","borderRadius","backgroundColor","grey","Tag","clsx","counter","Counter","Hidden","smDown","toolbar","height","flexGrow","row","rowRes","actions","alignItems","palette","search","input","IssuesTableToolbar","keyWord","filterModules","onChangeKeyWord","onChangeFilterModules","showForm","setShowForm","selectAll","setSelectAll","handleCloseForm","x","checked","length","handleChangeFilter","Toolbar","noWrap","component","tooltip","Input","startAdornment","InputAdornment","position","endAdornment","IconButton","edge","aria-label","total","new","process","resolved","closed","Dialog","open","onClose","aria-labelledby","DialogTitle","Divider","DialogContent","FormGroup","FormControlLabel","control","Checkbox","newFilterModules","label","DialogActions","paper","table","tableLayout","footer","justifyContent","pagination","marginTop","textMute","opacity","lineHeight","cell","cellContainer","status","verticalAlign","IssuesTable","data","onFollow","onUnFollow","issueConstants","page","setPage","setKeyWord","setCounter","rows","setRows","setFilterModules","handleChangePage","unique","Array","from","Set","moduleName","toUpperCase","includes","toString","_new","Paper","TableContainer","Table","TableBody","slice","TableRow","hover","TableCell","textDecoration","to","xsDown","createdBy","createdByFullName","createdTime","followed","hideTitleOnMobile","TableFooter","Pagination","count","Math","ceil","_event","number","shape","smUp","Issues","useParams","setData","setTitle","handleFollow","handleUnFollow","GET_ISSUE_DETAIL_SUCCESS","GET_ISSUE_DETAIL_FAILURE","issue","Date","supportedBy","supportedByFullName","attachments","activities","validActions","defaultStore","getIssueDetail","createActivity","actionCode","createRequest","attach","file","reducer","action","type","payload","getValidActions","actionName","formData","FormData","append","headers","fail","store","Promise","all","activityService","then","res","catch","finally","IssueDetailContext","createContext","IssueDetailProvider","children","useReducer","Provider","cardContent","cardHeader","IssueHeader","useContext","Card","CardHeader","CardContent","dangerouslySetInnerHTML","__html","stepper","Activities","noPadding","Stepper","orientation","activity","Step","active","StepLabel","activityCode","undefined","StepContent","ActionDetail","setContent","setOpen","onSubmit","CreateRequest","approvers","setApprovers","handleAddApprover","userService","getApproverByKeyWord","approver","userNumber","fullName","md","Chip","onDelete","Attach","files","isArray","filesLimit","acceptedFiles","Actions","Attachments","direction","attachment","filename","fileName","url","IssueDetail","alignContent","IssueDetailConsumer","PublicRoutes","path","useRouteMatch","CreateIssue","PrivateRoutes","lazy","Main","isAdmin","setIsAdmin","layoutActions","setActivePluginId","plugin","checkAdmin","adminList","adminMenuList","setMenuList","menuList"],"mappings":"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","file":"static/js/14.e9dea43d.chunk.js","sourcesContent":["function formatDate(date: Date, formatString = 'dd/MM/yyyy'): string {\n  let result = formatString;\n\n  const format = [\n    {\n      symbol: 'dd',\n      value: date.getDate() < 10 ? `0${date.getDate()}` : date.getDate(),\n    },\n    {\n      symbol: 'MM',\n      value: date.getMonth() + 1 < 10 ? `0${date.getMonth() + 1}` : `${date.getMonth() + 1}`,\n    },\n    {\n      symbol: 'yyyy',\n      value: date.getFullYear(),\n    },\n    {\n      symbol: 'hh',\n      value: date.getHours() < 10 ? `0${date.getHours()}` : date.getHours(),\n    },\n    {\n      symbol: 'mm',\n      value: date.getMinutes() < 10 ? `0${date.getMinutes()}` : date.getMinutes(),\n    },\n  ];\n\n  format.map((f) => {\n    result = result.replace(f.symbol, f.value as string);\n    return f.symbol;\n  });\n\n  return result;\n}\n\nfunction formatMoney(value: number, frac = 0): string {\n  const numberFormat = new Intl.NumberFormat('vi-VN', { maximumFractionDigits: frac, minimumFractionDigits: frac });\n  return numberFormat.format(value);\n}\n\nconst format = {\n  formatDate,\n  formatMoney,\n};\n\nexport default format;\n","import axios from 'axios';\n\nconst apiUrl = '/api/help-desk/modules';\n\nexport type ModuleModel = AddModuleModel & {\n  id: number;\n}\n\nexport type AddModuleModel = {\n  category: string;\n  name: string;\n  description: string;\n}\n\nfunction getAll(): Promise<ModuleModel[]> {\n  return axios.get(apiUrl);\n}\n\nfunction get(moduleId: number): Promise<ModuleModel> {\n  return axios.get(`${apiUrl}/${moduleId}`);\n}\n\nfunction create(model: AddModuleModel): Promise<number> {\n  return axios.post(apiUrl, model);\n}\n\nfunction edit(id: number, model: ModuleModel): Promise<unknown> {\n  return axios.put(`${apiUrl}/${id}`, model);\n}\n\nfunction remove(id: number): Promise<unknown> {\n  return axios.delete(`${apiUrl}/${id}`);\n}\n\nconst service = {\n  getAll,\n  get,\n  create,\n  edit,\n  remove,\n};\n\nexport default service;\n","import axios from 'axios';\n\nconst apiUrl = '/api/help-desk/issues';\n\nexport type IssueModel = AddIssueModel & {\n  id: number;\n  moduleName: string;\n  category: string;\n  createdBy: string;\n  createdByFullName: string;\n  createdTime: Date;\n  supportedBy: string;\n  supportedByFullName: string;\n  status: number;\n  followed: boolean;\n  attachments: AttachmentModel[];\n}\n\nexport type AddIssueModel = {\n  title: string;\n  content: string;\n  severity: number;\n  priority: number;\n  moduleId: number;\n}\n\nexport type AttachmentModel = {\n  fileName: string;\n  createdBy: string;\n  createdByFullName: string;\n  createdTime: Date;\n}\n\nfunction getAll(filter: string): Promise<IssueModel[]> {\n  return axios.get(`${apiUrl}/filter/${filter}`);\n}\n\nfunction getById(issueId: number): Promise<IssueModel> {\n  return axios.get(`${apiUrl}/${issueId}`);\n}\n\nfunction create(model: AddIssueModel): Promise<number> {\n  return axios.post(apiUrl, model);\n}\n\nfunction follow(issueId: number): Promise<unknown> {\n  return axios.post(`${apiUrl}/${issueId}/followers/follow`);\n}\n\nfunction unFollow(issueId: number): Promise<unknown> {\n  return axios.delete(`${apiUrl}/${issueId}/followers/unFollow`);\n}\n\nconst service = {\n  getAll,\n  getById,\n  create,\n  follow,\n  unFollow,\n};\n\nexport default service;\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n\tSelect,\n\tFormControl,\n\tGrid,\n\tMenuItem,\n\tTextField,\n\tTypography,\n} from '@material-ui/core';\nimport {\n\tEditor,\n\tIconButton,\n} from '@nvdunginest/emis-mui';\n\nimport {\n\talertActions,\n\tloadingActions,\n\talertMessage,\n\tAppDispatch,\n} from '../../../core';\n\nimport issueService, { AddIssueModel } from '../services/issue';\nimport moduleService, { ModuleModel } from '../services/module';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%',\n\t\t[theme.breakpoints.down('sm')]: {\n\t\t\tpadding: theme.spacing(1),\n\t\t},\n\t},\n\tformControl: {\n\t\tmargin: 0,\n\t\tmarginBottom: theme.spacing(1.5),\n\t},\n\ttitle: {\n\t\tfontWeight: 'bold',\n\t},\n\tdescription: {\n\t\tfontStyle: 'italic',\n\t},\n\tmenuItem: {\n\t\tpaddingTop: theme.spacing(0.5),\n\t\tpaddingBottom: theme.spacing(0.5),\n\t},\n}));\n\nconst initialState: AddIssueModel = {\n\tmoduleId: 0,\n\ttitle: '',\n\tcontent: '',\n\tpriority: 1,\n\tseverity: 1,\n}\n\nexport default function CreateIssuePage(): JSX.Element {\n\tconst classes = useStyles();\n\tconst history = useHistory();\n\tconst dispatch: AppDispatch = useDispatch();\n\n\tconst [state, setState] = React.useState<AddIssueModel>(initialState);\n\tconst [modules, setModules] = React.useState<ModuleModel[]>([]);\n\n\tconst handleSubmit = async () => {\n\t\tdispatch(loadingActions.show());\n\t\ttry {\n\t\t\tconst issueId = await issueService.create(state);\n\t\t\tdispatch(alertActions.show(alertMessage.ACTION_SUCCESS, 'success'));\n\t\t\thistory.push(`/help-desk/issues/${issueId}`);\n\t\t}\n\t\tcatch {\n\t\t\tdispatch(alertActions.show(alertMessage.ACTION_FAILURE, 'error'));\n\t\t}\n\t\tfinally {\n\t\t\tdispatch(loadingActions.hide());\n\t\t}\n\t}\n\n\tconst refresh = async () => {\n\t\tdispatch(loadingActions.show());\n\t\ttry {\n\t\t\tsetModules(await moduleService.getAll());\n\t\t}\n\t\tcatch {\n\t\t\tdispatch(alertActions.show(alertMessage.FETCH_FAILURE, 'error'));\n\t\t}\n\t\tfinally {\n\t\t\tdispatch(loadingActions.hide());\n\t\t}\n\t}\n\n\tReact.useEffect(() => {\n\t\trefresh();\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Grid container>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<Typography variant=\"subtitle1\">Chọn module*</Typography>\n\t\t\t\t\t<FormControl fullWidth size=\"small\" variant=\"outlined\" className={classes.formControl}>\n\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\tlabelId=\"moduleId-label\"\n\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\tid=\"moduleId\"\n\t\t\t\t\t\t\tname=\"moduleId\"\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tvalue={state.moduleId}\n\t\t\t\t\t\t\tonChange={(event) => { setState({ ...state, moduleId: event.target.value as number }) }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\tvalue={0}\n\t\t\t\t\t\t\t\tclassName={classes.menuItem}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div style={{ display: 'flex', flexDirection: 'column' }}>\n\t\t\t\t\t\t\t\t\t<Typography variant=\"body2\" className={classes.title}>\n\t\t\t\t\t\t\t\t\t\t{`[Nhóm] - Chọn module`}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography variant=\"caption\" className={classes.description}>\n\t\t\t\t\t\t\t\t\t\tChọn module cần hỗ trợ.\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t{modules.map((m, index) => (\n\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\tvalue={m.id}\n\t\t\t\t\t\t\t\t\tclassName={classes.menuItem}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', flexDirection: 'column' }}>\n\t\t\t\t\t\t\t\t\t\t<Typography variant=\"body2\" className={classes.title}>\n\t\t\t\t\t\t\t\t\t\t\t{`[${m.category}] - ${m.name}`}\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t<Typography variant=\"caption\" className={classes.description}>\n\t\t\t\t\t\t\t\t\t\t\t{m.description}\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Select>\n\t\t\t\t\t</FormControl>\n\n\t\t\t\t\t<Typography variant=\"subtitle1\">Tiêu đề*</Typography>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\tclassName={classes.formControl}\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\tvalue={state.title}\n\t\t\t\t\t\tonChange={(event) => { setState({ ...state, title: event.target.value }); }}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Typography variant=\"subtitle1\">Mức độ lỗi*</Typography>\n\t\t\t\t\t<FormControl fullWidth variant=\"outlined\" className={classes.formControl}>\n\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\tlabelId=\"severity-label\"\n\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\tid=\"severity\"\n\t\t\t\t\t\t\tname=\"severity\"\n\t\t\t\t\t\t\tvalue={state.severity}\n\t\t\t\t\t\t\tonChange={(event) => { setState({ ...state, severity: event.target.value as number }) }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<MenuItem value={1}>Nhẹ</MenuItem>\n\t\t\t\t\t\t\t<MenuItem value={2}>Bình thường</MenuItem>\n\t\t\t\t\t\t\t<MenuItem value={3}>Nghiêm trọng</MenuItem>\n\t\t\t\t\t\t\t<MenuItem value={4}>Rất nghiêm trọng</MenuItem>\n\t\t\t\t\t\t</Select>\n\t\t\t\t\t</FormControl>\n\n\t\t\t\t\t<Typography variant=\"subtitle1\">Độ ưu tiên*</Typography>\n\t\t\t\t\t<FormControl fullWidth variant=\"outlined\" className={classes.formControl}>\n\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\tlabelId=\"priority-label\"\n\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\tid=\"priority\"\n\t\t\t\t\t\t\tname=\"priority\"\n\t\t\t\t\t\t\tvalue={state.priority}\n\t\t\t\t\t\t\tonChange={(event) => { setState({ ...state, priority: event.target.value as number }) }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<MenuItem value={1}>Thấp</MenuItem>\n\t\t\t\t\t\t\t<MenuItem value={2}>Bình thường</MenuItem>\n\t\t\t\t\t\t\t<MenuItem value={3}>Cao</MenuItem>\n\t\t\t\t\t\t\t<MenuItem value={4}>Cần gấp</MenuItem>\n\t\t\t\t\t\t</Select>\n\t\t\t\t\t</FormControl>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} >\n\t\t\t\t\t<Typography variant=\"subtitle1\">Mô tả chi tiết*</Typography>\n\t\t\t\t\t<FormControl fullWidth variant=\"outlined\" className={classes.formControl}>\n\t\t\t\t\t\t<Editor\n\t\t\t\t\t\t\tvalue={state.content}\n\t\t\t\t\t\t\tonChange={(content) => { setState({ ...state, content: content }); }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FormControl>\n\t\t\t\t</Grid>\n\t\t\t\t<FormControl variant=\"outlined\" className={classes.formControl}>\n\t\t\t\t\t<IconButton\n\t\t\t\t\t\ticon=\"plus\"\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tcolor=\"success\"\n\t\t\t\t\t\ttext=\"Tạo mới\"\n\t\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\t/>\n\t\t\t\t</FormControl>\n\t\t\t</Grid>\n\t\t</div >\n\t)\n}","import { IconName } from '@fortawesome/fontawesome-svg-core';\nimport { PaletteType } from '@nvdunginest/emis-mui';\n\nexport type TagType = {\n\ttext: string;\n\tvariant: PaletteType;\n}\n\nexport type StatusType = {\n\ttext: string;\n\ticon: IconName;\n\tcolor: PaletteType;\n}\n\nexport type ActionType = {\n\tname: string;\n\tapiUrl: string;\n\ttext: string;\n\tneedContent: boolean;\n\tcolor: PaletteType;\n\ticon: IconName;\n}\n\nconst severity: TagType[] = [\n\t{\n\t\ttext: 'Không đặt',\n\t\tvariant: 'secondary',\n\t},\n\t{\n\t\ttext: 'Nhẹ',\n\t\tvariant: 'success',\n\t},\n\t{\n\t\ttext: 'Bình thường',\n\t\tvariant: 'info',\n\t},\n\t{\n\t\ttext: 'Nghiêm trọng',\n\t\tvariant: 'warning',\n\t},\n\t{\n\t\ttext: 'Rất nghiêm trọng',\n\t\tvariant: 'danger',\n\t},\n];\n\nconst priority: TagType[] = [\n\t{\n\t\ttext: 'Không đặt',\n\t\tvariant: 'secondary',\n\t},\n\t{\n\t\ttext: 'Thấp',\n\t\tvariant: 'success',\n\t},\n\t{\n\t\ttext: 'Bình thường',\n\t\tvariant: 'info',\n\t},\n\t{\n\t\ttext: 'Cao',\n\t\tvariant: 'warning',\n\t},\n\t{\n\t\ttext: 'Cần gấp',\n\t\tvariant: 'danger',\n\t},\n];\n\nconst actions: ActionType[] = [\n\t{\n\t\tname: 'Tạo mới',\n\t\tapiUrl: 'create',\n\t\ttext: 'đã tạo issue',\n\t\tneedContent: false,\n\t\tcolor: 'danger',\n\t\ticon: 'exclamation-circle',\n\t},\n\t{\n\t\tname: 'Tiếp nhận',\n\t\tapiUrl: 'assign',\n\t\ttext: 'đã tiếp nhận',\n\t\tneedContent: false,\n\t\tcolor: 'info',\n\t\ticon: 'sync-alt',\n\t},\n\t{\n\t\tname: 'Đã xử lý',\n\t\tapiUrl: 'resolve',\n\t\ttext: 'đã xử lý',\n\t\tneedContent: false,\n\t\tcolor: 'primary',\n\t\ticon: 'info-circle',\n\t},\n\t{\n\t\tname: 'Đóng issue',\n\t\tapiUrl: 'close',\n\t\ttext: 'đã đóng issue',\n\t\tneedContent: false,\n\t\tcolor: 'success',\n\t\ticon: 'check-circle',\n\t},\n\t{\n\t\tname: 'Báo lỗi',\n\t\tapiUrl: 'reject',\n\t\ttext: 'đã báo lỗi',\n\t\tneedContent: true,\n\t\tcolor: 'warning',\n\t\ticon: 'exclamation-triangle',\n\t},\n\t{\n\t\tname: 'Trả lại',\n\t\tapiUrl: 'giveBack',\n\t\ttext: 'đã trả lại',\n\t\tneedContent: true,\n\t\tcolor: 'warning',\n\t\ticon: 'undo-alt',\n\t},\n\t{\n\t\tname: 'Comment',\n\t\tapiUrl: 'comment',\n\t\ttext: 'đã comment',\n\t\tneedContent: true,\n\t\tcolor: 'secondary',\n\t\ticon: 'comments',\n\t},\n\t{\n\t\tname: 'Hủy issue',\n\t\tapiUrl: 'cancel',\n\t\ttext: 'đã hủy',\n\t\tneedContent: false,\n\t\tcolor: 'danger',\n\t\ticon: 'times-circle',\n\t},\n\t{\n\t\tname: 'Gửi phê duyệt',\n\t\tapiUrl: 'createRequest',\n\t\ttext: 'đã gửi phê duyệt',\n\t\tneedContent: true,\n\t\tcolor: 'primary',\n\t\ticon: 'paper-plane',\n\t},\n\t{\n\t\tname: 'Phê duyệt',\n\t\tapiUrl: 'approve',\n\t\ttext: 'đã phê duyệt',\n\t\tneedContent: false,\n\t\tcolor: 'success',\n\t\ticon: 'signature',\n\t},\n\t{\n\t\tname: 'Từ chối',\n\t\tapiUrl: 'deny',\n\t\ttext: 'đã từ chối phê duyệt',\n\t\tneedContent: true,\n\t\tcolor: 'danger',\n\t\ticon: 'times',\n\t},\n\t{\n\t\tname: 'Đính kèm',\n\t\tapiUrl: 'attach',\n\t\ttext: 'đã đính kèm tập tin',\n\t\tneedContent: false,\n\t\tcolor: 'dark',\n\t\ticon: 'paperclip',\n\t},\n];\n\nconst status: StatusType[] = [\n\t{\n\t\ttext: 'Issue mới',\n\t\ticon: 'exclamation-circle',\n\t\tcolor: 'warning',\n\t},\n\t{\n\t\ttext: 'Issue mới',\n\t\ticon: 'exclamation-circle',\n\t\tcolor: 'warning',\n\t},\n\t{\n\t\ttext: 'Đang xử lý',\n\t\ticon: 'sync-alt',\n\t\tcolor: 'info',\n\t},\n\t{\n\t\ttext: 'Đã xử lý',\n\t\ticon: 'question-circle',\n\t\tcolor: 'primary',\n\t},\n\t{\n\t\ttext: 'Đã đóng',\n\t\ticon: 'check-circle',\n\t\tcolor: 'success',\n\t},\n\t{\n\t\ttext: 'Đã hủy',\n\t\ticon: 'times-circle',\n\t\tcolor: 'danger',\n\t},\n\t{\n\t\ttext: 'Chờ phê duyệt',\n\t\ticon: 'hourglass-half',\n\t\tcolor: 'warning',\n\t},\n]\n\nexport default {\n\tseverity,\n\tpriority,\n\tstatus,\n\tactions,\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { red, teal, blue, green, amber } from '@material-ui/core/colors';\nimport { IconName } from '@fortawesome/fontawesome-svg-core';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n\tTooltip,\n} from '@material-ui/core';\nimport { PaletteType } from '@nvdunginest/emis-mui';\n\nconst useStyles = makeStyles(() => ({\n\tsecondary: {\n\t\tcolor: red[500],\n\t},\n\tsuccess: {\n\t\tcolor: green[500],\n\t},\n\tinfo: {\n\t\tcolor: teal[500],\n\t},\n\twarning: {\n\t\tcolor: amber[500],\n\t},\n\tdanger: {\n\t\tcolor: red[500],\n\t},\n\tprimary: {\n\t\tcolor: blue[500],\n\t},\n\tdark: {\n\t\tcolor: blue[500],\n\t},\n\tinherit: {\n\t\tcolor: 'inherit',\n\t},\n}));\n\ntype StatusTagProps = {\n\ttext: string;\n\ticon: IconName;\n\tcolor: PaletteType;\n}\n\nexport default function StatusTag({\n\ttext,\n\ticon,\n\tcolor,\n}: StatusTagProps): JSX.Element {\n\tconst classes = useStyles();\n\treturn (\n\t\t<Tooltip title={text}>\n\t\t\t<div>\n\t\t\t\t<FontAwesomeIcon icon={icon} className={classes[color]} style={{ fontSize: '1.25rem' }} />\n\t\t\t</div>\n\t\t</Tooltip>\n\t)\n}","import React from 'react';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n\tgreen,\n\tgrey,\n\tred,\n\tteal,\n\tamber,\n\tblue,\n} from '@material-ui/core/colors';\nimport { PaletteType } from '@nvdunginest/emis-mui';\n\nconst useStyles = makeStyles((theme) => ({\n\tbadge: {\n\t\tmarginRight: theme.spacing(0.5),\n\t\tpadding: theme.spacing(0.2),\n\t\tpaddingLeft: theme.spacing(0.5),\n\t\tpaddingRight: theme.spacing(0.5),\n\t\tborderRadius: '4px',\n\t\tfontWeight: 'bold',\n\t\tfontSize: theme.spacing(1.4),\n\t},\n\tsecondary: {\n\t\tcolor: 'white',\n\t\tbackgroundColor: grey[500],\n\t},\n\tsuccess: {\n\t\tcolor: 'white',\n\t\tbackgroundColor: green[500],\n\t},\n\tinfo: {\n\t\tcolor: 'white',\n\t\tbackgroundColor: teal[500],\n\t},\n\twarning: {\n\t\tcolor: 'black',\n\t\tbackgroundColor: amber[500],\n\t},\n\tdanger: {\n\t\tcolor: 'white',\n\t\tbackgroundColor: red[500],\n\t},\n\tprimary: {\n\t\tcolor: 'white',\n\t\tbackgroundColor: blue[500],\n\t},\n\tdark: {\n\t\tcolor: 'white',\n\t\tbackgroundColor: 'black',\n\t},\n\tinherit: {\n\t\tcolor: 'inherit',\n\t\tbackgroundColor: 'inherit',\n\t},\n}));\n\ntype TagProps = {\n\ttext: string;\n\tvariant: PaletteType;\n}\n\nexport default function Tag({ text, variant }: TagProps): JSX.Element {\n\tconst classes = useStyles();\n\treturn (\n\t\t<span className={clsx(classes.badge, classes[variant])}>{text}</span>\n\t)\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n  Hidden,\n} from '@material-ui/core';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { IconName } from '@fortawesome/fontawesome-svg-core';\n\nconst useStyles = makeStyles((theme) => ({\n  counter: {\n    display: 'flex',\n    marginRight: theme.spacing(3),\n    [theme.breakpoints.down('sm')]: {\n      marginRight: theme.spacing(2),\n    },\n    alignItems: 'center',\n    fontSize: theme.spacing(2),\n    opacity: '0.8',\n  },\n}));\n\ntype CounterProps = {\n  icon: IconName;\n  value: number;\n  text: string;\n  color: string;\n}\n\nexport default function Counter({\n  icon,\n  value,\n  text,\n  color,\n}: CounterProps): JSX.Element {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.counter}>\n      <FontAwesomeIcon icon={icon} style={{ fontSize: 'inherit', color: color }} />\n      {` ${value} `}\n      <Hidden smDown>\n        {text}\n      </Hidden>\n    </div>\n  );\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { green, blue, teal, amber } from '@material-ui/core/colors';\nimport {\n\tToolbar,\n\tTypography,\n\tInput,\n\tInputAdornment,\n\tIconButton,\n\tDialog,\n\tDialogActions,\n\tDialogContent,\n\tDialogTitle,\n\tDivider,\n\tFormControlLabel,\n\tCheckbox,\n\tFormGroup,\n} from '@material-ui/core';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nimport { IconButton as IconButtonCUI } from '@nvdunginest/emis-mui';\nimport { CounterType, FilterType } from './types';\nimport Counter from './Counter';\n\nconst useStyles = makeStyles((theme) => ({\n\ttoolbar: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\t\theight: 'auto',\n\t},\n\ttitle: {\n\t\tflexGrow: 1,\n\t},\n\trow: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'row',\n\t\twidth: '100%',\n\t\tpaddingTop: theme.spacing(1),\n\t},\n\trowRes: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'row',\n\t\twidth: '100%',\n\t\tpaddingTop: theme.spacing(1),\n\t\t[theme.breakpoints.down('xs')]: {\n\t\t\tflexDirection: 'column',\n\t\t},\n\t},\n\tactions: {\n\t\tdisplay: 'flex',\n\t\talignItems: 'flex-end',\n\t\tcolor: theme.palette.text.primary,\n\t\tpaddingRight: theme.spacing(2),\n\t},\n\tsearch: {\n\t\tcolor: theme.palette.text.secondary,\n\t\t[theme.breakpoints.down('xs')]: {\n\t\t\tflexGrow: 1,\n\t\t},\n\t},\n\tinput: {\n\t\twidth: 200,\n\t\t[theme.breakpoints.down('xs')]: {\n\t\t\twidth: '100%',\n\t\t},\n\t},\n}));\n\ntype IssuesTableToolbarProps = {\n\ttitle: string;\n\tkeyWord: string;\n\tcounter: CounterType;\n\tfilterModules: FilterType[];\n\tonChangeKeyWord: (value: string) => void;\n\tonChangeFilterModules: (filterModules: FilterType[]) => void;\n}\n\nexport default function IssuesTableToolbar({\n\ttitle,\n\tkeyWord,\n\tcounter,\n\tfilterModules,\n\tonChangeKeyWord,\n\tonChangeFilterModules,\n}: IssuesTableToolbarProps): JSX.Element {\n\tconst classes = useStyles();\n\tconst [showForm, setShowForm] = React.useState(false);\n\tconst [selectAll, setSelectAll] = React.useState(false);\n\n\tconst handleCloseForm = () => {\n\t\tsetShowForm(false);\n\t};\n\n\tconst handleOpenForm = () => {\n\t\tsetShowForm(true);\n\t};\n\n\tconst handleChangeKeyWord = (value: string) => {\n\t\tonChangeKeyWord(value);\n\t};\n\n\tconst handleClear = () => {\n\t\tonChangeKeyWord('');\n\t};\n\n\tReact.useEffect(() => {\n\t\tconst unchecked = filterModules.filter(x => !x.checked);\n\t\tif (unchecked.length === 0) {\n\t\t\tsetSelectAll(true);\n\t\t}\n\t\telse {\n\t\t\tsetSelectAll(false);\n\t\t}\n\t}, [filterModules])\n\n\tconst handleChangeFilter = (event: React.ChangeEvent<HTMLInputElement>) => {\n\t\tonChangeFilterModules(filterModules.map(f => {\n\t\t\tif (f.name === event.target.name) {\n\t\t\t\tf.checked = event.target.checked;\n\t\t\t}\n\t\t\treturn f;\n\t\t}));\n\t};\n\n\tconst handleChangeSelectAll = (event: React.ChangeEvent<HTMLInputElement>) => {\n\t\tconst newFilterModules = filterModules.map(f => {\n\t\t\tf.checked = event.target.checked;\n\t\t\treturn f;\n\t\t});\n\t\tonChangeFilterModules(newFilterModules);\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<Toolbar className={classes.toolbar}>\n\t\t\t\t<div className={classes.rowRes}>\n\t\t\t\t\t<Typography noWrap className={classes.title} variant=\"h6\" id=\"tableTitle\" component=\"div\">\n\t\t\t\t\t\t{title}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<div className={classes.actions}>\n\t\t\t\t\t\t<div className={classes.actions}>\n\t\t\t\t\t\t\t<IconButtonCUI\n\t\t\t\t\t\t\t\ttooltip=\"Lọc theo module\"\n\t\t\t\t\t\t\t\ttext=\"Module\"\n\t\t\t\t\t\t\t\ticon=\"filter\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tonClick={handleOpenForm}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={classes.search}>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tclassName={classes.input}\n\t\t\t\t\t\t\t\tid=\"input-with-icon-adornment\"\n\t\t\t\t\t\t\t\tonChange={(event) => { handleChangeKeyWord(event.target.value); }}\n\t\t\t\t\t\t\t\tvalue={keyWord}\n\t\t\t\t\t\t\t\tstartAdornment={(\n\t\t\t\t\t\t\t\t\t<InputAdornment position=\"start\">\n\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon icon=\"search\" style={{ fontSize: '0.9rem', fontWeight: 200 }} />\n\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\tendAdornment={\n\t\t\t\t\t\t\t\t\tkeyWord !== ''\n\t\t\t\t\t\t\t\t\t&& (\n\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\tedge=\"end\"\n\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"toggle password visibility\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleClear}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon icon=\"times\" style={{ fontSize: '0.9rem', fontWeight: 200 }} />\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className={classes.row}>\n\t\t\t\t\t<Counter icon=\"bug\" color=\"black\" value={counter.total} text=\"issue\" />\n\t\t\t\t\t<Counter icon=\"exclamation-circle\" color={amber[500]} value={counter.new} text=\"issue mới\" />\n\t\t\t\t\t<Counter icon=\"sync-alt\" color={teal[500]} value={counter.process} text=\"issue đang xử lý\" />\n\t\t\t\t\t<Counter icon=\"question-circle\" color={blue[500]} value={counter.resolved} text=\"issue đã xử lý\" />\n\t\t\t\t\t<Counter icon=\"check-circle\" color={green[500]} value={counter.closed} text=\"issue đã đóng\" />\n\t\t\t\t</div>\n\t\t\t</Toolbar>\n\t\t\t<Dialog fullWidth open={showForm} onClose={handleCloseForm} aria-labelledby=\"form-dialog-title\">\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">Lọc theo module</DialogTitle>\n\t\t\t\t<Divider />\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\tcontrol={<Checkbox checked={selectAll} onChange={handleChangeSelectAll} />}\n\t\t\t\t\t\t\tlabel=\"Chọn tất cả\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{filterModules.map((f, index) =>\n\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\tcontrol={<Checkbox checked={f.checked} onChange={handleChangeFilter} name={f.name} />}\n\t\t\t\t\t\t\t\tlabel={f.name}\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t/>)\n\t\t\t\t\t\t}\n\t\t\t\t\t</FormGroup>\n\t\t\t\t</DialogContent>\n\t\t\t\t<Divider />\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<IconButtonCUI\n\t\t\t\t\t\ttooltip=\"Đóng lại\"\n\t\t\t\t\t\ttext=\"Đóng lại\"\n\t\t\t\t\t\ticon=\"times\"\n\t\t\t\t\t\tcolor=\"danger\"\n\t\t\t\t\t\tonClick={handleCloseForm}\n\t\t\t\t\t/>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</>\n\t);\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n\tLink\n} from 'react-router-dom';\nimport {\n\tDivider,\n\tTableFooter,\n\tTable,\n\tTableBody,\n\tTableCell,\n\tTableContainer,\n\tTableRow,\n\tPaper,\n\tTypography,\n\tHidden,\n} from '@material-ui/core';\nimport {\n\tPagination,\n} from '@material-ui/lab';\n\nimport issueConstants from '../constants/issue';\nimport { IssueModel } from '../services/issue';\nimport { IconButton } from '@nvdunginest/emis-mui';\nimport StatusTag from './StatusTag';\nimport Tag from './Tag';\nimport { CounterType, FilterType } from './types';\nimport IssuesTableToolbar from './IssuesTableToolbar';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%',\n\t},\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2),\n\t},\n\ttable: {\n\t\twidth: '100%',\n\t\ttableLayout: 'fixed',\n\t},\n\tfooter: {\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'flex-end',\n\t\tflexDirection: 'row',\n\t\tpaddingBottom: theme.spacing(2),\n\t\tpaddingRight: theme.spacing(2),\n\t},\n\tpagination: {\n\t\t'& > *': {\n\t\t\tmarginTop: theme.spacing(2),\n\t\t},\n\t},\n\ttextMute: {\n\t\topacity: '0.8',\n\t\tfontSize: theme.spacing(1.5),\n\t},\n\ttitle: {\n\t\tflexGrow: 1,\n\t\t[theme.breakpoints.down('sm')]: {\n\t\t\tfontSize: '1rem',\n\t\t\tlineHeight: 1.5,\n\t\t},\n\t},\n\tcell: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'row',\n\t},\n\tcellContainer: {\n\t\twidth: '100%',\n\t\t[theme.breakpoints.down('sm')]: {\n\t\t\tpadding: theme.spacing(0.75),\n\t\t\t\"&:last-child\": {\n\t\t\t\tpadding: theme.spacing(0.75),\n\t\t\t}\n\t\t},\n\t},\n\tstatus: {\n\t\tmarginRight: theme.spacing(1),\n\t\talignItems: 'center',\n\t\tverticalAlign: 'middle',\n\t\tdisplay: 'flex',\n\t},\n}));\n\ntype IssuesTableProps = {\n\tdata: IssueModel[];\n\ttitle: string;\n\tonFollow: (id: number) => void;\n\tonUnFollow: (id: number) => void;\n}\n\nexport default function IssuesTable({\n\tdata,\n\ttitle,\n\tonFollow,\n\tonUnFollow,\n}: IssuesTableProps): JSX.Element {\n\tconst classes = useStyles();\n\tconst url = '/help-desk/issues';\n\n\tconst { severity, priority, status } = issueConstants;\n\n\tconst rowsPerPage = 10;\n\tconst [page, setPage] = React.useState(0);\n\tconst [keyWord, setKeyWord] = React.useState('');\n\n\tconst [counter, setCounter] = React.useState<CounterType>({\n\t\ttotal: 0,\n\t\tclosed: 0,\n\t\tnew: 0,\n\t\tprocess: 0,\n\t\tresolved: 0,\n\t});\n\n\tconst [rows, setRows] = React.useState<IssueModel[]>([]);\n\tconst [filterModules, setFilterModules] = React.useState<FilterType[]>([]);\n\n\tconst handleChangePage = (page: number) => {\n\t\tsetPage(page - 1);\n\t};\n\n\tReact.useEffect(() => {\n\t\tconst unique = [...Array.from(new Set(data.map(x => x.moduleName)))];\n\t\tsetFilterModules(unique.map(x => {\n\t\t\treturn ({\n\t\t\t\tname: x,\n\t\t\t\tchecked: true,\n\t\t\t})\n\t\t}));\n\t}, [data]);\n\n\tReact.useEffect(() => {\n\t\tconst result: IssueModel[] = [];\n\t\tdata.map((item) => {\n\t\t\tconst str = item.title;\n\t\t\tif (str.toUpperCase().includes(keyWord.toUpperCase()) || item.id.toString() === keyWord) {\n\t\t\t\tif (filterModules.filter(x => x.checked).map(x => x.name).includes(item.moduleName)) {\n\t\t\t\t\tresult.push(item);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\t\tsetRows(result);\n\t}, [data, filterModules, keyWord]);\n\n\tReact.useEffect(() => {\n\t\tlet total = 0;\n\t\tlet _new = 0;\n\t\tlet process = 0;\n\t\tlet resolved = 0;\n\t\tlet closed = 0;\n\t\trows.map(row => {\n\t\t\ttotal++;\n\t\t\tswitch (row.status) {\n\t\t\t\tcase 1:\n\t\t\t\t\t_new++;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 2:\n\t\t\t\t\tprocess++;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 3:\n\t\t\t\t\tresolved++;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 4:\n\t\t\t\t\tclosed++;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn row;\n\t\t});\n\n\t\tsetCounter({\n\t\t\ttotal: total,\n\t\t\tnew: _new,\n\t\t\tprocess: process,\n\t\t\tresolved: resolved,\n\t\t\tclosed: closed,\n\t\t});\n\n\t\tsetPage(0);\n\t}, [rows])\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<IssuesTableToolbar\n\t\t\t\t\ttitle={title}\n\t\t\t\t\tkeyWord={keyWord}\n\t\t\t\t\tonChangeKeyWord={(value: string) => { setKeyWord(value); }}\n\t\t\t\t\tcounter={counter}\n\t\t\t\t\tfilterModules={filterModules}\n\t\t\t\t\tonChangeFilterModules={(filterModules: FilterType[]) => { setFilterModules(filterModules); }}\n\t\t\t\t/>\n\t\t\t\t<Divider />\n\t\t\t\t<TableContainer>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\taria-label=\"enhanced table\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n\t\t\t\t\t\t\t\t.map(item =>\n\t\t\t\t\t\t\t\t\t<TableRow\n\t\t\t\t\t\t\t\t\t\thover\n\t\t\t\t\t\t\t\t\t\tkey={item.id}\n\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<TableCell className={classes.cellContainer}>\n\t\t\t\t\t\t\t\t\t\t\t<div className={classes.cell}>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className={classes.status}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<StatusTag\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext={status[item.status].text}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon={status[item.status].icon}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor={status[item.status].color}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ flexGrow: 1, width: '70%' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', width: '100%' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography display=\"block\" noWrap component=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Link style={{ textDecoration: 'none' }} to={`${url}/${item.id}`}>{`[#${item.id}] ${item.title}`}</Link>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography className={classes.textMute}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Hidden xsDown>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Tag text={severity[item.severity].text} variant={severity[item.severity].variant} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Hidden>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Hidden xsDown>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Tag text={priority[item.priority].text} variant={priority[item.priority].variant} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Hidden>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Tag text={item.moduleName} variant=\"primary\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Hidden smDown>{`Tạo bởi ${item.createdBy}-${item.createdByFullName} lúc ${item.createdTime}`}</Hidden>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{item.followed ?\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip=\"Hủy theo dõi issue này\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext=\"Hủy theo dõi\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon=\"eye-slash\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"danger\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thideTitleOnMobile\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => { onUnFollow(item.id); }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/> :\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip=\"Theo dõi issue này\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext=\"Theo dõi\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon=\"eye\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thideTitleOnMobile\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => { onFollow(item.id); }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t\t<TableFooter className={classes.footer} component=\"div\">\n\t\t\t\t\t<div className={classes.pagination}>\n\t\t\t\t\t\t<Hidden xsDown>\n\t\t\t\t\t\t\t<Pagination\n\t\t\t\t\t\t\t\tcount={Math.ceil(rows.length / rowsPerPage)}\n\t\t\t\t\t\t\t\tpage={page + 1}\n\t\t\t\t\t\t\t\tonChange={(_event, number) => { handleChangePage(number); }}\n\t\t\t\t\t\t\t\tshape=\"rounded\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Hidden>\n\t\t\t\t\t\t<Hidden smUp>\n\t\t\t\t\t\t\t<Pagination\n\t\t\t\t\t\t\t\tcount={Math.ceil(rows.length / rowsPerPage)}\n\t\t\t\t\t\t\t\tpage={page + 1}\n\t\t\t\t\t\t\t\tonChange={(_event, number) => { handleChangePage(number); }}\n\t\t\t\t\t\t\t\tshape=\"rounded\"\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Hidden>\n\t\t\t\t\t</div>\n\t\t\t\t</TableFooter>\n\t\t\t</Paper>\n\t\t</div>\n\t);\n}","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport {\n\tuseParams\n} from 'react-router-dom';\n\nimport {\n\talertActions,\n\tloadingActions,\n\talertMessage,\n\tAppDispatch,\n} from '../../../core';\n\nimport issueService, { IssueModel } from '../services/issue';\nimport IssuesTable from '../components/IssuesTable';\n\nexport default function Issues(): JSX.Element {\n\tconst { filter }: never = useParams();\n\tconst dispatch: AppDispatch = useDispatch();\n\n\tconst [data, setData] = React.useState<IssueModel[]>([]);\n\tconst [title, setTitle] = React.useState('');\n\n\tconst refresh = async () => {\n\t\tdispatch(loadingActions.show());\n\t\ttry {\n\t\t\tsetData(await issueService.getAll(filter));\n\t\t}\n\t\tcatch {\n\t\t\tdispatch(alertActions.show(alertMessage.FETCH_FAILURE, 'error'));\n\t\t}\n\t\tfinally {\n\t\t\tdispatch(loadingActions.hide());\n\t\t}\n\t};\n\n\tconst handleFollow = async (issueId: number) => {\n\t\tdispatch(loadingActions.show());\n\t\ttry {\n\t\t\tawait issueService.follow(issueId);\n\t\t\tdispatch(alertActions.show(alertMessage.ACTION_SUCCESS, 'success'));\n\t\t\trefresh();\n\t\t}\n\t\tcatch {\n\t\t\tdispatch(loadingActions.hide());\n\t\t\tdispatch(alertActions.show(alertMessage.ACTION_FAILURE, 'error'));\n\t\t}\n\t}\n\n\tconst handleUnFollow = async (issueId: number) => {\n\t\tdispatch(loadingActions.show());\n\t\ttry {\n\t\t\tawait issueService.unFollow(issueId);\n\t\t\tdispatch(alertActions.show(alertMessage.ACTION_SUCCESS, 'success'));\n\t\t\trefresh();\n\t\t}\n\t\tcatch {\n\t\t\tdispatch(loadingActions.hide());\n\t\t\tdispatch(alertActions.show(alertMessage.ACTION_FAILURE, 'error'));\n\t\t}\n\t}\n\n\tReact.useEffect(() => {\n\t\trefresh();\n\n\t\tswitch (filter) {\n\t\t\tcase \"my-supported\":\n\t\t\t\tsetTitle('Issue bạn đã nhận hỗ trợ');\n\t\t\t\tbreak;\n\t\t\tcase \"all\":\n\t\t\t\tsetTitle('Tất cả issue');\n\t\t\t\tbreak;\n\t\t\tcase \"waiting\":\n\t\t\t\tsetTitle('Issue đang chờ phản hồi');\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tsetTitle('Issue của bạn');\n\t\t\t\tbreak;\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [filter]);\n\n\treturn (\n\t\t<IssuesTable\n\t\t\ttitle={title}\n\t\t\tdata={data}\n\t\t\tonFollow={handleFollow}\n\t\t\tonUnFollow={handleUnFollow}\n\t\t/>\n\t);\n}","import { ActivityModel } from '../../services/activity';\nimport { IssueModel } from '../../services/issue';\n\nexport const GET_ISSUE_DETAIL_SUCCESS = 'GET_ISSUE_DETAIL_SUCCESS';\nexport const GET_ISSUE_DETAIL_FAILURE = 'GET_ISSUE_DETAIL_FAILURE';\n\ninterface GetIssueSuccessAction {\n  type: typeof GET_ISSUE_DETAIL_SUCCESS,\n  payload: {\n    issue: IssueModel,\n    activities: ActivityModel[],\n    validActions: number[],\n  }\n}\n\ninterface GetIssueFailureAction {\n  type: typeof GET_ISSUE_DETAIL_FAILURE,\n}\n\nexport type Actions =\n  GetIssueSuccessAction |\n  GetIssueFailureAction;\n","import { ActivityModel, AddActivityModel, RequestModel } from '../../services/activity';\nimport { IssueModel } from '../../services/issue';\n\nexport type IssueDetailState = {\n  issue: IssueModel,\n  activities: ActivityModel[],\n  validActions: number[],\n};\n\nexport const initialState: IssueDetailState = {\n  issue: {\n    category: '',\n    content: '',\n    createdBy: '',\n    createdTime: new Date(),\n    followed: false,\n    id: 0,\n    moduleName: '',\n    createdByFullName: '',\n    moduleId: 0,\n    supportedBy: '',\n    supportedByFullName: '',\n    priority: 0,\n    severity: 0,\n    status: 0,\n    title: '',\n    attachments: []\n  },\n  activities: [],\n  validActions: [],\n};\n\nexport type IssueDetailStore = {\n  state: IssueDetailState;\n  getIssueDetail: (issueId: number) => void;\n  createActivity: (issueId: number, actionCode: number, model: AddActivityModel) => void;\n  createRequest: (issueId: number, model: RequestModel) => void;\n  attach: (issueId: number, file: File) => void;\n}\n\nexport const defaultStore: IssueDetailStore = {\n  state: initialState,\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getIssueDetail: (issueId: number) => { return; },\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  createActivity: (issueId: number, actionCode: number, model: AddActivityModel) => { return; },\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  createRequest: (issueId: number, model: RequestModel) => { return; },\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  attach: (issueId: number, file: File) => { return; },\n};\n","import {\n  Actions,\n  GET_ISSUE_DETAIL_FAILURE,\n  GET_ISSUE_DETAIL_SUCCESS,\n} from './constant';\nimport { IssueDetailState, initialState } from './types';\n\nexport default function reducer(state = initialState, action: Actions): IssueDetailState {\n  switch (action.type) {\n    case GET_ISSUE_DETAIL_SUCCESS:\n      return {\n        issue: action.payload.issue,\n        activities: action.payload.activities,\n        validActions: action.payload.validActions,\n      };\n\n    case GET_ISSUE_DETAIL_FAILURE:\n      return initialState;\n\n    default:\n      return state;\n  }\n}\n","import axios from 'axios';\n\nconst apiUrl = (issueId: number): string => `/api/help-desk/issues/${issueId}/activities`;\n\nexport type ActivityModel = {\n  issueId: number;\n  activityCode: number;\n  content: string;\n  createdTime: Date;\n  createdBy: string;\n  createdByFullName: string;\n}\n\nexport type AddActivityModel = {\n  content: string;\n}\n\nexport type RequestModel = {\n  activity: ActivityModel,\n  approvers: string[],\n}\n\nfunction getAll(issueId: number): Promise<ActivityModel[]> {\n  return axios.get(apiUrl(issueId));\n}\n\nfunction getValidActions(issueId: number): Promise<number[]> {\n  return axios.get(`${apiUrl(issueId)}/validAction`);\n}\n\nfunction create(issueId: number, actionName: string, model: AddActivityModel): Promise<unknown> {\n  return axios.post(`${apiUrl(issueId)}/${actionName}`, model);\n}\n\nfunction createRequest(issueId: number, model: RequestModel): Promise<unknown> {\n  return axios.post(`${apiUrl(issueId)}/createRequest`, model);\n}\n\nfunction attach(issueId: number, file: File): Promise<unknown> {\n  const formData = new FormData();\n  formData.append('files', file, file.name);\n\n  return axios.post(`${apiUrl(issueId)}/attach`,\n    formData,\n    {\n      headers: {\n        'Content-Type': 'multipart/form-data',\n      },\n    });\n}\n\nconst service = {\n  getAll,\n  getValidActions,\n  create,\n  createRequest,\n  attach,\n};\n\nexport default service;","import { Dispatch } from 'react';\n\nimport {\n  alertActions,\n  loadingActions,\n  alertMessage,\n  store,\n} from '../../../../core';\n\nimport activityService, {\n  ActivityModel,\n  AddActivityModel,\n  RequestModel,\n} from '../../services/activity';\nimport issueService,\n{\n  IssueModel,\n} from '../../services/issue';\nimport {\n  Actions,\n  GET_ISSUE_DETAIL_FAILURE,\n  GET_ISSUE_DETAIL_SUCCESS,\n} from './constant';\nimport issueConstants from '../../constants/issue';\n\nconst getIssueDetail = async (\n  issueId: number,\n  dispatch: Dispatch<Actions>\n): Promise<void> => {\n  function success(\n    issue: IssueModel,\n    activities: ActivityModel[],\n    validActions: number[],\n  ): Actions {\n    return {\n      type: GET_ISSUE_DETAIL_SUCCESS,\n      payload: {\n        issue: issue,\n        activities: activities,\n        validActions: validActions,\n      }\n    };\n  }\n  function fail(): Actions { return { type: GET_ISSUE_DETAIL_FAILURE }; }\n\n  store.dispatch(loadingActions.show());\n  Promise.all([issueService.getById(issueId), activityService.getAll(issueId), activityService.getValidActions(issueId)])\n    .then((res) => {\n      dispatch(success(res[0], res[1], res[2]));\n    })\n    .catch(() => {\n      dispatch(fail());\n      store.dispatch(alertActions.show(alertMessage.FETCH_FAILURE, 'error'));\n    })\n    .finally(() => {\n      store.dispatch(loadingActions.hide());\n    })\n};\n\nconst createActivity = async (\n  issueId: number,\n  actionCode: number,\n  model: AddActivityModel,\n  dispatch: Dispatch<Actions>\n): Promise<void> => {\n  const { actions } = issueConstants;\n\n  if (actions[actionCode].needContent && (model.content === '')) {\n    store.dispatch(alertActions.show('Nội dung không được để trống!', 'error'));\n  }\n  else {\n    store.dispatch(loadingActions.show());\n    try {\n      await activityService.create(issueId, actions[actionCode].apiUrl, model);\n      store.dispatch(alertActions.show(alertMessage.ACTION_SUCCESS, 'success'));\n      getIssueDetail(issueId, dispatch);\n    }\n    catch {\n      store.dispatch(alertActions.show(alertMessage.ACTION_FAILURE, 'error'));\n      store.dispatch(loadingActions.hide());\n    }\n  }\n};\n\nconst createRequest = async (\n  issueId: number,\n  model: RequestModel,\n  dispatch: Dispatch<Actions>\n): Promise<void> => {\n\n  store.dispatch(loadingActions.show());\n  try {\n    await activityService.createRequest(issueId, model);\n    store.dispatch(alertActions.show(alertMessage.ACTION_SUCCESS, 'success'));\n    getIssueDetail(issueId, dispatch);\n  }\n  catch {\n    store.dispatch(alertActions.show(alertMessage.ACTION_FAILURE, 'error'));\n    store.dispatch(loadingActions.hide());\n  }\n};\n\nconst attach = async (\n  issueId: number,\n  file: File,\n  dispatch: Dispatch<Actions>\n): Promise<void> => {\n\n  store.dispatch(loadingActions.show());\n  try {\n    await activityService.attach(issueId, file);\n    store.dispatch(alertActions.show(alertMessage.ACTION_SUCCESS, 'success'));\n    getIssueDetail(issueId, dispatch);\n  }\n  catch {\n    store.dispatch(alertActions.show(alertMessage.ACTION_FAILURE, 'error'));\n    store.dispatch(loadingActions.hide());\n  }\n};\n\nconst actions = {\n  getIssueDetail,\n  createActivity,\n  createRequest,\n  attach,\n};\n\nexport default actions;\n","import React, { createContext } from 'react';\nimport reducer from './reducers';\nimport { IssueDetailStore, initialState, defaultStore } from './types';\nimport { AddActivityModel, RequestModel } from '../../services/activity';\nimport action from './actions';\n\ntype IssueDetailProviderProps = {\n  children: JSX.Element | JSX.Element[];\n}\n\nexport const IssueDetailContext = createContext(defaultStore);\n\nexport default function IssueDetailProvider({ children }: IssueDetailProviderProps): JSX.Element {\n  const [state, dispatch] = React.useReducer(reducer, initialState);\n\n  const getIssueDetail = (issueId: number) => {\n    action.getIssueDetail(issueId, dispatch);\n  };\n\n  const createActivity = (issueId: number, actionCode: number, model: AddActivityModel) => {\n    action.createActivity(issueId, actionCode, model, dispatch)\n  }\n\n  const createRequest = (issueId: number, model: RequestModel) => {\n    action.createRequest(issueId, model, dispatch);\n  }\n\n  const attach = (issueId: number, file: File) => {\n    action.attach(issueId, file, dispatch);\n  }\n\n  const store: IssueDetailStore = {\n    state,\n    getIssueDetail,\n    createActivity,\n    createRequest,\n    attach,\n  };\n\n  return (\n    <IssueDetailContext.Provider value={store}>\n      {children}\n    </IssueDetailContext.Provider>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n\tTypography,\n\tCard,\n\tCardHeader,\n\tCardContent,\n\tDivider,\n\tHidden,\n} from '@material-ui/core';\n\nimport issueConstants from '../constants/issue';\nimport { IssueDetailContext } from '../stores/IssueDetailStore';\nimport Tag from '../components/Tag';\nimport StatusTag from '../components/StatusTag';\n\nconst useStyles = makeStyles((theme) => ({\n\tcardContent: {\n\t\tpadding: theme.spacing(2),\n\t\t[theme.breakpoints.down('xs')]: {\n\t\t\tfontSize: '12px',\n\t\t\tpadding: theme.spacing(1),\n\t\t},\n\t},\n\tcardHeader: {\n\t\tpadding: theme.spacing(1),\n\t\tpaddingLeft: theme.spacing(2),\n\t\t[theme.breakpoints.down('xs')]: {\n\t\t\tpaddingLeft: theme.spacing(1),\n\t\t},\n\t},\n\ttitle: {\n\t\tfontWeight: 'bold',\n\t\talignItems: 'center',\n\t\t[theme.breakpoints.down('xs')]: {\n\t\t\tfontSize: '14px',\n\t\t},\n\t},\n\tcell: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'row',\n\t\twidth: '100%',\n\t},\n\tstatus: {\n\t\tmarginRight: theme.spacing(1),\n\t\talignItems: 'center',\n\t\tverticalAlign: 'middle',\n\t\tdisplay: 'flex',\n\t},\n}));\n\nexport default function IssueHeader(): JSX.Element {\n\tconst classes = useStyles();\n\tconst { status, severity, priority } = issueConstants;\n\tconst issue = React.useContext(IssueDetailContext).state.issue;\n\n\treturn (\n\t\t<Card>\n\t\t\t<CardHeader\n\t\t\t\ttitle={\n\t\t\t\t\t<div className={classes.cell}>\n\t\t\t\t\t\t<div className={classes.status}>\n\t\t\t\t\t\t\t<StatusTag\n\t\t\t\t\t\t\t\ttext={status[issue.status].text}\n\t\t\t\t\t\t\t\ticon={status[issue.status].icon}\n\t\t\t\t\t\t\t\tcolor={status[issue.status].color}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style={{ flexGrow: 1 }}>\n\t\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\t\t{`[#${issue.id}] ${issue.title}`}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Hidden xsDown>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<Tag text={severity[issue.severity].text} variant={severity[issue.severity].variant} />\n\t\t\t\t\t\t\t\t\t<Tag text={priority[issue.priority].text} variant={priority[issue.priority].variant} />\n\t\t\t\t\t\t\t\t\t<Tag text={issue.moduleName} variant=\"primary\" />\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Hidden>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t\tclassName={classes.cardHeader}\n\t\t\t/>\n\t\t\t<Divider />\n\t\t\t<CardContent className={classes.cardContent}>\n\t\t\t\t<div dangerouslySetInnerHTML={{ __html: issue.content }} ></div>\n\t\t\t</CardContent>\n\t\t</Card>\n\t)\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n\tStepper,\n\tStep,\n\tStepLabel,\n\tStepContent,\n} from '@material-ui/core';\n\nimport format from '../../../configs/format';\n\nimport { IssueDetailContext } from '../stores/IssueDetailStore';\nimport issueConstants from '../constants/issue';\nimport {\n\tFrame,\n} from '@nvdunginest/emis-mui';\n\nconst useStyles = makeStyles((theme) => ({\n\tstepper: {\n\t\tpadding: theme.spacing(1),\n\t\t[theme.breakpoints.down('xs')]: {\n\t\t\tfontSize: '12px',\n\t\t},\n\t},\n}));\n\nexport default function Activities(): JSX.Element {\n\tconst classes = useStyles();\n\tconst activities = React.useContext(IssueDetailContext).state.activities;\n\tconst { actions } = issueConstants;\n\n\treturn (\n\t\t<Frame title=\"Lịch sử\" noPadding>\n\t\t\t<Stepper orientation=\"vertical\" className={classes.stepper}>\n\t\t\t\t{activities.map((activity, index) =>\n\t\t\t\t\t<Step key={index} active={true}>\n\t\t\t\t\t\t<StepLabel>\n\t\t\t\t\t\t\t{`${activity.createdByFullName} ${actions[activity.activityCode].text} lúc ${format.formatDate(new Date(activity.createdTime), 'hh:mm dd/MM/yyyy')}`}\n\t\t\t\t\t\t</StepLabel>\n\t\t\t\t\t\t{activity.content !== '' &&\n\t\t\t\t\t\t\tactivity.content !== null &&\n\t\t\t\t\t\t\tactivity.content !== undefined &&\n\t\t\t\t\t\t\t<StepContent>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: activity.content }}>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</StepContent>\n\t\t\t\t\t\t}\n\t\t\t\t\t</Step>\n\t\t\t\t)}\n\t\t\t</Stepper>\n\t\t</Frame>\n\t)\n}","import React from 'react';\nimport {\n  Grid,\n} from '@material-ui/core';\n\nimport {\n  IconButton,\n  FormDialog,\n  Editor,\n} from '@nvdunginest/emis-mui';\n\nimport issueConstants from '../constants/issue';\nimport { IssueDetailContext } from '../stores/IssueDetailStore';\nimport { ActivityModel } from '../services/activity';\n\ntype Props = {\n  activityCode: number;\n}\n\nexport default function ActionDetail({\n  activityCode,\n}: Props): JSX.Element {\n  const { state, createActivity } = React.useContext(IssueDetailContext);\n  const { validActions } = state;\n  const { actions } = issueConstants;\n\n  const [content, setContent] = React.useState('');\n  const [open, setOpen] = React.useState(false);\n\n  const handleOpen = () => {\n    setContent('');\n    setOpen(true);\n  }\n\n  const handleClose = () => {\n    setOpen(false);\n  }\n\n  const handleSubmit = async () => {\n    setOpen(false);\n    const model: ActivityModel = {\n      activityCode: activityCode,\n      createdBy: '',\n      createdByFullName: '',\n      createdTime: new Date(),\n      issueId: state.issue.id,\n      content: content,\n    }\n    createActivity(state.issue.id, activityCode, model);\n  }\n\n  const checkPermission = (): boolean => validActions.includes(activityCode);\n\n  return (\n    checkPermission() ?\n      <Grid item>\n        <FormDialog\n          title={actions[activityCode].name}\n          onClose={handleClose}\n          open={open}\n          onSubmit={handleSubmit}\n        >\n          <Grid container spacing={1} alignItems=\"flex-end\">\n            <Grid item xs={12}>\n              <Editor\n                value={content}\n                onChange={(content) => { setContent(content); }}\n              />\n            </Grid>\n          </Grid>\n        </FormDialog>\n        <IconButton\n          variant=\"contained\"\n          color={actions[activityCode].color}\n          tooltip={actions[activityCode].name}\n          icon={actions[activityCode].icon}\n          text={actions[activityCode].name}\n          onClick={handleOpen}\n        />\n      </Grid> :\n      <></>\n  )\n}","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport {\n  Chip,\n  Grid,\n  Typography,\n} from '@material-ui/core';\nimport {\n  IconButton,\n  FormDialog,\n  TextField,\n  Editor,\n} from '@nvdunginest/emis-mui';\n\nimport {\n  alertActions,\n  loadingActions,\n  AppDispatch,\n} from '../../../core';\n\nimport issueConstants from '../constants/issue';\nimport { IssueDetailContext } from '../stores/IssueDetailStore';\nimport userService from '../services/user';\n\ntype StepState = {\n  userNumber: string;\n  fullName: string;\n}\n\nconst ACTIVITY_CODE = 8;\n\nexport default function CreateRequest(): JSX.Element {\n  const dispatch: AppDispatch = useDispatch();\n  const { state, createRequest } = React.useContext(IssueDetailContext);\n  const { validActions } = state;\n  const { actions } = issueConstants;\n\n  const [content, setContent] = React.useState('');\n  const [keyWord, setKeyWord] = React.useState('');\n  const [open, setOpen] = React.useState(false);\n  const [approvers, setApprovers] = React.useState<StepState[]>([]);\n\n  const handleOpen = () => {\n    setContent('');\n    setApprovers([]);\n    setOpen(true);\n  }\n\n  const handleClose = () => {\n    setOpen(false);\n  }\n\n  const handleAddApprover = async () => {\n    dispatch(loadingActions.show());\n    try {\n      const approver = await userService.getApproverByKeyWord(keyWord);\n      if (!approvers.map(x => x.userNumber).includes(approver.userNumber)) {\n        setApprovers([\n          ...approvers,\n          {\n            fullName: approver.fullName,\n            userNumber: approver.userNumber,\n          }\n        ]);\n      }\n    }\n    catch {\n      dispatch(alertActions.show('Không tìm thấy người này trong danh sách phê duyệt!', 'error'));\n    }\n    finally {\n      dispatch(loadingActions.hide());\n    }\n  }\n\n  const handleRemoveApprover = (userNumber: string) => {\n    setApprovers(approvers.filter(approver => approver.userNumber !== userNumber));\n  }\n\n  const handleSubmit = async () => {\n    if (approvers.length === 0) {\n      dispatch(alertActions.show('Phải có tối thiểu 01 người phê duyệt!', 'error'));\n    }\n    else {\n      setOpen(false);\n      createRequest(state.issue.id, {\n        activity: {\n          activityCode: ACTIVITY_CODE,\n          createdBy: '',\n          createdByFullName: '',\n          createdTime: new Date(),\n          issueId: state.issue.id,\n          content: content,\n        },\n        approvers: approvers.map(x => x.userNumber),\n      });\n    }\n  }\n\n  const checkPermission = (): boolean => validActions.includes(ACTIVITY_CODE);\n\n  return (\n    checkPermission() ?\n      <Grid item>\n        <FormDialog\n          title={actions[ACTIVITY_CODE].name}\n          onClose={handleClose}\n          open={open}\n          onSubmit={handleSubmit}\n        >\n          <Grid container spacing={1} alignItems=\"flex-end\">\n            <Grid item xs={12} md={6}>\n              <TextField\n                label=\"Mã số/Họ tên người phê duyệt\"\n                type=\"text\"\n                value={keyWord}\n                onChange={(event) => { setKeyWord(event.target.value); }}\n              />\n            </Grid>\n            <Grid item xs={12} md={6} container spacing={1}>\n              <Grid item>\n                <IconButton\n                  text=\"Phê duyệt\"\n                  color=\"success\"\n                  icon=\"signature\"\n                  variant=\"contained\"\n                  onClick={handleAddApprover}\n                />\n              </Grid>\n            </Grid>\n            <Grid item xs={12} container spacing={1} alignItems=\"stretch\">\n              <Grid item xs={12} md={6}>\n                <Typography variant=\"caption\">Người phê duyệt:</Typography>\n                <div>\n                  {approvers.map(approver => (\n                    <Chip\n                      style={{ margin: '4px' }}\n                      key={approver.userNumber}\n                      label={`${approver.userNumber}-${approver.fullName}`}\n                      onDelete={() => { handleRemoveApprover(approver.userNumber); }}\n                      color=\"primary\"\n                      variant=\"outlined\"\n                      size=\"small\"\n                    />\n                  ))}\n                </div>\n              </Grid>\n            </Grid>\n            <Grid item xs={12}>\n              <Editor\n                value={content}\n                onChange={(content) => { setContent(content); }}\n              />\n            </Grid>\n          </Grid>\n        </FormDialog>\n        <IconButton\n          variant=\"contained\"\n          color={actions[ACTIVITY_CODE].color}\n          tooltip={actions[ACTIVITY_CODE].name}\n          icon={actions[ACTIVITY_CODE].icon}\n          text={actions[ACTIVITY_CODE].name}\n          onClick={handleOpen}\n        />\n      </Grid> :\n      <></>\n  )\n}","import React from 'react';\nimport {\n  Grid,\n} from '@material-ui/core';\nimport {\n  UploadButton,\n} from '@nvdunginest/emis-mui';\n\nimport issueConstants from '../constants/issue';\nimport { IssueDetailContext } from '../stores/IssueDetailStore';\n\nconst ACTIVITY_CODE = 11;\n\nexport default function Attach(): JSX.Element {\n  const { state, attach } = React.useContext(IssueDetailContext);\n  const { validActions } = state;\n  const { actions } = issueConstants;\n\n  const handleSubmit = async (files: File[]) => {\n    if (Array.isArray(files)) {\n      attach(state.issue.id, files[0]);\n    }\n  }\n\n  const checkPermission = (): boolean => validActions.includes(ACTIVITY_CODE);\n\n  return (\n    checkPermission() ?\n      <Grid item>\n        <UploadButton\n          title=\"Chọn tập tin tải lên\"\n          variant=\"contained\"\n          color={actions[ACTIVITY_CODE].color}\n          text={actions[ACTIVITY_CODE].name}\n          tooltip={actions[ACTIVITY_CODE].name}\n          filesLimit={1}\n          acceptedFiles={[\n            '.doc',\n            '.docx',\n            '.xls',\n            '.xlsx',\n            '.pdf',\n            '.rar',\n            '.zip',\n          ]}\n          onSubmit={handleSubmit}\n        />\n      </Grid> :\n      <></>\n  )\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n\tGrid,\n} from '@material-ui/core';\nimport {\n\tFrame,\n} from '@nvdunginest/emis-mui';\n\nimport { IssueDetailContext } from '../stores/IssueDetailStore';\nimport ActionDetail from './ActionDetail';\nimport CreateRequest from './CreateRequest';\nimport Attach from './Attach';\n\nconst useStyles = makeStyles((theme) => ({\n\tactions: {\n\t\tpadding: theme.spacing(1),\n\t},\n}));\n\nexport default function Actions(): JSX.Element {\n\tconst classes = useStyles();\n\tconst validActions = React.useContext(IssueDetailContext).state.validActions;\n\n\treturn (\n\t\t<Frame title=\"Thao tác\" noPadding>\n\t\t\t<Grid container spacing={1} className={classes.actions}>\n\t\t\t\t{validActions.filter(x => x !== 8 && x !== 11).map(action =>\n\t\t\t\t\t<ActionDetail\n\t\t\t\t\t\tkey={action}\n\t\t\t\t\t\tactivityCode={action}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t<CreateRequest />\n\t\t\t\t<Attach />\n\t\t\t</Grid>\n\t\t</Frame>\n\t)\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n\tGrid,\n\tTypography,\n} from '@material-ui/core';\nimport {\n\tFrame,\n\tDownloadButton,\n} from '@nvdunginest/emis-mui';\n\nimport format from '../../../configs/format';\n\nimport { IssueDetailContext } from '../stores/IssueDetailStore';\n\nconst useStyles = makeStyles((theme) => ({\n\tactions: {\n\t\tpadding: theme.spacing(1),\n\t},\n}));\n\nexport default function Attachments(): JSX.Element {\n\tconst classes = useStyles();\n\tconst issue = React.useContext(IssueDetailContext).state.issue;\n\tconst attachments = React.useContext(IssueDetailContext).state.issue.attachments;\n\n\treturn (\n\t\t<Frame title=\"Tài liệu đính kèm\" noPadding>\n\t\t\t<Grid container spacing={1} className={classes.actions} direction=\"row\">\n\t\t\t\t{attachments.map(attachment => (\n\t\t\t\t\t<Grid item xs={12} md={4} key={attachment.fileName} container direction=\"column\">\n\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t<DownloadButton\n\t\t\t\t\t\t\t\tfilename={attachment.fileName}\n\t\t\t\t\t\t\t\tlabel={attachment.fileName}\n\t\t\t\t\t\t\t\turl={`/api/help-desk/issues/downloadAttachment/${issue.id}?fileName=${attachment.fileName}`}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t<Typography variant=\"caption\">\n\t\t\t\t\t\t\t\t{`${attachment.createdBy}-${attachment.createdByFullName} tạo lúc ${format.formatDate(new Date(attachment.createdTime), 'dd/MM/yyyy')}`}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t))}\n\t\t\t</Grid>\n\t\t</Frame>\n\t)\n}","import React from 'react';\nimport { useParams } from 'react-router-dom';\nimport {\n\tGrid,\n} from '@material-ui/core';\n\nimport IssueDetailProvider, { IssueDetailContext } from '../stores/IssueDetailStore';\n\nimport IssueHeader from '../components/IssueHeader';\nimport Activities from '../components/Activities';\nimport Actions from '../components/Actions';\nimport Attachments from '../components/Attachments';\n\nfunction IssueDetail(): JSX.Element {\n\tconst { issueId }: never = useParams();\n\tconst { getIssueDetail } = React.useContext(IssueDetailContext);\n\n\tReact.useEffect(() => {\n\t\tgetIssueDetail(issueId);\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [issueId])\n\n\treturn (\n\t\t<Grid container alignContent=\"stretch\" spacing={2}>\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<IssueHeader />\n\t\t\t</Grid>\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<Activities />\n\t\t\t</Grid>\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<Actions />\n\t\t\t</Grid>\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<Attachments />\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}\n\nexport default function IssueDetailConsumer(): JSX.Element {\n\treturn (\n\t\t<IssueDetailProvider>\n\t\t\t<IssueDetail />\n\t\t</IssueDetailProvider>\n\t)\n}","import React from 'react';\nimport {\n  Route,\n  Switch,\n  useRouteMatch,\n} from 'react-router-dom';\n\nimport CreateIssue from '../pages/CreateIssue';\nimport Issues from '../pages/Issues';\nimport IssueDetail from '../pages/IssueDetail';\n\nexport default function PublicRoutes(): JSX.Element {\n  const { path } = useRouteMatch();\n\n  return (\n    <Switch>\n      <Route path={`${path}/create-issue`} component={CreateIssue} />\n      <Route path={`${path}/list/:filter`} component={Issues} />\n      <Route path={`${path}/issues/:issueId`} component={IssueDetail} />\n    </Switch>\n  );\n}\n","import React from 'react';\nimport {\n  Switch,\n  Route,\n  useRouteMatch,\n} from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\n\nimport {\n  AppDispatch,\n  layoutActions,\n} from '../../core';\n\nimport {\n  plugin,\n  checkAdmin,\n\n  menuList,\n  adminMenuList,\n} from './configs';\n\nconst PrivateRoutes = React.lazy(() => import('./routes/PrivateRoutes'));\nimport PublicRoutes from './routes/PublicRoutes';\n\nexport default function Main(): JSX.Element {\n  const { path } = useRouteMatch();\n  const dispatch: AppDispatch = useDispatch();\n\n  const [isAdmin, setIsAdmin] = React.useState(false);\n\n  React.useEffect(() => {\n    dispatch(layoutActions.setActivePluginId(plugin.id));\n    checkAdmin()\n      .then((result) => {\n        setIsAdmin(result);\n      })\n      .catch(() => {\n        setIsAdmin(false);\n      });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  React.useEffect(() => {\n    const adminList = isAdmin ? [...adminMenuList] : [];\n    dispatch(layoutActions.setMenuList([\n      ...menuList,\n      ...adminList,\n    ]));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isAdmin]);\n\n  return (\n    <Switch>\n      {isAdmin && <Route path={`${path}/admin`} component={PrivateRoutes} />}\n      <Route path={`${path}`} component={PublicRoutes} />\n    </Switch>\n  );\n}\n"],"sourceRoot":""}