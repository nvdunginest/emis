(this.webpackJsonpemis=this.webpackJsonpemis||[]).push([[21],{687:function(t,e,c){"use strict";var n=c(9),a=c.n(n),i="/api/project-system/serviceMasters";var s={getAll:function(){return a.a.get(i)},getByFilter:function(t,e){return""!==t?a.a.get("".concat(i,"/search?filter=").concat(t,"&page=").concat(e)):a.a.get("".concat(i,"/search?page=").concat(e))},get:function(t){return a.a.get("".concat(i,"/").concat(t))}};e.a=s},890:function(t,e,c){"use strict";c.r(e),c.d(e,"default",(function(){return F}));var n=c(209),a=c(25),i=c(0),s=c.n(i),r=c(27),l=c(47),o=c(18),j=c(111),u=c(46),b=c(2);function O(){return Object(b.jsx)(u.e,{text:"H\u1ec6 TH\u1ed0NG QU\u1ea2N L\xdd D\u1ef0 \xc1N"})}var h=c(22),f=c.n(h),d=c(40),p=c(533),x=c(112),g=c(380),m=c(417),y=c(418),v=c(414),S=c(415),N=c(416),E=c(419),k=c(39),w=c(687),R=Object(p.a)({root:{width:"100%",height:"100%"},container:{maxHeight:"calc(100% - 120px)",overflowY:"scroll"},cell:{fontSize:"0.75rem"}});function A(){var t=R(),e=Object(l.b)(),c=s.a.useState([]),i=Object(a.a)(c,2),r=i[0],j=i[1],O=s.a.useState(""),h=Object(a.a)(O,2),p=h[0],A=h[1],L=s.a.useState(1),z=Object(a.a)(L,2),I=z[0],M=z[1],T=s.a.useState(!1),_=Object(a.a)(T,2),C=_[0],F=_[1],H=s.a.useState(!1),D=Object(a.a)(H,2),P=D[0],U=D[1],B=function(){var t=Object(d.a)(f.a.mark((function t(){var c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(C){t.next=15;break}return U(!0),t.prev=2,t.next=5,w.a.getByFilter(p,I);case 5:(c=t.sent).length>0?j([].concat(Object(n.a)(r),Object(n.a)(c))):F(!0),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),e(o.alertActions.show(o.alertMessage.ACTION_FAILURE,"error"));case 12:return t.prev=12,U(!1),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[2,9,12,15]])})));return function(){return t.apply(this,arguments)}}();return s.a.useEffect((function(){B()}),[I,p,C]),s.a.useEffect((function(){M(1),F(!1),j([])}),[p]),Object(b.jsxs)(x.a,{className:t.root,children:[Object(b.jsx)(g.a,{container:!0,children:Object(b.jsx)(g.a,{container:!0,item:!0,xs:12,style:{padding:"8px"},direction:"row",spacing:1,alignItems:"flex-end",children:Object(b.jsx)(g.a,{item:!0,xs:12,children:Object(b.jsx)(u.p,{name:"filter",label:"T\xecm ki\u1ebfm",type:"text",value:p,onChange:function(t){A(t.target.value)}})})})}),Object(b.jsx)(m.a,{className:t.container,children:Object(b.jsxs)(y.a,{stickyHeader:!0,"aria-label":"sticky table",size:"small",children:[Object(b.jsx)(v.a,{children:Object(b.jsxs)(S.a,{children:[Object(b.jsx)(N.a,{style:{padding:0,width:16}}),Object(b.jsx)(N.a,{className:t.cell,align:"left",children:"M\xe3 c\xf4ng t\xe1c"}),Object(b.jsx)(N.a,{className:t.cell,align:"left",children:"Di\u1ec5n gi\u1ea3i"}),Object(b.jsx)(N.a,{className:t.cell,align:"left",children:"\u0110\u01a1n v\u1ecb"})]})}),Object(b.jsxs)(E.a,{children:[r.map((function(e){return Object(b.jsxs)(S.a,{children:[Object(b.jsx)(N.a,{style:{padding:0,width:16}}),Object(b.jsx)(N.a,{className:t.cell,align:"left",children:e.code}),Object(b.jsx)(N.a,{className:t.cell,align:"left",children:e.description}),Object(b.jsx)(N.a,{className:t.cell,align:"left",children:e.unit})]},e.code)})),!C&&!P&&Object(b.jsxs)(S.a,{children:[Object(b.jsx)(N.a,{style:{padding:0,width:16,backgroundColor:k.a.green[300]}}),Object(b.jsx)(N.a,{className:t.cell,colSpan:3,align:"left",style:{cursor:"pointer",fontStyle:"italic"},onClick:function(){return M(I+1)},children:"+ T\u1ea3i th\xeam"})]}),P&&Object(b.jsxs)(S.a,{children:[Object(b.jsx)(N.a,{style:{padding:0,width:16,backgroundColor:k.a.green[300]}}),Object(b.jsx)(N.a,{className:t.cell,colSpan:3,align:"left",style:{cursor:"pointer",fontStyle:"italic"},children:"\u0110ang t\u1ea3i d\u1eef li\u1ec7u"})]})]})]})})]})}function L(){var t=Object(r.i)().path;return Object(b.jsxs)(r.c,{children:[Object(b.jsx)(r.a,{path:"".concat(t,"/dashboard"),component:O}),Object(b.jsx)(r.a,{path:"".concat(t,"/service-masters"),component:A})]})}var z=s.a.lazy((function(){return c.e(35).then(c.bind(null,880))})),I=s.a.lazy((function(){return c.e(6).then(c.bind(null,887))})),M=s.a.lazy((function(){return c.e(9).then(c.bind(null,876))})),T=s.a.lazy((function(){return c.e(11).then(c.bind(null,881))})),_=s.a.lazy((function(){return c.e(12).then(c.bind(null,892))})),C=s.a.lazy((function(){return c.e(22).then(c.bind(null,897))}));function F(){var t=Object(r.i)().path,e=Object(l.b)(),c=s.a.useState(!1),i=Object(a.a)(c,2),u=i[0],O=i[1],h=s.a.useState(!1),f=Object(a.a)(h,2),d=f[0],p=f[1],x=s.a.useState(!1),g=Object(a.a)(x,2),m=g[0],y=g[1],v=s.a.useState(!1),S=Object(a.a)(v,2),N=S[0],E=S[1],k=s.a.useState(!1),w=Object(a.a)(k,2),R=w[0],A=w[1],F=s.a.useState(!1),H=Object(a.a)(F,2),D=H[0],P=H[1];return s.a.useEffect((function(){e(o.layoutActions.setActivePluginId(j.j.id)),Object(j.b)().then((function(t){O(t)})).catch((function(){O(!1)})),Object(j.d)("PLANNER_ROLE").then((function(t){p(t)})).catch((function(){p(!1)})),Object(j.d)("DESIGNER_ROLE").then((function(t){y(t)})).catch((function(){y(!1)})),Object(j.d)("ESTIMATOR_ROLE").then((function(t){E(t)})).catch((function(){E(!1)})),Object(j.d)("SUPERVISOR_ROLE").then((function(t){A(t)})).catch((function(){A(!1)})),Object(j.d)("FORM_ROLE").then((function(t){P(t)})).catch((function(){P(!1)}))}),[]),s.a.useEffect((function(){var t=u?Object(n.a)(j.a):[],c=d?Object(n.a)(j.i):[],a=m?Object(n.a)(j.e):[],i=N?Object(n.a)(j.f):[],s=R?Object(n.a)(j.k):[],r=D?Object(n.a)(j.g):[];e(o.layoutActions.setMenuList([].concat(Object(n.a)(j.h),Object(n.a)(c),Object(n.a)(a),Object(n.a)(i),Object(n.a)(s),Object(n.a)(r),Object(n.a)(t))))}),[u,d,m,N,R,D]),Object(b.jsxs)(r.c,{children:[d&&Object(b.jsx)(r.a,{path:"".concat(t,"/planner"),component:I}),m&&Object(b.jsx)(r.a,{path:"".concat(t,"/designer"),component:M}),N&&Object(b.jsx)(r.a,{path:"".concat(t,"/estimator"),component:T}),R&&Object(b.jsx)(r.a,{path:"".concat(t,"/supervisor"),component:_}),D&&Object(b.jsx)(r.a,{path:"".concat(t,"/form"),component:C}),u&&Object(b.jsx)(r.a,{path:"".concat(t,"/admin"),component:z}),Object(b.jsx)(r.a,{path:"".concat(t),component:L})]})}}}]);