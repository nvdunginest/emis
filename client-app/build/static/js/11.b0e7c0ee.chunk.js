(this.webpackJsonpemis=this.webpackJsonpemis||[]).push([[11],{508:function(e,t,n){"use strict";var a=n(11),c=n.n(a),r="/api/library/posts";var i={getAll:function(){return c.a.get(r)},getById:function(e){return c.a.get("".concat(r,"/").concat(e))},create:function(e){return c.a.post(r,e)},edit:function(e,t){return c.a.put("".concat(r,"/").concat(e),t)}};t.a=i},517:function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return O}));var a=n(1),c=n(15),r=n(0),i=n.n(r),o=n(115),s="GET_CONTRACT_DETAIL_SUCCESS",u="GET_CONTRACT_DETAIL_FAILURE",l={posts:[]},d={state:l,refresh:function(){}};function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return{posts:t.payload.posts};case u:return l;default:return e}}var b=n(28),p=n.n(b),f=n(42),h=n(508),x={refresh:function(){var e=Object(f.a)(p.a.mark((function e(t,n){var a,c,r,i,l,d;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=function(){return{type:u}},i=function(e){return{type:s,payload:{posts:e}}},a=n.showBackdrop,c=n.showAlert,r=n.hideBackdrop,a(),e.prev=4,e.next=7,h.a.getAll();case 7:d=e.sent,t(i(d)),r(),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(4),t(l()),r(),c(o.b.FETCH_FAILURE,"error");case 17:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t,n){return e.apply(this,arguments)}}()},O=Object(r.createContext)(d);function v(e){var t=e.children,n=i.a.useReducer(j,l),s=Object(c.a)(n,2),u=s[0],d=s[1],b=Object(r.useContext)(o.a),p={state:u,refresh:function(){x.refresh(d,b)}};return Object(a.jsx)(O.Provider,{value:p,children:t})}},720:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return M}));var a=n(1),c=n(150),r=n(15),i=n(0),o=n.n(i),s=n(29),u=n(58),l=n(96),d=n(517),j=n(51),b=n(703),p=n(36),f=n(702),h=Object(j.a)({root:{width:"100%",color:"#8c8888"},group:{marginLeft:"8px"},label:{fontSize:"0.85rem",fontWeight:500,height:"25px"},iconContainer:{width:"15px",marginRight:0,color:"#8c8888"},content:{alignItems:"stretch"},selected:{color:"#171717"}});function x(e){var t=e.id,n=e.label,c=e.data,r=h(),i=Object(s.g)();return Object(a.jsx)(f.a,{classes:{root:r.root,group:r.group,label:r.label,iconContainer:r.iconContainer,content:r.content,selected:r.selected},nodeId:t,label:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(p.a,{icon:"file-alt"})," ".concat(n)]}),onLabelClick:function(e){e.preventDefault(),i.push("/library/posts/".concat(t))},children:c.filter((function(e){return e.parentId===t})).map((function(e){return Object(a.jsx)(x,{id:e.id,data:c,label:e.label},e.id)}))})}var O=Object(j.a)({root:{padding:"8px",flexGrow:1,width:"100%"}});function v(e){var t=e.data,n=O();return Object(a.jsx)(b.a,{className:n.root,defaultCollapseIcon:Object(a.jsx)(p.a,{icon:"caret-down"}),defaultExpandIcon:Object(a.jsx)(p.a,{icon:"caret-right"}),children:t.filter((function(e){return"0"===e.parentId})).map((function(e){return Object(a.jsx)(x,{id:e.id,data:t,label:e.label},e.id)}))})}var g=n(41),m=n(447),C=n(167),w=n(50),I=n(21);function y(){var e=o.a.useState(""),t=Object(r.a)(e,2),n=t[0],c=t[1],i=o.a.useContext(d.a).state.posts;return Object(a.jsxs)(m.a,{container:!0,spacing:1,children:[Object(a.jsx)(m.a,{item:!0,xs:12,children:Object(a.jsx)(I.r,{label:"T\xecm ki\u1ebfm",value:n,onChange:function(e){c(e.target.value)}})}),Object(a.jsx)(m.a,{item:!0,xs:12,children:Object(a.jsx)(C.a,{})}),i.filter((function(e){return e.title.includes(n)})).map((function(e){return Object(a.jsx)(m.a,{item:!0,xs:12,children:Object(a.jsx)(m.a,{container:!0,spacing:4,children:Object(a.jsx)(m.a,{item:!0,children:Object(a.jsx)(g.a,{to:"/library/posts/".concat(e.id),children:Object(a.jsx)(w.a,{variant:"h6",children:e.title})})})})},e.id)}))]})}var T=n(28),k=n.n(T),E=n(42),A=n(19),S=n(115),_=n(508),B={id:0,changedBy:"",changedTime:new Date,content:"",createdBy:"",createdTime:new Date,title:"",parentId:0};function L(){var e=Object(s.i)().postId,t=o.a.useContext(S.a),n=t.showAlert,c=t.showBackdrop,i=t.hideBackdrop,u=o.a.useContext(d.a),l=u.state,j=u.refresh,b=o.a.useState(B),p=Object(r.a)(b,2),f=p[0],h=p[1],x=function(){var t=Object(E.a)(k.a.mark((function t(){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(),t.prev=1,t.t0=h,t.next=5,_.a.getById(e);case 5:t.t1=t.sent,(0,t.t0)(t.t1),i(),t.next=15;break;case 10:t.prev=10,t.t2=t.catch(1),h(B),i(),n(S.b.FETCH_FAILURE,"error");case 15:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(){return t.apply(this,arguments)}}(),O=function(){var e=Object(E.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(),e.prev=1,e.next=4,_.a.edit(f.id,f);case 4:i(),n(S.b.ACTION_SUCCESS,"success"),j(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),i(),n(S.b.ACTION_FAILURE,"error");case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return o.a.useEffect((function(){x()}),[e]),Object(a.jsxs)(m.a,{container:!0,spacing:1,children:[Object(a.jsx)(m.a,{item:!0,xs:12,children:Object(a.jsx)(I.r,{label:"Ti\xeau \u0111\u1ec1",required:!0,value:f.title,onChange:function(e){h(Object(A.a)(Object(A.a)({},f),{},{title:e.target.value}))}})}),Object(a.jsx)(m.a,{item:!0,xs:12,children:Object(a.jsx)(I.e,{options:l.posts.filter((function(e){return e.id!==f.id})),optionLabel:"title",label:"Thu\u1ed9c v\u1ec1",required:!0,value:l.posts.find((function(e){return e.id===f.parentId})),onChange:function(e){null!==e&&h(Object(A.a)(Object(A.a)({},f),{},{parentId:e.id}))}})}),Object(a.jsx)(m.a,{item:!0,xs:12,children:Object(a.jsx)(I.p,{label:"N\u1ed9i dung",required:!0,value:f.content,onChange:function(e){h(Object(A.a)(Object(A.a)({},f),{},{content:e}))}})}),Object(a.jsx)(m.a,{item:!0,xs:12,children:Object(a.jsx)(I.o,{variant:"contained",text:"L\u01b0u l\u1ea1i",color:"success",icon:"plus",onClick:O})})]})}var F=n(138),R=n.n(F),D={id:0,changedBy:"",changedTime:new Date,content:"",createdBy:"",createdTime:new Date,title:"",parentId:0},N=new R.a.Renderer,U=[],H=0;function q(){var e=o.a.useContext(S.a),t=e.showAlert,n=e.showBackdrop,c=e.hideBackdrop,i=Object(s.i)().postId,u=o.a.useState(D),l=Object(r.a)(u,2),d=l[0],j=l[1],b=function(){var e=Object(E.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(),e.prev=1,e.t0=j,e.next=5,_.a.getById(i);case 5:e.t1=e.sent,(0,e.t0)(e.t1),c(),e.next=15;break;case 10:e.prev=10,e.t2=e.catch(1),j(D),c(),t(S.b.FETCH_FAILURE,"error");case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();return o.a.useEffect((function(){b()}),[i]),Object(a.jsxs)(m.a,{container:!0,spacing:1,children:[Object(a.jsxs)(m.a,{item:!0,xs:12,children:[Object(a.jsx)(w.a,{variant:"h4",children:d.title}),Object(a.jsx)(C.a,{})]}),Object(a.jsx)(m.a,{item:!0,xs:12,children:Object(a.jsx)("div",{dangerouslySetInnerHTML:{__html:R()(d.content)}})})]})}function z(){var e=o.a.useState(!1),t=Object(r.a)(e,2),n=t[0],c=t[1],i=function(){var e=Object(E.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,Object(l.b)();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o.a.useEffect((function(){i()}),[]),n?Object(a.jsx)(L,{}):Object(a.jsx)(q,{})}function G(){var e=Object(s.j)().path;return Object(a.jsxs)(s.d,{children:[Object(a.jsx)(s.b,{path:"".concat(e,"/dashboard"),component:y}),Object(a.jsx)(s.b,{path:"".concat(e,"/posts/:postId"),component:z})]})}N.heading=function(e,t,n){var a,c="".concat(this.options.headerPrefix).concat((a=n,a.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\u0111/g,"d").replace(/\u0110/g,"D")).replace(/[^\w]+/g,"-"),"_").concat(H);return H++,U.push({anchor:c,level:t,text:e}),"<h"+t+' id="'+c+'">'+e+"</h"+t+">\n"},R.a.setOptions({renderer:N});var P=o.a.lazy((function(){return n.e(12).then(n.bind(null,731))}));function J(){var e=Object(s.j)().path,t=o.a.useContext(u.a),n=t.changeSideMenuList,i=t.changeActivePluginId,j=o.a.useState(!1),b=Object(r.a)(j,2),p=b[0],f=b[1],h=o.a.useContext(d.a),x=h.state,O=h.refresh;return o.a.useEffect((function(){i(l.e.id),Object(l.b)().then((function(e){f(e)})).catch((function(){f(!1)})),O()}),[]),o.a.useEffect((function(){var e=p?Object(c.a)(l.a):[];n([].concat(Object(c.a)(l.d),[Object(a.jsx)(v,{data:x.posts.map((function(e){return{id:e.id.toFixed(0),label:e.title,parentId:e.parentId.toFixed(0)}}))},"2")],Object(c.a)(e)))}),[p,x]),Object(a.jsxs)(s.d,{children:[p&&Object(a.jsx)(s.b,{path:"".concat(e,"/admin"),component:P}),Object(a.jsx)(s.b,{path:"".concat(e),component:G})]})}function M(){return Object(a.jsx)(d.b,{children:Object(a.jsx)(J,{})})}}}]);