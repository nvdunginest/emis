{"version":3,"sources":["configs/format.ts","plugins/Ebi/services/reportViewer.ts","plugins/Ebi/constants/report.ts","plugins/Ebi/pages/Dashboard.tsx","plugins/Ebi/pages/Efm01.tsx","plugins/Ebi/services/efm.ts","plugins/Ebi/services/efm03.ts","plugins/Ebi/common/helpers.ts","plugins/Ebi/common/efm02Helpers.ts","plugins/Ebi/constants/colors.ts","plugins/Ebi/components/common.tsx","plugins/Ebi/components/efm02/DetailChart.tsx","plugins/Ebi/components/efm02/OverviewChart.tsx","plugins/Ebi/pages/Efm02.tsx","plugins/Ebi/pages/Efm03.tsx","plugins/Ebi/pages/Efm04.tsx","plugins/Ebi/common/efm05Helpers.ts","plugins/Ebi/components/SCurveChart.tsx","plugins/Ebi/components/PieChart.tsx","plugins/Ebi/components/GapBar2Chart.tsx","plugins/Ebi/pages/Efm05.tsx","plugins/Ebi/common/efm06Helpers.ts","plugins/Ebi/components/efm06/Efm06BarChart.tsx","plugins/Ebi/components/efm06/Efm06PieChart.tsx","plugins/Ebi/components/efm06/Efm06SCurveChart.tsx","plugins/Ebi/pages/Efm06.tsx","plugins/Ebi/pages/Efm07.tsx","plugins/Ebi/common/efm08Helpers.ts","plugins/Ebi/components/efm08/Efm08AreaChart.tsx","plugins/Ebi/components/efm08/Efm08MixedChart.tsx","plugins/Ebi/pages/Efm08.tsx","plugins/Ebi/pages/Efm09.tsx","plugins/Ebi/pages/Enterprise.tsx","plugins/Ebi/services/project.ts","plugins/Ebi/pages/Pfm03.tsx","plugins/Ebi/pages/Pfm02Hub.tsx","plugins/Ebi/pages/Pfm03Hub.tsx","plugins/Ebi/pages/Pfm04Hub.tsx","plugins/Ebi/routes/PublicRoutes.tsx","plugins/Ebi/Main.tsx"],"names":["format","formatDate","date","formatString","result","symbol","value","getDate","getMonth","getFullYear","getHours","getMinutes","map","f","replace","formatMoney","frac","numberFormat","Intl","NumberFormat","maximumFractionDigits","minimumFractionDigits","apiUrl","service","get","reportCode","axios","getPermission","create","projectCode","userNumber","post","remove","delete","reportList","name","link","text","role","icon","Dashboard","Efm01","getEfm02Report","getEfm05Report","getEfm06Report","getEfm08Report","getPeriodsByFiscalYear","fiscalYear","getCurrentPeriod","now","Date","month","getPeriodLabel","period","toFixed","getFiscalYear","getVersionType","version","getReportType","dataType","versionPrefix","parseInt","dataTypeSuffix","getValueByType","reportData","reportType","filter","x","dispersion","reduce","acc","val","dataProvider","getDetailChartData","isIncome","paymentDiscount","financialSupport","latePayment","shortTermFunding","longTermFunding","other","getOverviewChartData","efm03ReportData","periods","filterReportData","outcome","a","v","income","baseline","data","accumulation","rebaseline","forecast","total","baselineRatio","rebaselineRatio","forecastRatio","colors","chartColorPalettes","renderSplitLine","ReferenceLine","values","strokeWidth","stroke","strokeDasharray","Label","position","DetailChart","title","theme","useTheme","matches","useMediaQuery","breakpoints","down","paymentDiscountColor","financialSupportColor","latePaymentColor","shortTermFundingColor","longTermFundingColor","otherColor","barSize","tickFormatter","style","width","Typography","align","variant","height","padding","ResponsiveContainer","ComposedChart","barCategoryGap","barGap","margin","top","right","bottom","left","CartesianGrid","XAxis","dataKey","type","scale","YAxis","mirror","yAxisId","orientation","Tooltip","formatter","Legend","Bar","isAnimationActive","stackId","fill","OverviewChart","outcomeColor","incomeColor","totalColor","baselineColor","rebaselineColor","forecastColor","Line","dot","r","activeDot","useStyles","makeStyles","content","display","flexDirection","alignItems","spacing","menu","flexGrow","textTransform","textDecoration","Efm02","classes","dispatch","useDispatch","React","useState","report","setReport","projects","efm03Report","setEfm03Report","refresh","loadingActions","show","Promise","all","efmService","efm03Service","alertActions","alertMessage","FETCH_FAILURE","hide","useEffect","className","Grid","container","item","filename","url","label","length","xs","md","Efm03","Efm04","helpers","getSCurveChartData","baselineData","rebaselineData","forecastData","accBaseline","accRebaseline","accForecast","getPieChartData","categories","currentPeriod","category","reportTypes","includes","getGap2ChartData","forecastVal","rebaselineVal","gap","Math","abs","SCurveChart","tooltipFormatter","PieChart","Pie","nameKey","cx","cy","outerRadius","_entry","index","Cell","tickValueFormatter","GapBar2Chart","planColor","actualColor","gapColor","BarChart","stackOffset","generateReportType","start","end","i","push","salaryCategories","Efm05","salaryPieData","setSalaryPieData","pieData","setPieData","getBarChartRow","totalData","balanceData","totalVal","balanceVal","balance","remaining","getPieChartRow","b","periodData","depositData","creditData","depositVal","creditVal","deposit","credit","getBarChartData","Efm06BarChart","balanceColor","remainingColor","Efm06PieChart","Efm06SCurveChart","depositColor","creditColor","Efm06","Efm07","sortProject","outDueRatio","totalA","inDue","outDue1","outDue31","outDue91","outDue181","totalB","getAreaChartData","inDueVal","outDue1Val","outDue31Val","outDue91Val","outDue181Val","getMixedChartData","project","projectName","sort","slice","Efm08AreaChart","inDueColor","outDue1Color","outDue31Color","outDue91Color","outDue181Color","Area","Efm08MixedChart","outDueRatioColor","labelFormatter","find","undefined","Efm08","Efm09","colorPalettes","box","cursor","backgroundColor","color","Enterprise","permissions","setPermissions","userService","checkRolePermission","then","catch","finally","p","sm","to","justifyContent","borderRadius","marginRight","fontSize","noWrap","fontWeight","getAll","setProjects","projectService","code","Pfm02Hub","viewerService","Pfm03Hub","Pfm04Hub","PublicRoutes","path","useRouteMatch","component","Pfm03","exact","PrivateRoutes","lazy","Main","isAdmin","setIsAdmin","layoutActions","setActivePluginId","plugin","id","checkAdmin","adminList","adminMenuList","setMenuList","menuList"],"mappings":"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","file":"static/js/13.2d38c36f.chunk.js","sourcesContent":["function formatDate(date: Date, formatString = 'dd/MM/yyyy'): string {\n  let result = formatString;\n\n  const format = [\n    {\n      symbol: 'dd',\n      value: date.getDate() < 10 ? `0${date.getDate()}` : date.getDate(),\n    },\n    {\n      symbol: 'MM',\n      value: date.getMonth() + 1 < 10 ? `0${date.getMonth() + 1}` : `${date.getMonth() + 1}`,\n    },\n    {\n      symbol: 'yyyy',\n      value: date.getFullYear(),\n    },\n    {\n      symbol: 'hh',\n      value: date.getHours() < 10 ? `0${date.getHours()}` : date.getHours(),\n    },\n    {\n      symbol: 'mm',\n      value: date.getMinutes() < 10 ? `0${date.getMinutes()}` : date.getMinutes(),\n    },\n  ];\n\n  format.map((f) => {\n    result = result.replace(f.symbol, f.value as string);\n    return f.symbol;\n  });\n\n  return result;\n}\n\nfunction formatMoney(value: number, frac = 0): string {\n  const numberFormat = new Intl.NumberFormat('vi-VN', { maximumFractionDigits: frac, minimumFractionDigits: frac });\n  return numberFormat.format(value);\n}\n\nconst format = {\n  formatDate,\n  formatMoney,\n};\n\nexport default format;\n","import axios from 'axios';\n\nconst apiUrl = '/api/ebi/report-viewers';\n\nexport type ViewerModel = Viewer & {\n  projectName: string;\n}\n\nexport type Viewer = {\n  reportCode: string;\n  projectCode: string;\n  userNumber: string;\n  userFullName: string;\n}\n\nexport type ProjectViewerModel = {\n  projectCode: string;\n  projectName: string;\n  viewers: Viewer[];\n}\n\nfunction get(reportCode: string): Promise<ProjectViewerModel[]> {\n  return axios.get(`${apiUrl}?reportCode=${reportCode}`);\n}\n\nfunction getPermission(reportCode: string): Promise<ViewerModel[]> {\n  return axios.get(`${apiUrl}/my-permission?reportCode=${reportCode}`);\n}\n\nfunction create(reportCode: string, projectCode: string, userNumber: string): Promise<unknown> {\n  return axios.post(`${apiUrl}?reportCode=${reportCode}&projectCode=${projectCode}&userNumber=${userNumber}`);\n}\n\nfunction remove(reportCode: string, projectCode: string, userNumber: string): Promise<unknown> {\n  return axios.delete(`${apiUrl}?reportCode=${reportCode}&projectCode=${projectCode}&userNumber=${userNumber}`);\n}\n\nconst service = {\n  get,\n  getPermission,\n  create,\n  remove,\n};\n\nexport default service;\n","import { IconProp } from '@fortawesome/fontawesome-svg-core';\nimport { RoleType } from '../services/user';\n\nexport const reportList: { name: string,link: string, text: string, role: RoleType, icon: IconProp }[] = [\n  { name: 'Efm01',link: '/ebi/efm01', text: 'Báo cáo PL-BS-CF', role: 'EFM01_ROLE', icon: 'chart-line' },\n  { name: 'Efm02',link: '/ebi/efm02', text: 'Báo cáo CPTC ròng', role: 'EFM02_ROLE', icon: 'chart-line' },\n  { name: 'Efm03',link: '/ebi/efm03', text: 'Báo cáo SL-DT-TV', role: 'EFM03_ROLE', icon: 'chart-line' },\n  { name: 'Efm04',link: '/ebi/efm04', text: 'Báo cáo Chi phí tiền chi', role: 'EFM04_ROLE', icon: 'chart-line' },\n  { name: 'Efm05',link: '/ebi/efm05', text: 'Báo cáo Chi phí QLDN', role: 'EFM05_ROLE', icon: 'chart-line' },\n  { name: 'Efm06',link: '/ebi/efm06', text: 'Báo cáo Vay/Gửi ngân hàng', role: 'EFM06_ROLE', icon: 'chart-line' },\n  { name: 'Efm07',link: '/ebi/efm07', text: 'Báo cáo Cân đối CF', role: 'EFM07_ROLE', icon: 'chart-line' },\n  { name: 'Efm08',link: '/ebi/efm08', text: 'Báo cáo Tuổi nợ', role: 'EFM08_ROLE', icon: 'chart-line' },\n  { name: 'Efm09',link: '/ebi/efm09', text: 'Báo cáo KPI Công ty', role: 'EFM09_ROLE', icon: 'chart-line' },\n]","import React from 'react';\nimport {\n  DashboardForm\n} from '@nvdunginest/emis-mui';\n\nconst pageText = 'HỆ THỐNG BÁO CÁO THÔNG MNH';\n\nexport default function Dashboard(): JSX.Element {\n  return <DashboardForm text={pageText} />\n}\n","import React from 'react';\nimport {\n  DashboardForm\n} from '@nvdunginest/emis-mui';\n\nconst pageText = 'BÁO CÁO PL-BS-CF';\n\nexport default function Efm01(): JSX.Element {\n  return <DashboardForm text={pageText} />\n}","import axios from 'axios';\n\nimport {\n  ReportItem,\n} from './types';\n\nexport type BankReport = {\n  bankCode: string;\n  bankName: string;\n  data: ReportItem[];\n}\n\nexport type ProjectReport = {\n  projectCode: string;\n  projectName: string;\n  data: ReportItem[];\n}\n\nconst apiUrl = '/api/ebi/efm';\n\nfunction getEfm02Report(): Promise<ReportItem[]> {\n  return axios.get(`${apiUrl}/efm02`);\n}\n\nfunction getEfm05Report(): Promise<ReportItem[]> {\n  return axios.get(`${apiUrl}/efm05`);\n}\n\nfunction getEfm06Report(): Promise<BankReport[]> {\n  return axios.get(`${apiUrl}/efm06`);\n}\n\nfunction getEfm08Report(): Promise<ProjectReport[]> {\n  return axios.get(`${apiUrl}/efm08`);\n}\n\nconst service = {\n  getEfm02Report,\n  getEfm05Report,\n  getEfm06Report,\n  getEfm08Report,\n};\n\nexport default service;\n","import axios from 'axios';\n\nimport {\n  ReportItem,\n} from './types';\n\nconst apiUrl = '/api/ebi/efm03';\n\nexport type ProjectReport = {\n  projectCode: string;\n  projectName: string;\n  data: ReportItem[];\n}\n\nexport type SummaryReport = {\n  data: ReportItem[];\n  projects: ProjectReport[];\n}\n\nfunction get(): Promise<SummaryReport> {\n  return axios.get(apiUrl);\n}\n\nconst service = {\n  get,\n};\n\nexport default service;\n","import { VersionType } from \"../services/types\";\n\nexport const getPeriodsByFiscalYear = (fiscalYear: number): number[] => {\n  return [\n    fiscalYear * 100 + 4,\n    fiscalYear * 100 + 5,\n    fiscalYear * 100 + 6,\n    fiscalYear * 100 + 7,\n    fiscalYear * 100 + 8,\n    fiscalYear * 100 + 9,\n    fiscalYear * 100 + 10,\n    fiscalYear * 100 + 11,\n    fiscalYear * 100 + 12,\n    (fiscalYear + 1) * 100 + 1,\n    (fiscalYear + 1) * 100 + 2,\n    (fiscalYear + 1) * 100 + 3,\n  ];\n}\n\nexport const getCurrentPeriod = (): number => {\n  const now = new Date();\n  const month = now.getMonth() === 0 ? 12 : now.getMonth();\n  const year = now.getMonth() === 0 ? now.getFullYear() - 1 : now.getFullYear();\n  return year * 100 + month;\n}\n\nexport const getPeriodLabel = (period: number): string => {\n  const text = period.toFixed(0);\n  return `${text[4]}${text[5]}/${text[2]}${text[3]}`\n}\n\nexport const getFiscalYear = (): number => {\n  const now = new Date();\n  const month = now.getMonth();\n  if (month >= 4 && month <= 11) {\n    return now.getFullYear();\n  }\n\n  return now.getFullYear() - 1;\n}\n\nexport const getVersionType = (version: VersionType): string => {\n  switch (version) {\n    case \"BASELINE\": return \"1\";\n    case \"REBASELINE\": return \"2\";\n    case \"FORECAST\": return \"3\";\n    default: throw \"Not found version type!\";\n  }\n}\n\nexport const getReportType = (version: VersionType, dataType: string | number): string => {\n  const versionPrefix = parseInt(getVersionType(version), 10);\n  const dataTypeSuffix = parseInt(`${dataType}`, 10);\n\n  return `${versionPrefix * 100 + dataTypeSuffix}`;\n}","import { DetailChartData } from '../components/efm02/DetailChart';\nimport { OverviewChartData } from '../components/efm02/OverviewChart';\nimport { getReportType, getVersionType } from './helpers';\n\nimport { ReportItem, VersionType } from '../services/types';\nimport { SummaryReport } from '../services/efm03';\n\nimport {\n  getFiscalYear,\n  getPeriodsByFiscalYear,\n  getPeriodLabel,\n} from './helpers';\n\nconst getValueByType = (reportData: ReportItem[], reportType: string, period: number): number => {\n  return reportData\n    .filter(x => x.reportType === reportType && x.period <= period)\n    .map(x => x.dispersion)\n    .reduce((acc, val) => acc + val, 0);\n}\n\nconst getDetailChartData = (\n  version: VersionType,\n  isIncome: boolean,\n  reportData: ReportItem[],\n): DetailChartData[] => {\n  const fiscalYear = getFiscalYear();\n  const periods = getPeriodsByFiscalYear(fiscalYear);\n\n  return periods.map(period => {\n    const row: DetailChartData = {\n      period: getPeriodLabel(period),\n      paymentDiscount: getValueByType(reportData, getReportType(version, isIncome ? 2 : 1), period),\n      financialSupport: getValueByType(reportData, getReportType(version, isIncome ? 4 : 3), period),\n      latePayment: getValueByType(reportData, getReportType(version, isIncome ? 6 : 5), period),\n      shortTermFunding: getValueByType(reportData, getReportType(version, isIncome ? 8 : 7), period),\n      longTermFunding: getValueByType(reportData, getReportType(version, isIncome ? 10 : 9), period),\n      other: getValueByType(reportData, getReportType(version, isIncome ? 12 : 11), period),\n    }\n\n    return row;\n  });\n}\n\nconst getOverviewChartData = (\n  version: VersionType,\n  reportData: ReportItem[],\n  efm03ReportData: SummaryReport,\n): OverviewChartData[] => {\n  const fiscalYear = getFiscalYear();\n  const periods = getPeriodsByFiscalYear(fiscalYear);\n\n  const filterReportData = reportData.filter(x => x.reportType[0] === `${getVersionType(version)}`);\n\n  return periods.map(period => {\n    const outcome = filterReportData.filter(x => x.period <= period && parseInt(x.reportType) % 2 === 0)\n      .map(x => x.dispersion)\n      .reduce((a, v) => a + v, 0);\n\n    const income = filterReportData.filter(x => x.period <= period && parseInt(x.reportType) % 2 === 1)\n      .map(x => x.dispersion)\n      .reduce((a, v) => a + v, 0);\n\n    const baseline = efm03ReportData.data.filter(x => x.period === period && x.reportType === '102')\n      .map(x => x.accumulation).reduce((a, v) => a + v, 0);\n\n    const rebaseline = efm03ReportData.data.filter(x => x.period === period && x.reportType === '202')\n      .map(x => x.accumulation).reduce((a, v) => a + v, 0);\n\n    const forecast = efm03ReportData.data.filter(x => x.period === period && x.reportType === '302')\n      .map(x => x.accumulation).reduce((a, v) => a + v, 0);\n\n    const row: OverviewChartData = {\n      period: getPeriodLabel(period),\n      outcome: outcome,\n      income: income,\n      total: income - outcome,\n      baselineRatio: baseline !== 0 ? (income - outcome) / baseline * 100 : 0,\n      rebaselineRatio: rebaseline !== 0 ? (income - outcome) / rebaseline * 100 : 0,\n      forecastRatio: forecast !== 0 ? (income - outcome) / forecast * 100 : 0,\n    }\n\n    return row;\n  });\n}\n\nconst dataProvider = {\n  getDetailChartData,\n  getOverviewChartData,\n  getPeriodLabel,\n}\n\nexport default dataProvider;","const colors = [\n  '#70AD47',\n  '#5B9BD5',\n  '#FFC000',\n  '#43682B',\n  '#255E91',\n  '#997300',\n]\nconst chartColorPalettes = [\n  ...colors,\n  ...colors,\n  ...colors,\n  ...colors,\n  ...colors,\n];\n\nexport {\n  chartColorPalettes,\n}\n","import React from \"react\";\nimport * as colors from '@material-ui/core/colors';\nimport {\n  ReferenceLine,\n  Label,\n} from 'recharts';\n\nimport {\n  getCurrentPeriod,\n  getPeriodLabel,\n} from '../common/helpers';\n\nexport const renderSplitLine = (): JSX.Element => (\n  <ReferenceLine\n    x={getPeriodLabel(getCurrentPeriod())}\n    values=\"Actual\"\n    strokeWidth={2}\n    stroke={colors.red[700]}\n    strokeDasharray=\"3 3\"\n  >\n    <Label value=\"Thực tế\" position=\"insideTopRight\" />\n    <Label value=\"Dự báo\" position=\"insideTopLeft\" />\n  </ReferenceLine>\n);","import React from \"react\";\nimport { useTheme } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport {\n  Typography,\n} from '@material-ui/core';\nimport {\n  ResponsiveContainer,\n  ComposedChart,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n} from 'recharts';\n\nimport format from '../../../../configs/format';\nimport { chartColorPalettes } from '../../constants/colors';\nimport { renderSplitLine } from '../common';\n\nexport type DetailChartData = {\n  period: string;\n  paymentDiscount: number;\n  financialSupport: number;\n  latePayment: number;\n  shortTermFunding: number;\n  longTermFunding: number;\n  other: number;\n}\n\ntype DetailChartProps = {\n  title: string;\n  data: DetailChartData[];\n}\n\nexport default function DetailChart({\n  title,\n  data,\n}: DetailChartProps): JSX.Element {\n  const theme = useTheme();\n  const matches = useMediaQuery(theme.breakpoints.down('xs'));\n\n  const [\n    paymentDiscountColor,\n    financialSupportColor,\n    latePaymentColor,\n    shortTermFundingColor,\n    longTermFundingColor,\n    otherColor,\n  ] = chartColorPalettes;\n\n  const barSize = 15;\n\n  const tickFormatter = (value: number) => format.formatMoney(value / 1000000);\n  const tooltipFormatter = (value: number) => `${format.formatMoney(value / 1000000)} tr VND`;\n\n  return (\n    <div style={{ width: '100%' }}>\n      <Typography align=\"center\" variant=\"h6\">{title}</Typography>\n      <div style={{ width: '100%', height: 280, padding: '8px' }}>\n        <ResponsiveContainer>\n          <ComposedChart\n            barCategoryGap={5}\n            barGap={0}\n            data={data}\n            margin={{\n              top: 0, right: 0, bottom: 0, left: 0,\n            }}\n          >\n            <CartesianGrid stroke=\"#f5f5f5\" />\n            <XAxis dataKey=\"period\" type=\"category\" scale=\"band\" />\n            <YAxis\n              type=\"number\"\n              mirror={matches}\n              yAxisId={1}\n              tickFormatter={tickFormatter}\n            />\n            <YAxis\n              type=\"number\"\n              mirror={matches}\n              yAxisId={0}\n              orientation=\"right\"\n              tickFormatter={tickFormatter}\n            />\n            <Tooltip formatter={tooltipFormatter} />\n            <Legend />\n            <Bar\n              isAnimationActive={false}\n              name=\"Chiết khấu thanh toán\"\n              dataKey=\"paymentDiscount\"\n              stackId=\"stackedColumnEfm02\"\n              barSize={barSize}\n              fill={paymentDiscountColor}\n            />\n            <Bar\n              isAnimationActive={false}\n              name=\"CT Hỗ trợ tài chính\"\n              dataKey=\"financialSupport\"\n              stackId=\"stackedColumnEfm02\"\n              barSize={barSize}\n              fill={financialSupportColor}\n            />\n            <Bar\n              isAnimationActive={false}\n              name=\"Chậm thanh toán\"\n              dataKey=\"latePayment\"\n              stackId=\"stackedColumnEfm02\"\n              barSize={barSize}\n              fill={latePaymentColor}\n            />\n            <Bar\n              isAnimationActive={false}\n              name=\"TT vốn ngắn hạn\"\n              dataKey=\"shortTermFunding\"\n              stackId=\"stackedColumnEfm02\"\n              barSize={barSize}\n              fill={shortTermFundingColor}\n            />\n            <Bar\n              isAnimationActive={false}\n              name=\"TT vốn dài hạn\"\n              dataKey=\"longTermFunding\"\n              stackId=\"stackedColumnEfm02\"\n              barSize={barSize}\n              fill={longTermFundingColor}\n            />\n            <Bar\n              isAnimationActive={false}\n              name=\"Hoạt động khác\"\n              dataKey=\"other\"\n              stackId=\"stackedColumnEfm02\"\n              barSize={barSize}\n              fill={otherColor}\n            />\n            {renderSplitLine()}\n          </ComposedChart>\n        </ResponsiveContainer>\n      </div>\n    </div>\n  );\n}","import React from \"react\";\nimport { useTheme } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport {\n  Typography,\n} from '@material-ui/core';\nimport {\n  ResponsiveContainer,\n  ComposedChart,\n  Line,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n} from 'recharts';\nimport format from '../../../../configs/format';\nimport { chartColorPalettes } from '../../constants/colors';\nimport { renderSplitLine } from '../common';\n\nexport type OverviewChartData = {\n  period: string;\n  outcome: number;\n  income: number;\n  total: number;\n  baselineRatio: number;\n  rebaselineRatio: number;\n  forecastRatio: number;\n}\n\ntype OverviewChartProps = {\n  title: string;\n  data: OverviewChartData[];\n}\n\nexport default function OverviewChart({\n  title,\n  data,\n}: OverviewChartProps): JSX.Element {\n  const theme = useTheme();\n  const matches = useMediaQuery(theme.breakpoints.down('xs'));\n\n  const [\n    outcomeColor,\n    incomeColor,\n    totalColor,\n  ] = chartColorPalettes;\n\n  const [\n    baselineColor,\n    rebaselineColor,\n    forecastColor,\n  ] = chartColorPalettes;\n\n  const barSize = 8;\n\n  const tickFormatter = (value: number) => format.formatMoney(value / 1000000);\n  const tooltipFormatter = (value: number, name: string) => {\n    if (name === 'CPTC ròng/DT KHBĐ' || name === 'CPTC ròng/DT kế hoạch' || name === 'CPTC ròng/DT dự báo') {\n      return `${format.formatMoney(value, 1)}%`;\n    }\n    else {\n      return `${format.formatMoney(value / 1000000)} tr VND`;\n    }\n  };\n\n  return (\n    <div style={{ width: '100%' }}>\n      <Typography align=\"center\" variant=\"h6\">{title}</Typography>\n      <div style={{ width: '100%', height: 280, padding: '8px' }}>\n        <ResponsiveContainer>\n          <ComposedChart\n            barCategoryGap={5}\n            barGap={0}\n            data={data}\n            margin={{\n              top: 0, right: 0, bottom: 0, left: 0,\n            }}\n          >\n            <CartesianGrid stroke=\"#f5f5f5\" />\n            <XAxis dataKey=\"period\" type=\"category\" scale=\"band\" />\n            <YAxis\n              type=\"number\"\n              mirror={matches}\n              yAxisId={0}\n              tickFormatter={(value: number) => `${format.formatMoney(value)}%`}\n            />\n            <YAxis\n              type=\"number\"\n              mirror={matches}\n              yAxisId={1}\n              orientation=\"right\"\n              tickFormatter={tickFormatter}\n            />\n            <Tooltip formatter={tooltipFormatter} />\n            <Legend />\n            <Bar\n              isAnimationActive={false}\n              name=\"Tổng chi phí tài chính\"\n              yAxisId={1}\n              dataKey=\"outcome\"\n              barSize={barSize}\n              fill={outcomeColor}\n            />\n            <Bar\n              isAnimationActive={false}\n              name=\"Tổng thu nhập tài chính\"\n              yAxisId={1}\n              dataKey=\"income\"\n              barSize={barSize}\n              fill={incomeColor}\n            />\n            <Bar\n              isAnimationActive={false}\n              name=\"Thu nhập/(Chi phí) tài chính ròng\"\n              yAxisId={1}\n              dataKey=\"total\"\n              barSize={barSize}\n              fill={totalColor}\n            />\n            <Line\n              isAnimationActive={false}\n              name=\"CPTC ròng/DT KHBĐ\"\n              yAxisId={0}\n              type=\"linear\"\n              dataKey=\"baselineRatio\"\n              dot={{ r: 4, stroke: baselineColor, strokeWidth: 2 }}\n              activeDot={{ r: 6, fill: baselineColor }}\n              stroke={baselineColor}\n              strokeWidth={3}\n            />\n            <Line\n              isAnimationActive={false}\n              name=\"CPTC ròng/DT kế hoạch\"\n              yAxisId={0}\n              type=\"linear\"\n              dataKey=\"rebaselineRatio\"\n              dot={{ r: 4, stroke: rebaselineColor, strokeWidth: 2 }}\n              activeDot={{ r: 6, fill: rebaselineColor }}\n              stroke={rebaselineColor}\n              strokeWidth={3}\n            />\n            <Line\n              isAnimationActive={false}\n              name=\"CPTC ròng/DT dự báo\"\n              yAxisId={0}\n              type=\"linear\"\n              dataKey=\"forecastRatio\"\n              dot={{ r: 4, stroke: forecastColor, strokeWidth: 2 }}\n              activeDot={{ r: 6, fill: forecastColor }}\n              stroke={forecastColor}\n              strokeWidth={3}\n            />\n            {renderSplitLine()}\n          </ComposedChart>\n        </ResponsiveContainer>\n      </div>\n    </div>\n  );\n}","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n  Typography,\n  Grid,\n} from '@material-ui/core';\nimport {\n  DownloadButton,\n} from '@nvdunginest/emis-mui';\n\nimport {\n  AppDispatch,\n  alertActions,\n  alertMessage,\n  loadingActions,\n} from '../../../core';\n\nimport efmService from '../services/efm';\nimport efm03Service, { SummaryReport } from '../services/efm03';\nimport { ReportItem } from '../services/types';\n\nimport dataProvider from '../common/efm02Helpers';\n\nimport DetailChart from '../components/efm02/DetailChart';\nimport OverviewChart from '../components/efm02/OverviewChart';\n\nconst useStyles = makeStyles((theme) => ({\n  content: {\n    display: 'flex',\n    height: 'calc(100% - 32px)',\n    flexDirection: 'column',\n    alignItems: 'center',\n    margin: theme.spacing(-1),\n    [theme.breakpoints.down('xs')]: {\n      margin: 0,\n      height: 'calc(100% - 48px)',\n    },\n  },\n  menu: {\n    display: 'flex',\n    width: '100%',\n  },\n  title: {\n    flexGrow: 1,\n    textTransform: 'uppercase',\n  },\n  link: {\n    textDecoration: 'none',\n  },\n}));\n\nexport default function Efm02(): JSX.Element {\n  const classes = useStyles();\n  const dispatch: AppDispatch = useDispatch();\n  const [report, setReport] = React.useState<ReportItem[]>([]);\n  const [efm03Report, setEfm03Report] = React.useState<SummaryReport>({\n    data: [],\n    projects: [],\n  });\n\n  const refresh = async () => {\n    dispatch(loadingActions.show());\n    try {\n      const data = await Promise.all([efmService.getEfm02Report(), efm03Service.get()]);\n      setReport(data[0]);\n      setEfm03Report(data[1]);\n    }\n    catch {\n      dispatch(alertActions.show(alertMessage.FETCH_FAILURE, 'error'));\n    }\n    finally {\n      dispatch(loadingActions.hide());\n    }\n  }\n\n  React.useEffect(() => {\n    refresh();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <div className={classes.content}>\n      <Grid container spacing={1} style={{ padding: '8px' }}>\n        <Grid container alignItems=\"center\" item spacing={1} className={classes.menu}>\n          <Grid item className={classes.title}>\n            <Typography variant=\"h6\">Báo cáo Chi phí tài chính ròng Công ty</Typography>\n          </Grid>\n          <Grid item>\n            <DownloadButton\n              filename=\"Efm02.xlsx\"\n              url=\"/api/ebi/efm/get-excel?report=efm02\"\n              label=\"Tải báo cáo\"\n            />\n          </Grid>\n        </Grid>\n        {report.length > 0 && (\n          <>\n            <Grid item xs={12}>\n              <OverviewChart\n                title=\"Tỷ lệ CPTC ròng trên doanh thu\"\n                data={dataProvider.getOverviewChartData(\"FORECAST\", report, efm03Report)}\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <DetailChart\n                title=\"Chi phí tài chính KHBĐ\"\n                data={dataProvider.getDetailChartData(\"BASELINE\", true, report)}\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <DetailChart\n                title=\"Thu nhập tài chính KHBĐ\"\n                data={dataProvider.getDetailChartData(\"BASELINE\", false, report)}\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <DetailChart\n                title=\"Chi phí tài chính kế hoạch\"\n                data={dataProvider.getDetailChartData(\"REBASELINE\", true, report)}\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <DetailChart\n                title=\"Thu nhập tài chính kế hoạch\"\n                data={dataProvider.getDetailChartData(\"REBASELINE\", false, report)}\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <DetailChart\n                title=\"Chi phí tài chính thực tế/dự báo\"\n                data={dataProvider.getDetailChartData(\"FORECAST\", true, report)}\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <DetailChart\n                title=\"Thu nhập tài chính thực tế/dự báo\"\n                data={dataProvider.getDetailChartData(\"FORECAST\", false, report)}\n              />\n            </Grid>\n          </>\n        )}\n      </Grid>\n    </div>\n  )\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n  Typography,\n  Grid,\n} from '@material-ui/core';\nimport {\n  DownloadButton,\n} from '@nvdunginest/emis-mui';\n\nconst useStyles = makeStyles((theme) => ({\n  content: {\n    display: 'flex',\n    height: 'calc(100% - 32px)',\n    flexDirection: 'column',\n    alignItems: 'center',\n    margin: theme.spacing(-1),\n    [theme.breakpoints.down('xs')]: {\n      margin: 0,\n      height: 'calc(100% - 48px)',\n    },\n  },\n  menu: {\n    display: 'flex',\n    width: '100%',\n  },\n  title: {\n    flexGrow: 1,\n    textTransform: 'uppercase',\n  },\n  link: {\n    textDecoration: 'none',\n  },\n}));\n\nexport default function Efm03(): JSX.Element {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.content}>\n      <Grid container spacing={1} style={{ padding: '8px' }}>\n        <Grid container alignItems=\"center\" item spacing={1} className={classes.menu}>\n          <Grid item className={classes.title}>\n            <Typography variant=\"h6\">Báo cáo SL-DT-TV Công ty</Typography>\n          </Grid>\n          <Grid item>\n            <DownloadButton\n              filename=\"Efm03.xlsx\"\n              url=\"/api/ebi/efm03/getExcel\"\n              label=\"Tải báo cáo\"\n            />\n          </Grid>\n        </Grid>\n      </Grid>\n    </div>\n  )\n}","import React from 'react';\nimport {\n  DashboardForm\n} from '@nvdunginest/emis-mui';\n\nconst pageText = 'BÁO CÁO CHI PHÍ TIỀN CHI';\n\nexport default function Efm04(): JSX.Element {\n  return <DashboardForm text={pageText} />\n}","import { SCurveChartData } from '../components/SCurveChart';\nimport { PieChartData } from '../components/PieChart';\nimport { GapBar2ChartData } from '../components/GapBar2Chart';\n\nimport { ReportItem } from '../services/types';\nimport {\n  getCurrentPeriod,\n  getFiscalYear,\n  getPeriodLabel,\n  getPeriodsByFiscalYear,\n  getReportType,\n  getVersionType,\n} from './helpers';\n\nconst getSCurveChartData = (\n  data: ReportItem[],\n): SCurveChartData[] => {\n\n  const fiscalYear = getFiscalYear();\n  const periods = getPeriodsByFiscalYear(fiscalYear);\n\n  return periods.map(period => {\n    const baselineData = data.filter(\n      x => x.period === period &&\n        x.reportType[0] === getVersionType('BASELINE'));\n\n    const rebaselineData = data.filter(\n      x => x.period === period &&\n        x.reportType[0] === getVersionType('REBASELINE'));\n\n    const forecastData = data.filter(\n      x => x.period === period &&\n        x.reportType[0] === getVersionType('FORECAST'));\n\n    const row: SCurveChartData = {\n      period: getPeriodLabel(period),\n      baseline: baselineData.map(x => x.dispersion).reduce((acc, val) => acc + val, 0),\n      rebaseline: rebaselineData.map(x => x.dispersion).reduce((acc, val) => acc + val, 0),\n      forecast: forecastData.map(x => x.dispersion).reduce((acc, val) => acc + val, 0),\n      accBaseline: baselineData.map(x => x.accumulation).reduce((acc, val) => acc + val, 0),\n      accRebaseline: rebaselineData.map(x => x.accumulation).reduce((acc, val) => acc + val, 0),\n      accForecast: forecastData.map(x => x.accumulation).reduce((acc, val) => acc + val, 0),\n    }\n\n    return row;\n  });\n}\n\nconst getPieChartData = (\n  data: ReportItem[],\n  categories: CategoryConfig[],\n): PieChartData[] => {\n\n  const currentPeriod = getCurrentPeriod();\n\n  return categories.map(category => {\n    const forecastData = data.filter(\n      x => x.period === currentPeriod &&\n        category.reportTypes\n          .map(x => getReportType('FORECAST', x))\n          .includes(x.reportType));\n\n    const row: PieChartData = {\n      name: category.name,\n      value: forecastData.map(x => x.accumulation).reduce((acc, val) => acc + val, 0),\n    }\n\n    return row;\n  });\n}\n\nconst getGap2ChartData = (\n  data: ReportItem[],\n  categories: CategoryConfig[],\n): GapBar2ChartData[] => {\n\n  const currentPeriod = getCurrentPeriod();\n\n  return categories.map(category => {\n    const forecastVal = data.filter(\n      x => x.period === currentPeriod &&\n        category.reportTypes\n          .map(x => getReportType('FORECAST', x))\n          .includes(x.reportType))\n      .map(x => x.accumulation)\n      .reduce((acc, val) => acc + val, 0);\n\n    const rebaselineVal = data.filter(\n      x => x.period === currentPeriod &&\n        category.reportTypes\n          .map(x => getReportType('REBASELINE', x))\n          .includes(x.reportType))\n      .map(x => x.accumulation)\n      .reduce((acc, val) => acc + val, 0);\n\n    const row: GapBar2ChartData = {\n      category: category.name,\n      name: category.name,\n      forecast: forecastVal,\n      rebaseline: rebaselineVal,\n      gap: Math.abs(rebaselineVal - forecastVal),\n    }\n\n    return row;\n  });\n}\n\nconst helpers = {\n  getSCurveChartData,\n  getPieChartData,\n  getGap2ChartData,\n}\n\nexport type CategoryConfig = {\n  name: string;\n  reportTypes: string[];\n}\n\nexport default helpers;","import React from 'react';\nimport { useTheme } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport {\n  Typography,\n} from '@material-ui/core';\nimport {\n  ResponsiveContainer,\n  ComposedChart,\n  Line,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n} from 'recharts';\nimport format from '../../../configs/format';\nimport { chartColorPalettes } from '../constants/colors';\nimport { renderSplitLine } from './common';\n\nexport type SCurveChartData = {\n  period: string;\n  accBaseline: number;\n  accRebaseline: number;\n  accForecast: number;\n  baseline: number;\n  rebaseline: number;\n  forecast: number;\n}\n\ntype SCurveChartProps = {\n  title: string;\n  data: SCurveChartData[];\n  tickFormatter?: (value: number) => string;\n  tooltipFormatter?: (value: number) => string;\n}\n\nexport default function SCurveChart({\n  title,\n  data,\n  tickFormatter = (value: number) => format.formatMoney(value / 1000000000),\n  tooltipFormatter = (value: number) => `${format.formatMoney(value / 1000000000)} tỷ VND`,\n}: SCurveChartProps): JSX.Element {\n  const theme = useTheme();\n  const matches = useMediaQuery(theme.breakpoints.down('xs'));\n\n  const [\n    baselineColor,\n    rebaselineColor,\n    forecastColor,\n  ] = chartColorPalettes;\n\n  return (\n    <div style={{ width: '100%' }}>\n      <Typography align=\"center\" variant=\"h6\">{title}</Typography>\n      <div style={{ width: '100%', height: 280, padding: '8px' }}>\n        <ResponsiveContainer>\n          <ComposedChart\n            barCategoryGap={5}\n            barGap={0}\n            data={data}\n            margin={{\n              top: 0, right: 0, bottom: 0, left: 0,\n            }}\n          >\n            <CartesianGrid stroke=\"#f5f5f5\" />\n            <XAxis dataKey=\"period\" type=\"category\" scale=\"band\" />\n            <YAxis\n              type=\"number\"\n              mirror={matches}\n              yAxisId={0}\n              tickFormatter={tickFormatter}\n            />\n            <YAxis\n              type=\"number\"\n              mirror={matches}\n              yAxisId={1}\n              orientation=\"right\"\n              tickFormatter={tickFormatter}\n            />\n            <Tooltip formatter={tooltipFormatter} />\n            <Legend />\n            <Bar\n              isAnimationActive={false}\n              name=\"KH Phân kỳ\"\n              yAxisId={1}\n              dataKey=\"rebaseline\"\n              fill={rebaselineColor}\n            />\n            <Bar\n              isAnimationActive={false}\n              name=\"TT/DB Phân kỳ\"\n              yAxisId={1}\n              dataKey=\"forecast\"\n              fill={forecastColor}\n            />\n            <Line\n              isAnimationActive={false}\n              name=\"KHBĐ Lũy kế\"\n              yAxisId={0}\n              type=\"linear\"\n              dataKey=\"accBaseline\"\n              dot={{ r: 4, stroke: baselineColor, strokeWidth: 2 }}\n              activeDot={{ r: 6, fill: baselineColor }}\n              stroke={baselineColor}\n              strokeWidth={3}\n            />\n            <Line\n              isAnimationActive={false}\n              name=\"KH Lũy kế\"\n              yAxisId={0}\n              type=\"linear\"\n              dataKey=\"accRebaseline\"\n              dot={{ r: 4, stroke: rebaselineColor, strokeWidth: 2 }}\n              activeDot={{ r: 6, fill: rebaselineColor }}\n              stroke={rebaselineColor}\n              strokeWidth={3}\n            />\n            <Line\n              isAnimationActive={false}\n              name=\"TT/DB Lũy kế\"\n              yAxisId={0}\n              type=\"linear\"\n              dataKey=\"accForecast\"\n              dot={{ r: 4, stroke: forecastColor, strokeWidth: 2 }}\n              activeDot={{ r: 6, fill: forecastColor }}\n              stroke={forecastColor}\n              strokeWidth={3}\n            />\n            {renderSplitLine()}\n          </ComposedChart>\n        </ResponsiveContainer>\n      </div>\n    </div>\n  );\n}","import React from 'react';\nimport {\n  Typography,\n} from '@material-ui/core';\nimport {\n  ResponsiveContainer,\n  PieChart as REPieChart,\n  Pie,\n  Cell,\n  Tooltip,\n  Legend,\n} from 'recharts';\nimport format from '../../../configs/format';\nimport { chartColorPalettes } from '../constants/colors';\n\nexport type PieChartData = {\n  name: string;\n  value: number;\n}\n\ntype Props = {\n  title: string;\n  data: PieChartData[];\n  tooltipFormatter?: (value: number) => string;\n}\n\nexport default function PieChart({\n  title,\n  data,\n  tooltipFormatter = (value: number) => `${format.formatMoney(value / 1000)} tỷ VND`,\n}: Props): JSX.Element {\n\n  return (\n    <div style={{ width: '100%' }}>\n      <Typography align=\"center\" variant=\"h6\">{title}</Typography>\n      <div style={{ width: '100%', height: 280, padding: '8px' }}>\n        <ResponsiveContainer>\n          <REPieChart>\n            <Legend />\n            <Tooltip formatter={tooltipFormatter} />\n            <Pie isAnimationActive={false} data={data} dataKey=\"value\" nameKey=\"name\" cx=\"50%\" cy=\"50%\" outerRadius={100}>\n              {\n                data.map((_entry, index) => (\n                  <Cell key={`cell-${index}`} fill={chartColorPalettes[index]} />\n                ))\n              }\n            </Pie>\n          </REPieChart>\n        </ResponsiveContainer>\n      </div>\n    </div>\n  );\n}","import React from 'react';\nimport { useTheme } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport {\n  Typography,\n} from '@material-ui/core';\nimport {\n  ResponsiveContainer,\n  BarChart as BarChartRC,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n} from 'recharts';\n\nimport format from '../../../configs/format';\nimport { chartColorPalettes } from '../constants/colors';\n\nexport type GapBar2ChartData = {\n  category: string;\n  name: string;\n  rebaseline: number;\n  forecast: number;\n  gap: number;\n}\n\ntype Props = {\n  title: string;\n  data: GapBar2ChartData[];\n}\n\nconst tickValueFormatter = (value: number) => format.formatMoney(value / 1000000000);\n\nconst tooltipFormatter = (value: number, name: string) => {\n  if (name === '%Gap') {\n    return `${format.formatMoney(value, 1)}%`;\n  }\n  return `${format.formatMoney(value / 1000000000)} tỷ VND`;\n}\n\nexport default function GapBar2Chart({\n  title,\n  data,\n}: Props): JSX.Element {\n  const theme = useTheme();\n  const matches = useMediaQuery(theme.breakpoints.down('xs'));\n\n  const [\n    planColor,\n    actualColor,\n    gapColor,\n  ] = chartColorPalettes;\n\n  return (\n    <div style={{ width: '100%' }}>\n      <Typography align=\"center\" variant=\"h6\">{title}</Typography>\n      <div style={{ width: '100%', height: 280, padding: '8px' }}>\n        <ResponsiveContainer>\n          <BarChartRC\n            barCategoryGap={5}\n            barGap={0}\n            data={data}\n            stackOffset=\"sign\"\n            margin={{\n              top: 0, right: 0, left: 0, bottom: 0,\n            }}\n          >\n            <CartesianGrid strokeDasharray=\"3 3\" />\n            <XAxis dataKey=\"category\" type=\"category\" scale=\"band\" />\n            <YAxis\n              type=\"number\"\n              mirror={matches} \n              tickFormatter={tickValueFormatter}\n            />\n            <Tooltip formatter={tooltipFormatter} />\n            <Bar\n              isAnimationActive={false}\n              name=\"Kế hoạch\"\n              stackId={0}\n              dataKey=\"rebaseline\"\n              fill={planColor}\n            />\n            <Bar\n              isAnimationActive={false}\n              name=\"Gap\"\n              stackId={0}\n              dataKey=\"gap\"\n              fill={gapColor}\n            />\n            <Bar\n              isAnimationActive={false}\n              name=\"Thực tế\"\n              stackId={1}\n              yAxisId={0}\n              dataKey=\"forecast\"\n              fill={actualColor}\n            />\n          </BarChartRC>\n        </ResponsiveContainer>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n  Typography,\n  Grid,\n} from '@material-ui/core';\nimport {\n  DownloadButton,\n} from '@nvdunginest/emis-mui';\n\nimport {\n  AppDispatch,\n  alertActions,\n  alertMessage,\n  loadingActions,\n} from '../../../core';\n\nimport format from '../../../configs/format';\n\nimport efmService from '../services/efm';\nimport { ReportItem } from '../services/types';\n\nimport dataProvider, { CategoryConfig } from '../common/efm05Helpers';\n\nimport SCurveChart from '../components/SCurveChart';\nimport PieChart, { PieChartData } from '../components/PieChart';\nimport GapBar2Chart from '../components/GapBar2Chart';\n\nconst useStyles = makeStyles((theme) => ({\n  content: {\n    display: 'flex',\n    height: 'calc(100% - 32px)',\n    flexDirection: 'column',\n    alignItems: 'center',\n    margin: theme.spacing(-1),\n    [theme.breakpoints.down('xs')]: {\n      margin: 0,\n      height: 'calc(100% - 48px)',\n    },\n  },\n  menu: {\n    display: 'flex',\n    width: '100%',\n  },\n  title: {\n    flexGrow: 1,\n    textTransform: 'uppercase',\n  },\n  link: {\n    textDecoration: 'none',\n  },\n}));\n\nconst generateReportType = (start: number, end: number): string[] => {\n  const result: string[] = [];\n\n  for (let i = start; i <= end; i++) {\n    result.push(`${i}`);\n  }\n\n  return result;\n}\n\nconst salaryCategories: CategoryConfig[] = [\n  {\n    name: 'Văn phòng',\n    reportTypes: ['1'],\n  },\n  {\n    name: 'Dự bị',\n    reportTypes: ['2'],\n  },\n  {\n    name: 'Chi phí lương khác',\n    reportTypes: ['3'],\n  },\n];\n\nconst categories: CategoryConfig[] = [\n  {\n    name: 'Chi phí lương',\n    reportTypes: ['1', '2', '3'],\n  },\n  {\n    name: 'Chi phí phúc lợi',\n    reportTypes: generateReportType(4, 18),\n  },\n  {\n    name: 'Chi phí hành chính',\n    reportTypes: generateReportType(19, 45),\n  },\n];\n\nexport default function Efm05(): JSX.Element {\n  const classes = useStyles();\n  const dispatch: AppDispatch = useDispatch();\n  const [report, setReport] = React.useState<ReportItem[]>([]);\n  const [salaryPieData, setSalaryPieData] = React.useState<PieChartData[]>([]);\n  const [pieData, setPieData] = React.useState<PieChartData[]>([]);\n\n  const refresh = async () => {\n    dispatch(loadingActions.show());\n    try {\n      setReport(await efmService.getEfm05Report());\n    }\n    catch {\n      dispatch(alertActions.show(alertMessage.FETCH_FAILURE, 'error'));\n      setReport([]);\n    }\n    finally {\n      dispatch(loadingActions.hide());\n    }\n  }\n\n  const salaryTooltipFormatter = (value: number) => {\n    const total = salaryPieData.map(x => x.value).reduce((acc, val) => acc + val, 0);\n    return `${format.formatMoney(value / 1000000000)} tỷ VND (${format.formatMoney(value / total * 100, 0)}%)`;\n  }\n\n  const tooltipFormatter = (value: number) => {\n    const total = pieData.map(x => x.value).reduce((acc, val) => acc + val, 0);\n    return `${format.formatMoney(value / 1000000000)} tỷ VND (${format.formatMoney(value / total * 100, 0)}%)`;\n  }\n\n  React.useEffect(() => {\n    refresh();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  React.useEffect(() => {\n    setSalaryPieData(dataProvider.getPieChartData(report, salaryCategories));\n    setPieData(dataProvider.getPieChartData(report, categories));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [report]);\n\n  return (\n    <div className={classes.content}>\n      <Grid container spacing={1} style={{ padding: '8px' }}>\n        <Grid container alignItems=\"center\" item spacing={1} xs={12} className={classes.menu}>\n          <Grid item className={classes.title}>\n            <Typography variant=\"h6\">Báo cáo Chi phí Quản lý doanh nghiệp</Typography>\n          </Grid>\n          <Grid item>\n            <DownloadButton\n              filename=\"Efm05.xlsx\"\n              url=\"/api/ebi/efm/get-excel?report=efm05\"\n              label=\"Tải báo cáo\"\n            />\n          </Grid>\n        </Grid>\n        {report.length > 0 && (\n          <>\n            <Grid item xs={12} md={6}>\n              <SCurveChart\n                title=\"Chi phí Quản lý doanh nghiệp\"\n                data={dataProvider.getSCurveChartData(report)}\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <GapBar2Chart\n                title=\"GAP lũy kế chi phí QLDN\"\n                data={dataProvider.getGap2ChartData(report, categories)}\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <PieChart\n                title=\"Cơ cấu chi phí lương thực tế lũy kế đến kỳ báo cáo\"\n                tooltipFormatter={salaryTooltipFormatter}\n                data={salaryPieData}\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <PieChart\n                title=\"Cơ cấu chi phí quản lý thực tế lũy kế đến kỳ báo cáo\"\n                tooltipFormatter={tooltipFormatter}\n                data={pieData}\n              />\n            </Grid>\n          </>\n        )}\n      </Grid>\n    </div>\n  )\n}","export type Efm06BarChartData = {\n  name: string;\n  total: number;\n  balance: number;\n  remaining: number;\n}\n\nexport type Efm06PieChartData = {\n  name: string;\n  value: number;\n}\n\nexport type Efm06SCurveChartData = {\n  period: string;\n  deposit: number | null;\n  credit: number | null;\n  balance: number | null;\n}\n\nimport { BankReport } from '../services/efm';\nimport { ReportItem } from '../services/types';\nimport {\n  getCurrentPeriod,\n  getFiscalYear,\n  getPeriodLabel,\n  getPeriodsByFiscalYear,\n} from './helpers';\n\nconst getSCurveChartData = (\n  report: BankReport[],\n): Efm06SCurveChartData[] => {\n\n  const fiscalYear = getFiscalYear();\n  const periods = getPeriodsByFiscalYear(fiscalYear);\n  // const currentPeriod = getCurrentPeriod();\n  const data: ReportItem[] = [];\n  report.map(b => {\n    data.push(...b.data);\n    return true;\n  });\n\n  const currentPeriod = getCurrentPeriod();\n\n  return periods.map(period => {\n    const periodData = data.filter(x => x.period === period);\n    const depositData = periodData.filter(x =>\n      x.reportType === '501' ||\n      x.reportType === '502' ||\n      x.reportType === '503' ||\n      x.reportType === '504' ||\n      x.reportType === '505' ||\n      x.reportType === '506'\n    );\n\n    const creditData = periodData.filter(x =>\n      x.reportType === '301' ||\n      x.reportType === '302' ||\n      x.reportType === '305'\n    );\n\n    const depositVal = depositData.map(x => x.accumulation).reduce((acc, val) => acc + val, 0);\n    const creditVal = creditData.map(x => x.accumulation).reduce((acc, val) => acc + val, 0);\n\n\n    const row: Efm06SCurveChartData = {\n      period: getPeriodLabel(period),\n      deposit: currentPeriod >= period ? depositVal : null,\n      credit: currentPeriod >= period ? creditVal : null,\n      balance: currentPeriod >= period ? creditVal - depositVal : null,\n    }\n\n    return row;\n  });\n}\n\nconst getPieChartData = (\n  report: BankReport[],\n): Efm06PieChartData[] => {\n\n  const currentPeriod = getCurrentPeriod();\n  const data: ReportItem[] = [];\n  report.map(b => {\n    data.push(...b.data);\n    return true;\n  });\n\n  const result: Efm06PieChartData[] = [];\n  result.push(getPieChartRow(data, currentPeriod, '01', 'Tiền gửi thanh toán'));\n  result.push(getPieChartRow(data, currentPeriod, '02', 'Tiền gửi có kỳ hạn từ 1-3 tháng'));\n  result.push(getPieChartRow(data, currentPeriod, '03', 'Tiền gửi có kỳ hạn từ 3-6 tháng'));\n  result.push(getPieChartRow(data, currentPeriod, '04', 'Tiền gửi có kỳ hạn từ 6-12 tháng'));\n  result.push(getPieChartRow(data, currentPeriod, '05', 'Tiền gửi có kỳ hạn trên 12 tháng'));\n  result.push(getPieChartRow(data, currentPeriod, '06', 'Ký quỹ bằng tiền'));\n\n  return result;\n}\n\nconst getBarChartData = (\n  report: BankReport[],\n): Efm06BarChartData[] => {\n\n  const currentPeriod = getCurrentPeriod();\n  const data: ReportItem[] = [];\n  report.map(b => {\n    data.push(...b.data);\n    return true;\n  });\n\n  const result: Efm06BarChartData[] = [];\n  result.push(getBarChartRow(data, currentPeriod, '01', 'Vay ngắn hạn'));\n  result.push(getBarChartRow(data, currentPeriod, '02', 'Vay dài hạn'));\n  result.push(getBarChartRow(data, currentPeriod, '03', 'Bảo lãnh'));\n  result.push(getBarChartRow(data, currentPeriod, '04', 'L/C'));\n  result.push(getBarChartRow(data, currentPeriod, '05', 'Vay thấu chi'));\n\n  return result;\n\n}\n\nconst getBarChartRow = (\n  data: ReportItem[],\n  period: number,\n  dataType: string,\n  category: string,\n): Efm06BarChartData => {\n  const totalData = data.filter(x => x.period === period && x.reportType === `2${dataType}`);\n  const balanceData = data.filter(x => x.period === period && x.reportType === `3${dataType}`);\n  const totalVal = totalData.map(x => x.accumulation).reduce((acc, val) => acc + val, 0);\n  const balanceVal = balanceData.map(x => x.accumulation).reduce((acc, val) => acc + val, 0);\n\n  const item: Efm06BarChartData = {\n    name: category,\n    total: totalVal,\n    balance: balanceVal,\n    remaining: totalVal - balanceVal,\n  }\n\n  return item;\n}\n\nconst getPieChartRow = (\n  data: ReportItem[],\n  period: number,\n  dataType: string,\n  category: string,\n): Efm06PieChartData => {\n  const totalData = data.filter(x => x.period === period && x.reportType === `5${dataType}`);\n  const totalVal = totalData.map(x => x.accumulation).reduce((acc, val) => acc + val, 0);\n\n  const item: Efm06PieChartData = {\n    name: category,\n    value: totalVal,\n  }\n\n  return item;\n}\n\nconst helpers = {\n  getSCurveChartData,\n  getPieChartData,\n  getBarChartData,\n}\n\nexport default helpers;","import React from 'react';\nimport { useTheme } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport {\n  Typography,\n} from '@material-ui/core';\nimport {\n  ResponsiveContainer,\n  BarChart as BarChartRC,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n} from 'recharts';\n\nimport format from '../../../../configs/format';\nimport { chartColorPalettes } from '../../constants/colors';\n\nimport { Efm06BarChartData } from '../../common/efm06Helpers';\n\ntype Props = {\n  title: string;\n  data: Efm06BarChartData[];\n}\n\nconst tickValueFormatter = (value: number) => format.formatMoney(value / 1000000000);\n\nconst tooltipFormatter = (value: number) => {\n  return `${format.formatMoney(value / 1000000000)} tỷ VND`;\n}\n\nexport default function Efm06BarChart({\n  title,\n  data,\n}: Props): JSX.Element {\n  const theme = useTheme();\n  const matches = useMediaQuery(theme.breakpoints.down('xs'));\n\n  const [\n    totalColor,\n    balanceColor,\n    remainingColor,\n  ] = chartColorPalettes;\n\n  return (\n    <div style={{ width: '100%' }}>\n      <Typography align=\"center\" variant=\"h6\">{title}</Typography>\n      <div style={{ width: '100%', height: 280, padding: '8px' }}>\n        <ResponsiveContainer>\n          <BarChartRC\n            barCategoryGap={5}\n            barGap={0}\n            data={data}\n            stackOffset=\"expand\"\n            margin={{\n              top: 0, right: 0, left: 0, bottom: 0,\n            }}\n          >\n            <CartesianGrid strokeDasharray=\"3 3\" />\n            <XAxis dataKey=\"name\" type=\"category\" scale=\"band\" />\n            <YAxis\n              type=\"number\"\n              mirror={matches}\n              tickFormatter={tickValueFormatter}\n            />\n            <Tooltip formatter={tooltipFormatter} />\n            <Bar\n              isAnimationActive={false}\n              dataKey=\"total\"\n              name=\"Hạn mức tín dụng cập nhật\"\n              fill={totalColor}\n            />\n            <Bar\n              isAnimationActive={false}\n              dataKey=\"balance\"\n              name=\"Số dư tín dụng\"\n              fill={balanceColor}\n            />\n            <Bar\n              isAnimationActive={false}\n              dataKey=\"remaining\"\n              name=\"Hạn mức tín dụng còn lại\"\n              fill={remainingColor}\n            />\n          </BarChartRC>\n        </ResponsiveContainer>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport {\n  Typography,\n} from '@material-ui/core';\nimport {\n  ResponsiveContainer,\n  PieChart as REPieChart,\n  Pie,\n  Cell,\n  Tooltip,\n  Legend,\n} from 'recharts';\nimport format from '../../../../configs/format';\nimport { chartColorPalettes } from '../../constants/colors';\n\nimport { Efm06PieChartData } from '../../common/efm06Helpers';\n\ntype Props = {\n  title: string;\n  data: Efm06PieChartData[];\n}\n\nexport default function Efm06PieChart({\n  title,\n  data,\n}: Props): JSX.Element {\n\n  const tooltipFormatter = (value: number) => {\n    const total = data.map(x => x.value).reduce((acc, val) => acc + val, 0);\n    return `${format.formatMoney(value / 1000000000)} tỷ VND (${format.formatMoney(value / total * 100, 0)}%)`;\n  }\n\n  return (\n    <div style={{ width: '100%' }}>\n      <Typography align=\"center\" variant=\"h6\">{title}</Typography>\n      <div style={{ width: '100%', height: 280, padding: '8px' }}>\n        <ResponsiveContainer>\n          <REPieChart>\n            <Legend />\n            <Tooltip formatter={tooltipFormatter} />\n            <Pie isAnimationActive={false} data={data} dataKey=\"value\" nameKey=\"name\" cx=\"50%\" cy=\"50%\" outerRadius={100}>\n              {\n                data.map((_entry, index) => (\n                  <Cell key={`cell-${index}`} fill={chartColorPalettes[index]} />\n                ))\n              }\n            </Pie>\n          </REPieChart>\n        </ResponsiveContainer>\n      </div>\n    </div>\n  );\n}","import React from 'react';\nimport { useTheme } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport {\n  Typography,\n} from '@material-ui/core';\nimport {\n  ResponsiveContainer,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  ComposedChart,\n  Legend,\n  Line,\n} from 'recharts';\n\nimport format from '../../../../configs/format';\nimport { chartColorPalettes } from '../../constants/colors';\n\nimport { renderSplitLine } from '../common';\nimport { Efm06SCurveChartData } from '../../common/efm06Helpers';\n\ntype Props = {\n  title: string;\n  data: Efm06SCurveChartData[];\n}\n\nconst tickFormatter = (value: number) => format.formatMoney(value / 1000000000);\n\nconst tooltipFormatter = (value: number) => {\n  return `${format.formatMoney(value / 1000000000)} tỷ VND`;\n}\n\nexport default function Efm06SCurveChart({\n  title,\n  data,\n}: Props): JSX.Element {\n  const theme = useTheme();\n  const matches = useMediaQuery(theme.breakpoints.down('xs'));\n\n  const [\n    depositColor,\n    creditColor,\n    balanceColor,\n  ] = chartColorPalettes;\n\n  return (\n    <div style={{ width: '100%' }}>\n      <Typography align=\"center\" variant=\"h6\">{title}</Typography>\n      <div style={{ width: '100%', height: 280, padding: '8px' }}>\n        <ResponsiveContainer>\n          <ComposedChart\n            barCategoryGap={5}\n            barGap={0}\n            data={data}\n            margin={{\n              top: 0, right: 0, bottom: 0, left: 0,\n            }}\n          >\n            <CartesianGrid stroke=\"#f5f5f5\" />\n            <XAxis dataKey=\"period\" type=\"category\" scale=\"band\" />\n            <YAxis\n              type=\"number\"\n              mirror={matches}\n              yAxisId={0}\n              tickFormatter={tickFormatter}\n            />\n            <YAxis\n              type=\"number\"\n              mirror={matches}\n              yAxisId={1}\n              orientation=\"right\"\n              tickFormatter={tickFormatter}\n            />\n            <Tooltip formatter={tooltipFormatter} />\n            <Legend />\n            <Bar\n              isAnimationActive={false}\n              name=\"Tổng tiền gửi\"\n              yAxisId={0}\n              dataKey=\"deposit\"\n              fill={depositColor}\n            />\n            <Bar\n              isAnimationActive={false}\n              name=\"Tổng tiền vay\"\n              yAxisId={0}\n              dataKey=\"credit\"\n              fill={creditColor}\n            />\n            <Line\n              isAnimationActive={false}\n              name=\"Vay ròng\"\n              yAxisId={1}\n              type=\"linear\"\n              dataKey=\"balance\"\n              dot={{ r: 4, stroke: balanceColor, strokeWidth: 2 }}\n              activeDot={{ r: 6, fill: balanceColor }}\n              stroke={balanceColor}\n              strokeWidth={3}\n            />\n            {renderSplitLine()}\n          </ComposedChart>\n        </ResponsiveContainer>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n  Typography,\n  Grid,\n} from '@material-ui/core';\nimport {\n  DownloadButton,\n} from '@nvdunginest/emis-mui';\n\nimport {\n  AppDispatch,\n  alertActions,\n  alertMessage,\n  loadingActions,\n} from '../../../core';\n\nimport efmService, { BankReport } from '../services/efm';\n\nimport dataProvider from '../common/efm06Helpers';\n\nimport Efm06BarChart from '../components/efm06/Efm06BarChart';\nimport Efm06PieChart from '../components/efm06/Efm06PieChart';\nimport Efm06SCurveChart from '../components/efm06/Efm06SCurveChart';\n\nconst useStyles = makeStyles((theme) => ({\n  content: {\n    display: 'flex',\n    height: 'calc(100% - 32px)',\n    flexDirection: 'column',\n    alignItems: 'center',\n    margin: theme.spacing(-1),\n    [theme.breakpoints.down('xs')]: {\n      margin: 0,\n      height: 'calc(100% - 48px)',\n    },\n  },\n  menu: {\n    display: 'flex',\n    width: '100%',\n  },\n  title: {\n    flexGrow: 1,\n    textTransform: 'uppercase',\n  },\n  link: {\n    textDecoration: 'none',\n  },\n}));\n\nexport default function Efm06(): JSX.Element {\n  const classes = useStyles();\n  const dispatch: AppDispatch = useDispatch();\n  const [report, setReport] = React.useState<BankReport[]>([]);\n\n  const refresh = async () => {\n    dispatch(loadingActions.show());\n    try {\n      setReport(await efmService.getEfm06Report());\n    }\n    catch {\n      dispatch(alertActions.show(alertMessage.FETCH_FAILURE, 'error'));\n      setReport([]);\n    }\n    finally {\n      dispatch(loadingActions.hide());\n    }\n  }\n\n  React.useEffect(() => {\n    refresh();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <div className={classes.content}>\n      <Grid container spacing={1} style={{ padding: '8px' }}>\n        <Grid container alignItems=\"center\" item spacing={1} xs={12} className={classes.menu}>\n          <Grid item className={classes.title}>\n            <Typography variant=\"h6\">Báo cáo Tiền gửi</Typography>\n          </Grid>\n          <Grid item>\n            <DownloadButton\n              filename=\"Efm06.xlsx\"\n              url=\"/api/ebi/efm/get-excel?report=efm06\"\n              label=\"Tải báo cáo\"\n            />\n          </Grid>\n        </Grid>\n        {report.length > 0 && (\n          <>\n            <Grid item xs={12} md={6}>\n              <Efm06BarChart\n                title=\"Hạn mức tín dụng tại tháng báo cáo\"\n                data={dataProvider.getBarChartData(report)}\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <Efm06PieChart\n                title=\"Cơ cấu tiền gửi tại tháng báo cáo\"\n                data={dataProvider.getPieChartData(report)}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <Efm06SCurveChart\n                title=\"Tiền gửi - Tiền vay - Vay ròng tại tháng báo cáo\"\n                data={dataProvider.getSCurveChartData(report)}\n              />\n            </Grid>\n          </>\n        )}\n      </Grid>\n    </div>\n  )\n}","import React from 'react';\nimport {\n  DashboardForm\n} from '@nvdunginest/emis-mui';\n\nconst pageText = 'BÁO CÁO CÂN ĐỐI CF';\n\nexport default function Efm07(): JSX.Element {\n  return <DashboardForm text={pageText} />\n}","import { ProjectReport } from '../services/efm';\nimport { ReportItem } from '../services/types';\nimport {\n  getCurrentPeriod,\n  getFiscalYear,\n  getPeriodLabel,\n  getPeriodsByFiscalYear,\n} from './helpers';\n\nexport type Efm08AreaChartData = {\n  period: string;\n  inDue: number | null;\n  outDue1: number | null;\n  outDue31: number | null;\n  outDue91: number | null;\n  outDue181: number | null;\n}\n\nexport type Efm08MixedChartData = {\n  projectCode: string;\n  projectName: string;\n  inDue: number;\n  outDue1: number;\n  outDue31: number;\n  outDue91: number;\n  outDue181: number;\n  outDueRatio: number;\n}\n\nconst getAreaChartData = (\n  dataType: '1' | '2',\n  report: ProjectReport[],\n): Efm08AreaChartData[] => {\n\n  const fiscalYear = getFiscalYear();\n  const periods = getPeriodsByFiscalYear(fiscalYear);\n  const currentPeriod = getCurrentPeriod();\n\n  const data: ReportItem[] = [];\n  report.map(b => {\n    data.push(...b.data);\n    return true;\n  });\n\n  return periods.map(period => {\n    const periodData = data.filter(x => x.period === period);\n\n    const inDueVal = periodData\n      .filter(x => x.reportType === `${dataType}01`)\n      .map(x => x.accumulation)\n      .reduce((acc, val) => acc + val, 0);\n\n    const outDue1Val = periodData\n      .filter(x => x.reportType === `${dataType}02`)\n      .map(x => x.accumulation)\n      .reduce((acc, val) => acc + val, 0);\n\n    const outDue31Val = periodData\n      .filter(x => x.reportType === `${dataType}03`)\n      .map(x => x.accumulation)\n      .reduce((acc, val) => acc + val, 0);\n\n    const outDue91Val = periodData\n      .filter(x => x.reportType === `${dataType}04`)\n      .map(x => x.accumulation)\n      .reduce((acc, val) => acc + val, 0);\n\n    const outDue181Val = periodData\n      .filter(x => x.reportType === `${dataType}05`)\n      .map(x => x.accumulation)\n      .reduce((acc, val) => acc + val, 0);\n\n\n    const row: Efm08AreaChartData = {\n      period: getPeriodLabel(period),\n      inDue: currentPeriod >= period ? inDueVal : null,\n      outDue1: currentPeriod >= period ? outDue1Val : null,\n      outDue31: currentPeriod >= period ? outDue31Val : null,\n      outDue91: currentPeriod >= period ? outDue91Val : null,\n      outDue181: currentPeriod >= period ? outDue181Val : null,\n    }\n\n    return row;\n  });\n}\n\nconst getMixedChartData = (\n  dataType: '1' | '2',\n  report: ProjectReport[],\n): Efm08MixedChartData[] => {\n\n  const currentPeriod = getCurrentPeriod();\n\n  const data: Efm08MixedChartData[] = report.map(project => {\n    const periodData = project.data.filter(x => x.period === currentPeriod);\n\n    const inDueVal = periodData\n      .filter(x => x.reportType === `${dataType}01`)\n      .map(x => x.accumulation)\n      .reduce((acc, val) => acc + val, 0);\n\n    const outDue1Val = periodData\n      .filter(x => x.reportType === `${dataType}02`)\n      .map(x => x.accumulation)\n      .reduce((acc, val) => acc + val, 0);\n\n    const outDue31Val = periodData\n      .filter(x => x.reportType === `${dataType}03`)\n      .map(x => x.accumulation)\n      .reduce((acc, val) => acc + val, 0);\n\n    const outDue91Val = periodData\n      .filter(x => x.reportType === `${dataType}04`)\n      .map(x => x.accumulation)\n      .reduce((acc, val) => acc + val, 0);\n\n    const outDue181Val = periodData\n      .filter(x => x.reportType === `${dataType}05`)\n      .map(x => x.accumulation)\n      .reduce((acc, val) => acc + val, 0);\n\n    const totalVal = (inDueVal + outDue1Val + outDue31Val + outDue91Val + outDue181Val);\n    const outDueVal = (outDue1Val + outDue31Val + outDue91Val + outDue181Val);\n\n    const outDueRatio = totalVal === 0 ? 0 : outDueVal / totalVal * 100;\n\n\n    const row: Efm08MixedChartData = {\n      projectCode: project.projectCode,\n      projectName: project.projectName,\n      inDue: inDueVal,\n      outDue1: outDue1Val,\n      outDue31: outDue31Val,\n      outDue91: outDue91Val,\n      outDue181: outDue181Val,\n      outDueRatio: outDueRatio,\n    }\n\n    return row;\n  });\n\n  return data.sort(sortProject).slice(0, 5);\n}\n\nconst sortProject = (a: Efm08MixedChartData, b: Efm08MixedChartData): number => {\n  if (a.outDueRatio > b.outDueRatio) return -1;\n  if (a.outDueRatio < b.outDueRatio) return 1;\n\n  const totalA = (a.inDue + a.outDue1 + a.outDue31 + a.outDue91 + a.outDue181);\n  const totalB = (b.inDue + b.outDue1 + b.outDue31 + b.outDue91 + b.outDue181);\n  if (totalA > totalB) return -1;\n  if (totalA < totalB) return 1;\n\n  return 0;\n}\n\nconst helpers = {\n  getAreaChartData,\n  getMixedChartData,\n}\n\nexport default helpers;","import React from \"react\";\nimport { useTheme } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport {\n  Typography,\n} from '@material-ui/core';\nimport {\n  ResponsiveContainer,\n  ComposedChart,\n  Area,\n  XAxis,\n  YAxis,\n  Tooltip,\n  Legend,\n} from 'recharts';\n\nimport format from '../../../../configs/format';\nimport { chartColorPalettes } from '../../constants/colors';\nimport { renderSplitLine } from '../common';\n\nimport { Efm08AreaChartData } from '../../common/efm08Helpers';\n\ntype Props = {\n  title: string;\n  data: Efm08AreaChartData[];\n}\n\nexport default function Efm08AreaChart({\n  title,\n  data,\n}: Props): JSX.Element {\n  const theme = useTheme();\n  const matches = useMediaQuery(theme.breakpoints.down('xs'));\n\n  const [\n    inDueColor,\n    outDue1Color,\n    outDue31Color,\n    outDue91Color,\n    outDue181Color,\n  ] = chartColorPalettes;\n\n  const tickFormatter = (value: number) => format.formatMoney(value / 1000000000);\n  const tooltipFormatter = (value: number) => `${format.formatMoney(value / 1000000000)} tỷ VND`;\n\n  return (\n    <div style={{ width: '100%' }}>\n      <Typography align=\"center\" variant=\"h6\">{title}</Typography>\n      <div style={{ width: '100%', height: 280, padding: '8px' }}>\n        <ResponsiveContainer>\n          <ComposedChart\n            data={data}\n            margin={{\n              top: 0, right: 0, bottom: 0, left: 0,\n            }}\n          >\n            <XAxis dataKey=\"period\" type=\"category\" scale=\"band\" />\n            <YAxis type=\"number\" mirror={matches} tickFormatter={tickFormatter} />\n            <Tooltip formatter={tooltipFormatter} />\n            <Legend />\n            <Area\n              isAnimationActive={false}\n              name=\"Trong hạn\"\n              type=\"monotone\"\n              dataKey=\"inDue\"\n              stackId={1}\n              stroke={inDueColor}\n              fill={inDueColor}\n            />\n            <Area\n              isAnimationActive={false}\n              name=\"Quá hạn 1-30 ngày\"\n              type=\"monotone\"\n              dataKey=\"outDue1\"\n              stackId={1}\n              stroke={outDue1Color}\n              fill={outDue1Color}\n            />\n            <Area\n              isAnimationActive={false}\n              name=\"Quá hạn 31-90 ngày\"\n              type=\"monotone\"\n              dataKey=\"outDue31\"\n              stackId={1}\n              stroke={outDue31Color}\n              fill={outDue31Color}\n            />\n            <Area\n              isAnimationActive={false}\n              name=\"Quá hạn 91-180 ngày\"\n              type=\"monotone\"\n              dataKey=\"outDue91\"\n              stackId={1}\n              stroke={outDue91Color}\n              fill={outDue91Color}\n            />\n            <Area\n              isAnimationActive={false}\n              name=\"Quá hạn trên 181 ngày\"\n              type=\"monotone\"\n              dataKey=\"outDue181\"\n              stackId={1}\n              stroke={outDue181Color}\n              fill={outDue181Color}\n            />\n            {renderSplitLine()}\n          </ComposedChart>\n        </ResponsiveContainer>\n      </div>\n    </div>\n  );\n}","import React from 'react';\nimport { useTheme } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport {\n  Typography,\n} from '@material-ui/core';\nimport {\n  ResponsiveContainer,\n  ComposedChart,\n  Line,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n} from 'recharts';\nimport format from '../../../../configs/format';\nimport { chartColorPalettes } from '../../constants/colors';\n\nimport { Efm08MixedChartData } from '../../common/efm08Helpers';\n\ntype Props = {\n  title: string;\n  data: Efm08MixedChartData[];\n}\n\nexport default function Efm08MixedChart({\n  title,\n  data,\n}: Props): JSX.Element {\n  const theme = useTheme();\n  const matches = useMediaQuery(theme.breakpoints.down('xs'));\n\n  const [\n    inDueColor,\n    outDue1Color,\n    outDue31Color,\n    outDue91Color,\n    outDue181Color,\n    outDueRatioColor,\n  ] = chartColorPalettes;\n\n  const tickFormatter = (value: number) => format.formatMoney(value / 1000000000);\n  const tickRatioFormatter = (value: number) => format.formatMoney(value, 1);\n  const tooltipFormatter = (value: number, name: string) => {\n    if (name === 'Tỷ lệ quá hạn') {\n      return `${format.formatMoney(value, 1)}%`;\n    }\n    return `${format.formatMoney(value / 1000000000)} tỷ VND`;\n  }\n  const tooltipLabelFormatter = (label: string) => {\n    const project = data.find(x => x.projectCode === label);\n    if (project !== undefined) {\n      return `${project.projectCode} - ${project.projectName}`\n    }\n\n    return label;\n  }\n\n  return (\n    <div style={{ width: '100%' }}>\n      <Typography align=\"center\" variant=\"h6\">{title}</Typography>\n      <div style={{ width: '100%', height: 280, padding: '8px' }}>\n        <ResponsiveContainer>\n          <ComposedChart\n            barCategoryGap={5}\n            barGap={0}\n            data={data}\n            margin={{\n              top: 0, right: 0, bottom: 0, left: 0,\n            }}\n          >\n            <CartesianGrid stroke=\"#f5f5f5\" />\n            <XAxis dataKey=\"projectCode\" type=\"category\" scale=\"band\" />\n            <YAxis\n              type=\"number\"\n              mirror={matches}\n              yAxisId={0}\n              tickFormatter={tickFormatter}\n            />\n            <YAxis\n              type=\"number\"\n              mirror={matches}\n              yAxisId={1}\n              orientation=\"right\"\n              tickFormatter={tickRatioFormatter}\n            />\n            <Tooltip\n              labelFormatter={tooltipLabelFormatter}\n              formatter={tooltipFormatter} />\n            <Legend />\n            <Bar\n              isAnimationActive={false}\n              name=\"Trong hạn\"\n              dataKey=\"inDue\"\n              yAxisId={0}\n              stackId={1}\n              fill={inDueColor}\n            />\n            <Bar\n              isAnimationActive={false}\n              name=\"Quá hạn 1-30 ngày\"\n              dataKey=\"outDue1\"\n              yAxisId={0}\n              stackId={1}\n              fill={outDue1Color}\n            />\n            <Bar\n              isAnimationActive={false}\n              name=\"Quá hạn 31-90 ngày\"\n              dataKey=\"outDue31\"\n              yAxisId={0}\n              stackId={1}\n              fill={outDue31Color}\n            />\n            <Bar\n              isAnimationActive={false}\n              name=\"Quá hạn 91-180 ngày\"\n              dataKey=\"outDue91\"\n              yAxisId={0}\n              stackId={1}\n              fill={outDue91Color}\n            />\n            <Bar\n              isAnimationActive={false}\n              name=\"Quá hạn trên 181 ngày\"\n              dataKey=\"outDue181\"\n              yAxisId={0}\n              stackId={1}\n              fill={outDue181Color}\n            />\n\n            <Line\n              isAnimationActive={false}\n              name=\"Tỷ lệ quá hạn\"\n              yAxisId={1}\n              type=\"linear\"\n              dataKey=\"outDueRatio\"\n              dot={{ r: 4, stroke: outDueRatioColor, strokeWidth: 2 }}\n              activeDot={{ r: 6, fill: outDueRatioColor }}\n              stroke={outDueRatioColor}\n              strokeWidth={3}\n            />\n          </ComposedChart>\n        </ResponsiveContainer>\n      </div>\n    </div>\n  );\n}","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n  Typography,\n  Grid,\n} from '@material-ui/core';\nimport {\n  DownloadButton,\n} from '@nvdunginest/emis-mui';\n\nimport {\n  AppDispatch,\n  alertActions,\n  alertMessage,\n  loadingActions,\n} from '../../../core';\n\nimport efmService, { ProjectReport } from '../services/efm';\n\nimport dataProvider from '../common/efm08Helpers';\n\nimport Efm08AreaChart from '../components/efm08/Efm08AreaChart';\nimport Efm08MixedChart from '../components/efm08/Efm08MixedChart';\n\nconst useStyles = makeStyles((theme) => ({\n  content: {\n    display: 'flex',\n    height: 'calc(100% - 32px)',\n    flexDirection: 'column',\n    alignItems: 'center',\n    margin: theme.spacing(-1),\n    [theme.breakpoints.down('xs')]: {\n      margin: 0,\n      height: 'calc(100% - 48px)',\n    },\n  },\n  menu: {\n    display: 'flex',\n    width: '100%',\n  },\n  title: {\n    flexGrow: 1,\n    textTransform: 'uppercase',\n  },\n  link: {\n    textDecoration: 'none',\n  },\n}));\n\nexport default function Efm08(): JSX.Element {\n  const classes = useStyles();\n  const dispatch: AppDispatch = useDispatch();\n  const [report, setReport] = React.useState<ProjectReport[]>([]);\n\n  const refresh = async () => {\n    dispatch(loadingActions.show());\n    try {\n      setReport(await efmService.getEfm08Report());\n    }\n    catch {\n      dispatch(alertActions.show(alertMessage.FETCH_FAILURE, 'error'));\n      setReport([]);\n    }\n    finally {\n      dispatch(loadingActions.hide());\n    }\n  }\n\n  React.useEffect(() => {\n    refresh();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <div className={classes.content}>\n      <Grid container spacing={1} style={{ padding: '8px' }}>\n        <Grid container alignItems=\"center\" item spacing={1} xs={12} className={classes.menu}>\n          <Grid item className={classes.title}>\n            <Typography variant=\"h6\">Báo cáo Tuổi nợ</Typography>\n          </Grid>\n          <Grid item>\n            <DownloadButton\n              filename=\"Efm08.xlsx\"\n              url=\"/api/ebi/efm/get-excel?report=efm08\"\n              label=\"Tải báo cáo\"\n            />\n          </Grid>\n        </Grid>\n        {report.length > 0 && (\n          <>\n            <Grid item xs={12}>\n              <Efm08AreaChart\n                title=\"Tình trạng quá hạn Phải thu trong ngắn hạn\"\n                data={dataProvider.getAreaChartData('1', report)}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <Efm08AreaChart\n                title=\"Tình trạng quá hạn Phải thu retention\"\n                data={dataProvider.getAreaChartData('2', report)}\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <Efm08MixedChart\n                title=\"Top 5 dự án quá hạn Phải thu trong ngắn hạn lớn\"\n                data={dataProvider.getMixedChartData('1', report)}\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <Efm08MixedChart\n                title=\"Top 5 dự án quá hạn Phải thu retention lớn\"\n                data={dataProvider.getMixedChartData('2', report)}\n              />\n            </Grid>\n          </>\n        )}\n      </Grid>\n    </div>\n  )\n}","import React from 'react';\nimport {\n  DashboardForm\n} from '@nvdunginest/emis-mui';\n\nconst pageText = 'BÁO CÁO KPI CÔNG TY';\n\nexport default function Efm09(): JSX.Element {\n  return <DashboardForm text={pageText} />\n}","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n  Grid,\n  Typography,\n} from '@material-ui/core';\n\nimport {\n  AppDispatch,\n  alertActions,\n  alertMessage,\n  loadingActions,\n} from '../../../core';\n\nimport userService from '../services/user';\nimport { reportList } from '../constants/report';\n\nconst colors = [\n  '#0D6EFD',\n  '#198754',\n  '#FFC107',\n  '#DC3545',\n  '#0DCAF0',\n  '#6C757D',\n]\nconst colorPalettes = [\n  ...colors,\n  ...colors,\n  ...colors,\n  ...colors,\n  ...colors,\n];\n\nconst useStyles = makeStyles(() => ({\n  box: {\n    padding: 8,\n    cursor: 'pointer',\n    '&:hover': {\n      backgroundColor: '#bcc3cf',\n    },\n  },\n  link: {\n    display: 'flex',\n    flexDirection: 'row',\n    textDecoration: 'none',\n    color: 'black',\n  },\n}));\n\nexport default function Enterprise(): JSX.Element {\n  const classes = useStyles();\n  const dispatch: AppDispatch = useDispatch();\n  const [permissions, setPermissions] = React.useState<boolean[]>([]);\n\n  React.useEffect(() => {\n    dispatch(loadingActions.show());\n    Promise.all([\n      userService.checkRolePermission('EFM01_ROLE'),\n      userService.checkRolePermission('EFM02_ROLE'),\n      userService.checkRolePermission('EFM03_ROLE'),\n      userService.checkRolePermission('EFM04_ROLE'),\n      userService.checkRolePermission('EFM05_ROLE'),\n      userService.checkRolePermission('EFM06_ROLE'),\n      userService.checkRolePermission('EFM07_ROLE'),\n      userService.checkRolePermission('EFM08_ROLE'),\n      userService.checkRolePermission('EFM09_ROLE'),\n      userService.checkRolePermission('PFM03_ROLE'),\n    ])\n      .then((data) => {\n        setPermissions(data);\n      })\n      .catch(() => {\n        setPermissions([]);\n        dispatch(alertActions.show(alertMessage.FETCH_FAILURE, 'error'));\n      })\n      .finally(() => {\n        dispatch(loadingActions.hide());\n      })\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  return (\n    <Grid container spacing={2} style={{ padding: 8 }}>\n      {permissions.map((p, index) => p && (\n        <Grid\n          key={index}\n          item xs={12}\n          sm={6}\n          md={3}\n          className={classes.box}\n        >\n          <Link to={reportList[index].link} className={classes.link}>\n            <div style={{\n              display: 'flex',\n              justifyContent: 'center',\n              alignItems: 'center',\n              color: 'white',\n              backgroundColor: colorPalettes[index],\n              height: '50px',\n              width: '50px',\n              borderRadius: '10px',\n              marginRight: 8,\n            }}>\n              <FontAwesomeIcon style={{ fontSize: '1.8rem' }} icon={reportList[index].icon} />\n            </div>\n            <div style={{\n              flexGrow: 1,\n            }}>\n              <Typography noWrap variant=\"body1\" style={{ fontWeight: 'bold' }}>{reportList[index].name}</Typography>\n              <Typography noWrap variant=\"subtitle2\">{reportList[index].text}</Typography>\n            </div>\n          </Link>\n        </Grid>\n      ))\n      }\n    </Grid >\n  )\n}\n","import axios from 'axios';\n\nconst apiUrl = '/api/project-system/projects';\n\nexport type ProjectModel = {\n  code: string;\n  name: string;\n}\n\nfunction getAll(): Promise<ProjectModel[]> {\n  return axios.get(apiUrl);\n}\n\nfunction get(projectCode: string): Promise<ProjectModel> {\n  return axios.get(`${apiUrl}/${projectCode}`);\n}\n\nconst service = {\n  getAll,\n  get,\n};\n\nexport default service;\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n  Typography,\n  Grid,\n} from '@material-ui/core';\nimport {\n  DownloadButton,\n} from '@nvdunginest/emis-mui';\n\nimport {\n  AppDispatch,\n  alertActions,\n  alertMessage,\n  loadingActions,\n} from '../../../core';\n\nimport projectService, {\n  ProjectModel,\n} from '../services/project';\n\nconst useStyles = makeStyles((theme) => ({\n  content: {\n    display: 'flex',\n    height: 'calc(100% - 32px)',\n    flexDirection: 'column',\n    alignItems: 'center',\n    margin: theme.spacing(-1),\n    [theme.breakpoints.down('xs')]: {\n      margin: 0,\n      height: 'calc(100% - 48px)',\n    },\n  },\n  menu: {\n    display: 'flex',\n    width: '100%',\n  },\n  title: {\n    flexGrow: 1,\n    textTransform: 'uppercase',\n  },\n  link: {\n    textDecoration: 'none',\n  },\n}));\n\nexport default function Efm02(): JSX.Element {\n  const classes = useStyles();\n  const dispatch: AppDispatch = useDispatch();\n  const [projects, setProjects] = React.useState<ProjectModel[]>([]);\n\n  const refresh = async () => {\n    dispatch(loadingActions.show());\n    try {\n      setProjects(await projectService.getAll());\n    }\n    catch {\n      dispatch(alertActions.show(alertMessage.FETCH_FAILURE, 'error'));\n    }\n    finally {\n      dispatch(loadingActions.hide());\n    }\n  }\n\n  React.useEffect(() => {\n    refresh();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <div className={classes.content}>\n      <Grid container spacing={1} style={{ padding: '8px' }}>\n        <Grid container alignItems=\"center\" item spacing={1} className={classes.menu} xs={12}>\n          <Grid item className={classes.title}>\n            <Typography variant=\"h6\">Báo cáo SL-DT-TV Dự án</Typography>\n          </Grid>\n        </Grid>\n        {projects.map(p => (\n          <Grid key={p.code} item xs={12}>\n            <Typography variant=\"h6\">{`${p.code} - ${p.name}`}</Typography>\n            <DownloadButton\n              filename={`Pfm03_${p.code}.xlsx`}\n              url={`/api/ebi/pfm03/getExcel?projectCode=${p.code}`}\n              label=\"Tải báo cáo\"\n            />\n          </Grid>\n        ))}\n      </Grid>\n    </div>\n  )\n}","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n  Typography,\n  Grid,\n} from '@material-ui/core';\nimport {\n  DownloadButton,\n} from '@nvdunginest/emis-mui';\n\nimport {\n  AppDispatch,\n  alertActions,\n  alertMessage,\n  loadingActions,\n} from '../../../core';\n\nimport viewerService, {\n  ViewerModel,\n} from '../services/reportViewer';\n\nconst useStyles = makeStyles((theme) => ({\n  content: {\n    display: 'flex',\n    height: 'calc(100% - 32px)',\n    flexDirection: 'column',\n    alignItems: 'center',\n    margin: theme.spacing(-1),\n    [theme.breakpoints.down('xs')]: {\n      margin: 0,\n      height: 'calc(100% - 48px)',\n    },\n  },\n  menu: {\n    display: 'flex',\n    width: '100%',\n  },\n  title: {\n    flexGrow: 1,\n    textTransform: 'uppercase',\n  },\n  link: {\n    textDecoration: 'none',\n  },\n}));\n\nexport default function Pfm02Hub(): JSX.Element {\n  const classes = useStyles();\n  const dispatch: AppDispatch = useDispatch();\n  const [projects, setProjects] = React.useState<ViewerModel[]>([]);\n\n  const refresh = async () => {\n    dispatch(loadingActions.show());\n    try {\n      setProjects(await viewerService.getPermission('pfm02'));\n    }\n    catch {\n      dispatch(alertActions.show(alertMessage.FETCH_FAILURE, 'error'));\n    }\n    finally {\n      dispatch(loadingActions.hide());\n    }\n  }\n\n  React.useEffect(() => {\n    refresh();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <div className={classes.content}>\n      <Grid container spacing={1} style={{ padding: '8px' }}>\n        <Grid container alignItems=\"center\" item spacing={1} className={classes.menu} xs={12}>\n          <Grid item className={classes.title}>\n            <Typography variant=\"h6\">Báo cáo CPTC ròng Dự án</Typography>\n          </Grid>\n        </Grid>\n        {projects.map(p => (\n          <Grid key={p.projectCode} item xs={12}>\n            <Typography variant=\"h6\">{`${p.projectCode} - ${p.projectName}`}</Typography>\n            <DownloadButton\n              filename={`Pfm02_${p.projectCode}.xlsx`}\n              url={`/api/ebi/pfm02/getExcel?projectCode=${p.projectCode}`}\n              label=\"Tải báo cáo\"\n            />\n          </Grid>\n        ))}\n      </Grid>\n    </div>\n  )\n}","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n  Typography,\n  Grid,\n} from '@material-ui/core';\nimport {\n  DownloadButton,\n} from '@nvdunginest/emis-mui';\n\nimport {\n  AppDispatch,\n  alertActions,\n  alertMessage,\n  loadingActions,\n} from '../../../core';\n\nimport viewerService, {\n  ViewerModel,\n} from '../services/reportViewer';\n\nconst useStyles = makeStyles((theme) => ({\n  content: {\n    display: 'flex',\n    height: 'calc(100% - 32px)',\n    flexDirection: 'column',\n    alignItems: 'center',\n    margin: theme.spacing(-1),\n    [theme.breakpoints.down('xs')]: {\n      margin: 0,\n      height: 'calc(100% - 48px)',\n    },\n  },\n  menu: {\n    display: 'flex',\n    width: '100%',\n  },\n  title: {\n    flexGrow: 1,\n    textTransform: 'uppercase',\n  },\n  link: {\n    textDecoration: 'none',\n  },\n}));\n\nexport default function Pfm03Hub(): JSX.Element {\n  const classes = useStyles();\n  const dispatch: AppDispatch = useDispatch();\n  const [projects, setProjects] = React.useState<ViewerModel[]>([]);\n\n  const refresh = async () => {\n    dispatch(loadingActions.show());\n    try {\n      setProjects(await viewerService.getPermission('pfm03'));\n    }\n    catch {\n      dispatch(alertActions.show(alertMessage.FETCH_FAILURE, 'error'));\n    }\n    finally {\n      dispatch(loadingActions.hide());\n    }\n  }\n\n  React.useEffect(() => {\n    refresh();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <div className={classes.content}>\n      <Grid container spacing={1} style={{ padding: '8px' }}>\n        <Grid container alignItems=\"center\" item spacing={1} className={classes.menu} xs={12}>\n          <Grid item className={classes.title}>\n            <Typography variant=\"h6\">Báo cáo SL-DT-TV Dự án</Typography>\n          </Grid>\n        </Grid>\n        {projects.map(p => (\n          <Grid key={p.projectCode} item xs={12}>\n            <Typography variant=\"h6\">{`${p.projectCode} - ${p.projectName}`}</Typography>\n            <DownloadButton\n              filename={`Pfm03_${p.projectCode}.xlsx`}\n              url={`/api/ebi/pfm03/getExcel?projectCode=${p.projectCode}`}\n              label=\"Tải báo cáo\"\n            />\n          </Grid>\n        ))}\n      </Grid>\n    </div>\n  )\n}","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n  Typography,\n  Grid,\n} from '@material-ui/core';\nimport {\n  DownloadButton,\n} from '@nvdunginest/emis-mui';\n\nimport {\n  AppDispatch,\n  alertActions,\n  alertMessage,\n  loadingActions,\n} from '../../../core';\n\nimport viewerService, {\n  ViewerModel,\n} from '../services/reportViewer';\n\nconst useStyles = makeStyles((theme) => ({\n  content: {\n    display: 'flex',\n    height: 'calc(100% - 32px)',\n    flexDirection: 'column',\n    alignItems: 'center',\n    margin: theme.spacing(-1),\n    [theme.breakpoints.down('xs')]: {\n      margin: 0,\n      height: 'calc(100% - 48px)',\n    },\n  },\n  menu: {\n    display: 'flex',\n    width: '100%',\n  },\n  title: {\n    flexGrow: 1,\n    textTransform: 'uppercase',\n  },\n  link: {\n    textDecoration: 'none',\n  },\n}));\n\nexport default function Pfm04Hub(): JSX.Element {\n  const classes = useStyles();\n  const dispatch: AppDispatch = useDispatch();\n  const [projects, setProjects] = React.useState<ViewerModel[]>([]);\n\n  const refresh = async () => {\n    dispatch(loadingActions.show());\n    try {\n      setProjects(await viewerService.getPermission('pfm04'));\n    }\n    catch {\n      dispatch(alertActions.show(alertMessage.FETCH_FAILURE, 'error'));\n    }\n    finally {\n      dispatch(loadingActions.hide());\n    }\n  }\n\n  React.useEffect(() => {\n    refresh();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <div className={classes.content}>\n      <Grid container spacing={1} style={{ padding: '8px' }}>\n        <Grid container alignItems=\"center\" item spacing={1} className={classes.menu} xs={12}>\n          <Grid item className={classes.title}>\n            <Typography variant=\"h6\">Báo cáo SL-DT-TV Dự án</Typography>\n          </Grid>\n        </Grid>\n        {projects.map(p => (\n          <Grid key={p.projectCode} item xs={12}>\n            <Typography variant=\"h6\">{`${p.projectCode} - ${p.projectName}`}</Typography>\n            <DownloadButton\n              filename={`Pfm04_${p.projectCode}.xlsx`}\n              url={`/api/ebi/pfm04/getExcel?projectCode=${p.projectCode}`}\n              label=\"Tải báo cáo\"\n            />\n          </Grid>\n        ))}\n      </Grid>\n    </div>\n  )\n}","import React from 'react';\nimport {\n  Route,\n  Switch,\n  useRouteMatch,\n} from 'react-router-dom';\n\nimport Dashboard from '../pages/Dashboard';\nimport Efm01 from '../pages/Efm01';\nimport Efm02 from '../pages/Efm02';\nimport Efm03 from '../pages/Efm03';\nimport Efm04 from '../pages/Efm04';\nimport Efm05 from '../pages/Efm05';\nimport Efm06 from '../pages/Efm06';\nimport Efm07 from '../pages/Efm07';\nimport Efm08 from '../pages/Efm08';\nimport Efm09 from '../pages/Efm09';\nimport Enterprise from '../pages/Enterprise';\nimport Pfm03 from '../pages/Pfm03';\nimport Pfm02Hub from '../pages/Pfm02Hub';\nimport Pfm03Hub from '../pages/Pfm03Hub';\nimport Pfm04Hub from '../pages/Pfm04Hub';\n\nexport default function PublicRoutes(): JSX.Element {\n  const { path } = useRouteMatch();\n\n  return (\n    <Switch>\n      <Route path={`${path}/dashboard`} component={Dashboard} />\n      <Route path={`${path}/enterprise`} component={Enterprise} />\n      <Route path={`${path}/efm01`} component={Efm01} />\n      <Route path={`${path}/efm02`} component={Efm02} />\n      <Route path={`${path}/efm03`} component={Efm03} />\n      <Route path={`${path}/efm04`} component={Efm04} />\n      <Route path={`${path}/efm05`} component={Efm05} />\n      <Route path={`${path}/efm06`} component={Efm06} />\n      <Route path={`${path}/efm07`} component={Efm07} />\n      <Route path={`${path}/efm08`} component={Efm08} />\n      <Route path={`${path}/efm09`} component={Efm09} />\n      <Route path={`${path}/pfm03/:projectCode`} component={Pfm03} />\n      <Route exact path={`${path}/pfm02`} component={Pfm02Hub} />\n      <Route exact path={`${path}/pfm03`} component={Pfm03Hub} />\n      <Route exact path={`${path}/pfm04`} component={Pfm04Hub} />\n    </Switch>\n  );\n}\n","import React from 'react';\nimport {\n  Switch,\n  Route,\n  useRouteMatch,\n} from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\n\nimport {\n  AppDispatch,\n  layoutActions,\n} from '../../core';\n\nimport {\n  plugin,\n  checkAdmin,\n\n  menuList,\n  adminMenuList,\n} from './configs';\n\nconst PrivateRoutes = React.lazy(() => import('./routes/PrivateRoutes'));\nimport PublicRoutes from './routes/PublicRoutes';\n\nexport default function Main(): JSX.Element {\n  const { path } = useRouteMatch();\n  const dispatch: AppDispatch = useDispatch();\n\n  const [isAdmin, setIsAdmin] = React.useState(false);\n\n  React.useEffect(() => {\n    dispatch(layoutActions.setActivePluginId(plugin.id));\n    checkAdmin()\n      .then((result) => {\n        setIsAdmin(result);\n      })\n      .catch(() => {\n        setIsAdmin(false);\n      });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  React.useEffect(() => {\n    const adminList = isAdmin ? [...adminMenuList] : [];\n    dispatch(layoutActions.setMenuList([\n      ...menuList,\n      ...adminList,\n    ]));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isAdmin]);\n\n  return (\n    <Switch>\n      {isAdmin && <Route path={`${path}/admin`} component={PrivateRoutes} />}\n      <Route path={`${path}`} component={PublicRoutes} />\n    </Switch>\n  );\n}\n"],"sourceRoot":""}